{"ast":null,"code":"import axios from \"axios\";\nimport store from \"../store\";\nimport { LOGOUT } from \"../actions/types\";\nconst api = axios.create({\n  baseURL: \"/api\",\n  headers: {\n    \"Content-Type\": \"application/json\"\n  }\n});\napi.interceptors.response.use(res => res, err => {\n  if (err.response.status === 401 && err.response.data.msg !== \"Unauthorized User\") {\n    store.dispatch({\n      type: LOGOUT\n    });\n  }\n\n  return Promise.reject(err);\n});\nexport default api;","map":{"version":3,"sources":["C:/Users/melig/OneDrive/Escritorio/prog/Tahoe-drone backend/client/src/utils/api.js"],"names":["axios","store","LOGOUT","api","create","baseURL","headers","interceptors","response","use","res","err","status","data","msg","dispatch","type","Promise","reject"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AAEA,SAASC,MAAT,QAAuB,kBAAvB;AAEA,MAAMC,GAAG,GAAGH,KAAK,CAACI,MAAN,CAAa;AACtBC,EAAAA,OAAO,EAAE,MADa;AAEtBC,EAAAA,OAAO,EAAE;AACN,oBAAgB;AADV;AAFa,CAAb,CAAZ;AAOAH,GAAG,CAACI,YAAJ,CAAiBC,QAAjB,CAA0BC,GAA1B,CACIC,GAAD,IAASA,GADZ,EAEIC,GAAD,IAAS;AACN,MACGA,GAAG,CAACH,QAAJ,CAAaI,MAAb,KAAwB,GAAxB,IACAD,GAAG,CAACH,QAAJ,CAAaK,IAAb,CAAkBC,GAAlB,KAA0B,mBAF7B,EAGE;AACCb,IAAAA,KAAK,CAACc,QAAN,CAAe;AAAEC,MAAAA,IAAI,EAAEd;AAAR,KAAf;AACF;;AACD,SAAOe,OAAO,CAACC,MAAR,CAAeP,GAAf,CAAP;AACF,CAVJ;AAaA,eAAeR,GAAf","sourcesContent":["import axios from \"axios\";\r\nimport store from \"../store\";\r\n\r\nimport { LOGOUT } from \"../actions/types\";\r\n\r\nconst api = axios.create({\r\n   baseURL: \"/api\",\r\n   headers: {\r\n      \"Content-Type\": \"application/json\",\r\n   },\r\n});\r\n\r\napi.interceptors.response.use(\r\n   (res) => res,\r\n   (err) => {\r\n      if (\r\n         err.response.status === 401 &&\r\n         err.response.data.msg !== \"Unauthorized User\"\r\n      ) {\r\n         store.dispatch({ type: LOGOUT });\r\n      }\r\n      return Promise.reject(err);\r\n   }\r\n);\r\n\r\nexport default api;\r\n"]},"metadata":{},"sourceType":"module"}