{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\melig\\\\OneDrive\\\\Escritorio\\\\prog\\\\Tahoe-drone backend\\\\client\\\\src\\\\components\\\\UserField\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { loadUsers, clearUsers } from '../../actions/user';\n\nconst UserField = ({\n  user: {\n    users,\n    loading\n  },\n  selectFinalUser,\n  user\n}) => {\n  _s();\n\n  const [adminValues, setAdminValues] = useState({\n    email: '',\n    searchDisplay: false\n  });\n  const {\n    email,\n    searchDisplay\n  } = adminValues;\n\n  const selectUser = user => {\n    clearUsers();\n    selectFinalUser();\n    setAdminValues(prev => ({ ...prev,\n      email: user.email,\n      searchDisplay: false\n    }));\n  };\n\n  const cancelUser = () => {\n    setAdminValues(prev => ({ ...prev,\n      email: '',\n      searchDisplay: false\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form__group form-search\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"form__input\",\n      type: \"text\",\n      value: email,\n      disabled: user !== '',\n      name: \"email\",\n      id: \"email\",\n      autoComplete: \"off\",\n      onFocus: () => setAdminValues(prev => ({ ...prev,\n        searchDisplay: true\n      })),\n      onChange: e => {\n        setAdminValues(prev => ({ ...prev,\n          email: e.target.value\n        }));\n\n        if (e.target.value.length > 1) {\n          clearUsers();\n          loadUsers({\n            type: 'customer',\n            email: e.target.value\n          }, true);\n        }\n      },\n      placeholder: \"User's Email\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"email\",\n      className: \"form__label\",\n      children: \"User's Email\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 4\n    }, this), searchDisplay && email.length > 1 && user === '' && /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: `form-search-display ${users.length === 0 ? 'danger' : ''}`,\n      children: !loading && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: users.length > 0 ? users.map(user => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"form-search-item\",\n          onClick: () => selectUser(user),\n          children: user.email\n        }, user.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 10\n        }, this)) : /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"bg-danger form-search-item\",\n          children: \"No matching results\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }, this)\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }, this), (user !== '' || email.length > 1 && user === '') && /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: cancelUser,\n      className: \"form-search-close\",\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-times\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 3\n  }, this);\n};\n\n_s(UserField, \"Ahtg86oDtMXJGchDHfTYmZv7W0Y=\");\n\n_c = UserField;\n\nconst mapStateToProps = state => ({\n  user: state.user\n});\n\nexport default connect(mapStateToProps, {\n  loadUsers,\n  clearUsers\n})(UserField);\n\nvar _c;\n\n$RefreshReg$(_c, \"UserField\");","map":{"version":3,"sources":["C:/Users/melig/OneDrive/Escritorio/prog/Tahoe-drone backend/client/src/components/UserField/index.js"],"names":["React","useState","connect","loadUsers","clearUsers","UserField","user","users","loading","selectFinalUser","adminValues","setAdminValues","email","searchDisplay","selectUser","prev","cancelUser","e","target","value","length","type","map","id","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { loadUsers, clearUsers } from '../../actions/user';\r\n\r\nconst UserField = ({ user: { users, loading }, selectFinalUser, user }) => {\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\temail: '',\r\n\t\tsearchDisplay: false,\r\n\t});\r\n\r\n\tconst { email, searchDisplay } = adminValues;\r\n\r\n\tconst selectUser = (user) => {\r\n\t\tclearUsers();\r\n\t\tselectFinalUser();\r\n\t\tsetAdminValues((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\temail: user.email,\r\n\t\t\tsearchDisplay: false,\r\n\t\t}));\r\n\t};\r\n\r\n\tconst cancelUser = () => {\r\n\t\tsetAdminValues((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\temail: '',\r\n\t\t\tsearchDisplay: false,\r\n\t\t}));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='form__group form-search'>\r\n\t\t\t<input\r\n\t\t\t\tclassName='form__input'\r\n\t\t\t\ttype='text'\r\n\t\t\t\tvalue={email}\r\n\t\t\t\tdisabled={user !== ''}\r\n\t\t\t\tname='email'\r\n\t\t\t\tid='email'\r\n\t\t\t\tautoComplete='off'\r\n\t\t\t\tonFocus={() =>\r\n\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\tsearchDisplay: true,\r\n\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\temail: e.target.value,\r\n\t\t\t\t\t}));\r\n\t\t\t\t\tif (e.target.value.length > 1) {\r\n\t\t\t\t\t\tclearUsers();\r\n\t\t\t\t\t\tloadUsers(\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: 'customer',\r\n\t\t\t\t\t\t\t\temail: e.target.value,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tplaceholder=\"User's Email\"\r\n\t\t\t/>\r\n\t\t\t<label htmlFor='email' className='form__label'>\r\n\t\t\t\tUser's Email\r\n\t\t\t</label>\r\n\r\n\t\t\t{searchDisplay && email.length > 1 && user === '' && (\r\n\t\t\t\t<ul\r\n\t\t\t\t\tclassName={`form-search-display ${\r\n\t\t\t\t\t\tusers.length === 0 ? 'danger' : ''\r\n\t\t\t\t\t}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t{!loading && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t{users.length > 0 ? (\r\n\t\t\t\t\t\t\t\tusers.map((user) => (\r\n\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\tclassName='form-search-item'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => selectUser(user)}\r\n\t\t\t\t\t\t\t\t\t\tkey={user.id}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{user.email}\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<li className='bg-danger form-search-item'>\r\n\t\t\t\t\t\t\t\t\tNo matching results\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ul>\r\n\t\t\t)}\r\n\t\t\t{(user !== '' || (email.length > 1 && user === '')) && (\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype='button'\r\n\t\t\t\t\tonClick={cancelUser}\r\n\t\t\t\t\tclassName='form-search-close'\r\n\t\t\t\t>\r\n\t\t\t\t\t<i className='fas fa-times'></i>\r\n\t\t\t\t</button>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tuser: state.user,\r\n});\r\n\r\nexport default connect(mapStateToProps, { loadUsers, clearUsers })(UserField);\r\n"]},"metadata":{},"sourceType":"module"}