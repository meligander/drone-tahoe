{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\melig\\\\OneDrive\\\\Escritorio\\\\prog\\\\Tahoe-drone backend\\\\client\\\\src\\\\components\\\\pages\\\\ReservationsList\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport Moment from 'react-moment';\nimport { loadReservations, deleteReservation } from '../../../actions/reservation';\nimport { loadUsers } from '../../../actions/user';\nimport { loadJobs } from '../../../actions/jobs';\nimport PopUp from '../../layouts/PopUp';\nimport Alert from '../../Alert';\n\nconst ReservationList = ({\n  deleteReservation,\n  loadReservations,\n  loadUsers,\n  loadJobs,\n  user: {\n    users,\n    loading: loadingUsers\n  },\n  job: {\n    jobs,\n    loading: loadingJobs\n  },\n  reservation: {\n    reservations,\n    error,\n    loading\n  }\n}) => {\n  _s();\n\n  const [formData, setFormData] = useState({\n    hourFrom: '',\n    hourTo: '',\n    user: '',\n    job: ''\n  });\n  const [adminValues, setAdminValues] = useState({\n    toggleDeleteConf: false,\n    toDelete: ''\n  });\n  const {\n    hourFrom,\n    hourTo,\n    user,\n    job\n  } = formData;\n  const {\n    toggleDeleteConf,\n    toDelete\n  } = adminValues;\n  useEffect(() => {\n    if (loading) {\n      loadJobs(true);\n      loadReservations({\n        hourFrom: new Date()\n      }, true);\n    }\n  }, [loading, loadReservations]);\n\n  const onChange = e => {\n    setFormData(prev => ({ ...prev,\n      [e.target.id]: e.target.value\n    }));\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    loadReservations(formData);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"reservations-list\",\n    children: [/*#__PURE__*/_jsxDEV(PopUp, {\n      type: \"confirmation\",\n      confirm: () => deleteReservation(toDelete),\n      setToggleModal: () => setAdminValues(prev => ({ ...prev,\n        toggleDeleteConf: !toggleDeleteConf\n      })),\n      toggleModal: toggleDeleteConf,\n      text: \"Are you sure you want to delete the reservation?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"heading-primary\",\n      children: \"Reservations\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Alert, {\n      type: \"1\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form filter\",\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"\",\n        children: \"Filter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form__group\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form__group-sub\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form__group-sub-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              className: \"form__input\",\n              id: \"hourFrom\",\n              value: hourFrom,\n              onChange: onChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"hourFrom\",\n              className: \"form__label text-dark\",\n              children: \"From\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form__group-sub-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              className: \"form__input\",\n              id: \"hourTo\",\n              onChange: onChange,\n              value: hourTo\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"hourTo\",\n              className: \"form__label text-dark\",\n              children: \"To\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form__group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"job\",\n          className: \"form__label\",\n          children: \"Select the Type of Job:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"form__input\",\n          id: \"job\",\n          value: job,\n          onChange: onChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"* Type of Job\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 7\n          }, this), jobs.length > 0 && jobs.map((job, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: i,\n            children: job.title\n          }, job.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 9\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"u-center-text\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 4\n    }, this), !loading && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [reservations.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"wrapper\",\n        children: [/*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"stick icon-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"From\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"To\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"User\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Job\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 147,\n                columnNumber: 11\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 10\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: reservations.map(reservation => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Moment, {\n                  date: reservation.hourFrom,\n                  utc: true,\n                  format: \"MM/DD/YY\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 12\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Moment, {\n                  date: reservation.hourFrom,\n                  utc: true,\n                  format: \"h a\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 161,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 12\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Moment, {\n                  date: reservation.hourTo,\n                  utc: true,\n                  format: \"h a\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 12\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  className: \"btn-link text-dark\",\n                  to: `/edit-user/${reservation.user.id}`,\n                  children: `${reservation.user.name} ${reservation.user.lastname}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 12\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: reservation.job.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 12\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-icon\",\n                  onClick: () => {\n                    window.scroll(0, 0);\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"far fa-edit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 14\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 174,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 12\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-icon\",\n                  onClick: () => setAdminValues(prev => ({ ...prev,\n                    toggleDeleteConf: !toggleDeleteConf,\n                    toDelete: reservation.id\n                  })),\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"far fa-trash-alt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 194,\n                    columnNumber: 14\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 13\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 12\n              }, this)]\n            }, reservation.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 11\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 8\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"reservation-list-total\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"heading-primary-subheading text-dark\",\n            children: \"Total:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 9\n          }, this), \"\\xA0\", reservations.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 8\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 7\n      }, this) : /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"heading-primary text-danger\",\n        children: error.msg\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btn-right\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/new-reservation\",\n          className: \"btn btn-primary\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-plus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 8\n          }, this), \" \\xA0 Reservation\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 7\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 3\n  }, this);\n};\n\n_s(ReservationList, \"A1wm805yHR4m+HJqOuwWblNUMWE=\");\n\n_c = ReservationList;\n\nconst mapStateToProps = state => ({\n  reservation: state.reservation,\n  user: state.user,\n  job: state.job\n});\n\nexport default connect(mapStateToProps, {\n  loadReservations,\n  deleteReservation,\n  loadUsers,\n  loadJobs\n})(ReservationList);\n\nvar _c;\n\n$RefreshReg$(_c, \"ReservationList\");","map":{"version":3,"sources":["C:/Users/melig/OneDrive/Escritorio/prog/Tahoe-drone backend/client/src/components/pages/ReservationsList/index.js"],"names":["React","useEffect","useState","connect","Link","Moment","loadReservations","deleteReservation","loadUsers","loadJobs","PopUp","Alert","ReservationList","user","users","loading","loadingUsers","job","jobs","loadingJobs","reservation","reservations","error","formData","setFormData","hourFrom","hourTo","adminValues","setAdminValues","toggleDeleteConf","toDelete","Date","onChange","e","prev","target","id","value","onSubmit","preventDefault","length","map","i","title","name","lastname","window","scroll","msg","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport Moment from 'react-moment';\r\n\r\nimport {\r\n\tloadReservations,\r\n\tdeleteReservation,\r\n} from '../../../actions/reservation';\r\nimport { loadUsers } from '../../../actions/user';\r\nimport { loadJobs } from '../../../actions/jobs';\r\n\r\nimport PopUp from '../../layouts/PopUp';\r\nimport Alert from '../../Alert';\r\n\r\nconst ReservationList = ({\r\n\tdeleteReservation,\r\n\tloadReservations,\r\n\tloadUsers,\r\n\tloadJobs,\r\n\tuser: { users, loading: loadingUsers },\r\n\tjob: { jobs, loading: loadingJobs },\r\n\treservation: { reservations, error, loading },\r\n}) => {\r\n\tconst [formData, setFormData] = useState({\r\n\t\thourFrom: '',\r\n\t\thourTo: '',\r\n\t\tuser: '',\r\n\t\tjob: '',\r\n\t});\r\n\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\ttoggleDeleteConf: false,\r\n\t\ttoDelete: '',\r\n\t});\r\n\r\n\tconst { hourFrom, hourTo, user, job } = formData;\r\n\r\n\tconst { toggleDeleteConf, toDelete } = adminValues;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (loading) {\r\n\t\t\tloadJobs(true);\r\n\t\t\tloadReservations({ hourFrom: new Date() }, true);\r\n\t\t}\r\n\t}, [loading, loadReservations]);\r\n\r\n\tconst onChange = (e) => {\r\n\t\tsetFormData((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\t[e.target.id]: e.target.value,\r\n\t\t}));\r\n\t};\r\n\r\n\tconst onSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tloadReservations(formData);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='reservations-list'>\r\n\t\t\t<PopUp\r\n\t\t\t\ttype='confirmation'\r\n\t\t\t\tconfirm={() => deleteReservation(toDelete)}\r\n\t\t\t\tsetToggleModal={() =>\r\n\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\ttoggleDeleteConf: !toggleDeleteConf,\r\n\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\t\t\t\ttoggleModal={toggleDeleteConf}\r\n\t\t\t\ttext='Are you sure you want to delete the reservation?'\r\n\t\t\t/>\r\n\t\t\t<h2 className='heading-primary'>Reservations</h2>\r\n\r\n\t\t\t<Alert type='1' />\r\n\t\t\t<form className='form filter' onSubmit={onSubmit}>\r\n\t\t\t\t<p className=''>Filter</p>\r\n\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t<div className='form__group-sub'>\r\n\t\t\t\t\t\t<div className='form__group-sub-item'>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='date'\r\n\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\tid='hourFrom'\r\n\t\t\t\t\t\t\t\tvalue={hourFrom}\r\n\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<label htmlFor='hourFrom' className='form__label text-dark'>\r\n\t\t\t\t\t\t\t\tFrom\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='form__group-sub-item'>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='date'\r\n\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\tid='hourTo'\r\n\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\tvalue={hourTo}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<label htmlFor='hourTo' className='form__label text-dark'>\r\n\t\t\t\t\t\t\t\tTo\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t<label htmlFor='job' className='form__label'>\r\n\t\t\t\t\t\tSelect the Type of Job:\r\n\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t<select\r\n\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\tid='job'\r\n\t\t\t\t\t\tvalue={job}\r\n\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<option value=''>* Type of Job</option>\r\n\t\t\t\t\t\t{jobs.length > 0 &&\r\n\t\t\t\t\t\t\tjobs.map((job, i) => (\r\n\t\t\t\t\t\t\t\t<option key={job.id} value={i}>\r\n\t\t\t\t\t\t\t\t\t{job.title}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t</select>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='u-center-text'>\r\n\t\t\t\t\t<button type='submit' className='btn btn-primary'>\r\n\t\t\t\t\t\t<i className='fas fa-search'></i>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t\t{!loading && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{reservations.length > 0 ? (\r\n\t\t\t\t\t\t<div className='wrapper'>\r\n\t\t\t\t\t\t\t<table className='stick icon-6'>\r\n\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t<th>Date</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>From</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>To</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>User</th>\r\n\t\t\t\t\t\t\t\t\t\t<th>Job</th>\r\n\t\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t{reservations.map((reservation) => (\r\n\t\t\t\t\t\t\t\t\t\t<tr key={reservation.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Moment\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdate={reservation.hourFrom}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tutc\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tformat='MM/DD/YY'\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Moment date={reservation.hourFrom} utc format='h a' />\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Moment date={reservation.hourTo} utc format='h a' />\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-link text-dark'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/edit-user/${reservation.user.id}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>{`${reservation.user.name} ${reservation.user.lastname}`}</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>{reservation.job.title}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.scroll(0, 0);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-edit'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoggleDeleteConf: !toggleDeleteConf,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoDelete: reservation.id,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-trash-alt'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t<div className='reservation-list-total'>\r\n\t\t\t\t\t\t\t\t<span className='heading-primary-subheading text-dark'>\r\n\t\t\t\t\t\t\t\t\tTotal:\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t\t{reservations.length}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<h3 className='heading-primary text-danger'>{error.msg}</h3>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className='btn-right'>\r\n\t\t\t\t\t\t<Link to='/new-reservation' className='btn btn-primary'>\r\n\t\t\t\t\t\t\t<i className='fas fa-plus'></i> &nbsp; Reservation\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\treservation: state.reservation,\r\n\tuser: state.user,\r\n\tjob: state.job,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tloadReservations,\r\n\tdeleteReservation,\r\n\tloadUsers,\r\n\tloadJobs,\r\n})(ReservationList);\r\n"]},"metadata":{},"sourceType":"module"}