{"ast":null,"code":"import { RESERVATION_LOADED, RESERVATIONS_LOADED, RESERVATION_REGISTERED, RESERVATION_UPDATED, RESERVATION_DELETED, RESERVATIONS_ERROR, RESERVATION_CLEARED, RESERVATIONS_CLEARED } from '../actions/types';\nconst initialState = {\n  loading: true,\n  loadingReservation: true,\n  reservation: null,\n  reservations: [],\n  error: {}\n};\n\nconst reservationReducer = (state = initialState, action) => {\n  const {\n    type,\n    payload\n  } = action;\n\n  switch (type) {\n    case RESERVATION_LOADED:\n      return { ...state,\n        loadingReservation: false,\n        reservation: payload,\n        error: {}\n      };\n\n    case RESERVATIONS_LOADED:\n      return { ...state,\n        loading: false,\n        reservations: payload,\n        error: {}\n      };\n\n    case RESERVATION_REGISTERED:\n      return { ...state,\n        loading: false,\n        reservations: [...state.reservations, payload],\n        error: {}\n      };\n\n    case RESERVATION_UPDATED:\n      return { ...state,\n        loadingReservation: false,\n        reservations: state.reservations.map(item => item.id === payload.id ? payload : item),\n        error: {}\n      };\n\n    case RESERVATION_DELETED:\n      return { ...state,\n        reservations: state.reservations.filter(reservation => reservation._id !== payload),\n        loading: false,\n        error: {}\n      };\n\n    case RESERVATIONS_CLEARED:\n      return initialState;\n\n    case RESERVATION_CLEARED:\n      return { ...state,\n        loadingReservation: true,\n        reservation: null,\n        error: {}\n      };\n\n    case RESERVATIONS_ERROR:\n      return { ...state,\n        //reservation: null,\n        reservations: [],\n        loadingReservation: false,\n        loading: false,\n        error: payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport default reservationReducer;","map":{"version":3,"sources":["C:/Users/melig/OneDrive/Escritorio/prog/Tahoe-drone backend/client/src/reducers/reservation.js"],"names":["RESERVATION_LOADED","RESERVATIONS_LOADED","RESERVATION_REGISTERED","RESERVATION_UPDATED","RESERVATION_DELETED","RESERVATIONS_ERROR","RESERVATION_CLEARED","RESERVATIONS_CLEARED","initialState","loading","loadingReservation","reservation","reservations","error","reservationReducer","state","action","type","payload","map","item","id","filter","_id"],"mappings":"AAAA,SACCA,kBADD,EAECC,mBAFD,EAGCC,sBAHD,EAICC,mBAJD,EAKCC,mBALD,EAMCC,kBAND,EAOCC,mBAPD,EAQCC,oBARD,QASO,kBATP;AAWA,MAAMC,YAAY,GAAG;AACpBC,EAAAA,OAAO,EAAE,IADW;AAEpBC,EAAAA,kBAAkB,EAAE,IAFA;AAGpBC,EAAAA,WAAW,EAAE,IAHO;AAIpBC,EAAAA,YAAY,EAAE,EAJM;AAKpBC,EAAAA,KAAK,EAAE;AALa,CAArB;;AAQA,MAAMC,kBAAkB,GAAG,CAACC,KAAK,GAAGP,YAAT,EAAuBQ,MAAvB,KAAkC;AAC5D,QAAM;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR,MAAoBF,MAA1B;;AACA,UAAQC,IAAR;AACC,SAAKjB,kBAAL;AACC,aAAO,EACN,GAAGe,KADG;AAENL,QAAAA,kBAAkB,EAAE,KAFd;AAGNC,QAAAA,WAAW,EAAEO,OAHP;AAINL,QAAAA,KAAK,EAAE;AAJD,OAAP;;AAMD,SAAKZ,mBAAL;AACC,aAAO,EACN,GAAGc,KADG;AAENN,QAAAA,OAAO,EAAE,KAFH;AAGNG,QAAAA,YAAY,EAAEM,OAHR;AAINL,QAAAA,KAAK,EAAE;AAJD,OAAP;;AAMD,SAAKX,sBAAL;AACC,aAAO,EACN,GAAGa,KADG;AAENN,QAAAA,OAAO,EAAE,KAFH;AAGNG,QAAAA,YAAY,EAAE,CAAC,GAAGG,KAAK,CAACH,YAAV,EAAwBM,OAAxB,CAHR;AAINL,QAAAA,KAAK,EAAE;AAJD,OAAP;;AAMD,SAAKV,mBAAL;AACC,aAAO,EACN,GAAGY,KADG;AAENL,QAAAA,kBAAkB,EAAE,KAFd;AAGNE,QAAAA,YAAY,EAAEG,KAAK,CAACH,YAAN,CAAmBO,GAAnB,CAAwBC,IAAD,IACpCA,IAAI,CAACC,EAAL,KAAYH,OAAO,CAACG,EAApB,GAAyBH,OAAzB,GAAmCE,IADtB,CAHR;AAMNP,QAAAA,KAAK,EAAE;AAND,OAAP;;AAQD,SAAKT,mBAAL;AACC,aAAO,EACN,GAAGW,KADG;AAENH,QAAAA,YAAY,EAAEG,KAAK,CAACH,YAAN,CAAmBU,MAAnB,CACZX,WAAD,IAAiBA,WAAW,CAACY,GAAZ,KAAoBL,OADxB,CAFR;AAKNT,QAAAA,OAAO,EAAE,KALH;AAMNI,QAAAA,KAAK,EAAE;AAND,OAAP;;AAQD,SAAKN,oBAAL;AACC,aAAOC,YAAP;;AACD,SAAKF,mBAAL;AACC,aAAO,EACN,GAAGS,KADG;AAENL,QAAAA,kBAAkB,EAAE,IAFd;AAGNC,QAAAA,WAAW,EAAE,IAHP;AAINE,QAAAA,KAAK,EAAE;AAJD,OAAP;;AAMD,SAAKR,kBAAL;AACC,aAAO,EACN,GAAGU,KADG;AAEN;AACAH,QAAAA,YAAY,EAAE,EAHR;AAINF,QAAAA,kBAAkB,EAAE,KAJd;AAKND,QAAAA,OAAO,EAAE,KALH;AAMNI,QAAAA,KAAK,EAAEK;AAND,OAAP;;AAQD;AACC,aAAOH,KAAP;AA3DF;AA6DA,CA/DD;;AAiEA,eAAeD,kBAAf","sourcesContent":["import {\r\n\tRESERVATION_LOADED,\r\n\tRESERVATIONS_LOADED,\r\n\tRESERVATION_REGISTERED,\r\n\tRESERVATION_UPDATED,\r\n\tRESERVATION_DELETED,\r\n\tRESERVATIONS_ERROR,\r\n\tRESERVATION_CLEARED,\r\n\tRESERVATIONS_CLEARED,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n\tloading: true,\r\n\tloadingReservation: true,\r\n\treservation: null,\r\n\treservations: [],\r\n\terror: {},\r\n};\r\n\r\nconst reservationReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase RESERVATION_LOADED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingReservation: false,\r\n\t\t\t\treservation: payload,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase RESERVATIONS_LOADED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\treservations: payload,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase RESERVATION_REGISTERED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\treservations: [...state.reservations, payload],\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase RESERVATION_UPDATED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingReservation: false,\r\n\t\t\t\treservations: state.reservations.map((item) =>\r\n\t\t\t\t\titem.id === payload.id ? payload : item\r\n\t\t\t\t),\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase RESERVATION_DELETED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\treservations: state.reservations.filter(\r\n\t\t\t\t\t(reservation) => reservation._id !== payload\r\n\t\t\t\t),\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase RESERVATIONS_CLEARED:\r\n\t\t\treturn initialState;\r\n\t\tcase RESERVATION_CLEARED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingReservation: true,\r\n\t\t\t\treservation: null,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase RESERVATIONS_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t//reservation: null,\r\n\t\t\t\treservations: [],\r\n\t\t\t\tloadingReservation: false,\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default reservationReducer;\r\n"]},"metadata":{},"sourceType":"module"}