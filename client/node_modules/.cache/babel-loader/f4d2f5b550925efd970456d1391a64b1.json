{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\melig\\\\OneDrive\\\\Escritorio\\\\prog\\\\Tahoe-drone backend\\\\client\\\\src\\\\components\\\\UserField\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { loadUsers, clearUsers } from '../../actions/user';\n\nconst UserField = ({\n  user: {\n    users,\n    loading\n  },\n  selectFinalUser,\n  reservationUser,\n  clearUsers,\n  loadUsers\n}) => {\n  _s();\n\n  const [adminValues, setAdminValues] = useState({\n    email: '',\n    searchDisplay: false\n  });\n  useEffect(() => {\n    if (reservationUser) setAdminValues(prev => ({ ...prev,\n      email: reservationUser.email\n    }));\n  }, [reservationUser]);\n  const {\n    email,\n    searchDisplay\n  } = adminValues;\n\n  const selectUser = user => {\n    clearUsers();\n    selectFinalUser(user.id);\n    setAdminValues(prev => ({ ...prev,\n      email: user.email,\n      searchDisplay: false\n    }));\n  };\n\n  const cancelUser = () => {\n    selectFinalUser('');\n    setAdminValues(prev => ({ ...prev,\n      email: '',\n      searchDisplay: false\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form__group form-search\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"form__input\",\n      type: \"text\",\n      value: email,\n      disabled: reservationUser,\n      name: \"email\",\n      id: \"email\",\n      autoComplete: \"off\",\n      onFocus: () => setAdminValues(prev => ({ ...prev,\n        searchDisplay: true\n      })),\n      onChange: e => {\n        setAdminValues(prev => ({ ...prev,\n          email: e.target.value\n        }));\n\n        if (e.target.value.length > 1) {\n          clearUsers();\n          loadUsers({\n            type: 'customer',\n            email: e.target.value\n          }, true);\n        }\n      },\n      placeholder: \"User's Email\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"email\",\n      className: \"form__label\",\n      children: \"User's Email\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 4\n    }, this), searchDisplay && email.length > 1 && !reservationUser && /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: `form-search-display ${users.length === 0 ? 'danger' : ''}`,\n      children: !loading && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: users.length > 0 ? users.map(user => /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"form-search-item\",\n          onClick: () => selectUser(user),\n          children: user.email\n        }, user.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 10\n        }, this)) : /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"bg-danger form-search-item\",\n          children: \"No matching results\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 9\n        }, this)\n      }, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }, this), email.length > 1 && !reservationUser && /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: cancelUser,\n      className: \"form-search-close\",\n      children: /*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-times\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 3\n  }, this);\n};\n\n_s(UserField, \"gfkpKaup79598XhkCwBT9oepy6U=\");\n\n_c = UserField;\n\nconst mapStateToProps = state => ({\n  user: state.user\n});\n\nexport default connect(mapStateToProps, {\n  loadUsers,\n  clearUsers\n})(UserField);\n\nvar _c;\n\n$RefreshReg$(_c, \"UserField\");","map":{"version":3,"sources":["C:/Users/melig/OneDrive/Escritorio/prog/Tahoe-drone backend/client/src/components/UserField/index.js"],"names":["React","useState","useEffect","connect","loadUsers","clearUsers","UserField","user","users","loading","selectFinalUser","reservationUser","adminValues","setAdminValues","email","searchDisplay","prev","selectUser","id","cancelUser","e","target","value","length","type","map","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { loadUsers, clearUsers } from '../../actions/user';\r\n\r\nconst UserField = ({\r\n\tuser: { users, loading },\r\n\tselectFinalUser,\r\n\treservationUser,\r\n\tclearUsers,\r\n\tloadUsers,\r\n}) => {\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\temail: '',\r\n\t\tsearchDisplay: false,\r\n\t});\r\n\tuseEffect(() => {\r\n\t\tif (reservationUser)\r\n\t\t\tsetAdminValues((prev) => ({ ...prev, email: reservationUser.email }));\r\n\t}, [reservationUser]);\r\n\r\n\tconst { email, searchDisplay } = adminValues;\r\n\r\n\tconst selectUser = (user) => {\r\n\t\tclearUsers();\r\n\t\tselectFinalUser(user.id);\r\n\t\tsetAdminValues((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\temail: user.email,\r\n\t\t\tsearchDisplay: false,\r\n\t\t}));\r\n\t};\r\n\r\n\tconst cancelUser = () => {\r\n\t\tselectFinalUser('');\r\n\t\tsetAdminValues((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\temail: '',\r\n\t\t\tsearchDisplay: false,\r\n\t\t}));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='form__group form-search'>\r\n\t\t\t<input\r\n\t\t\t\tclassName='form__input'\r\n\t\t\t\ttype='text'\r\n\t\t\t\tvalue={email}\r\n\t\t\t\tdisabled={reservationUser}\r\n\t\t\t\tname='email'\r\n\t\t\t\tid='email'\r\n\t\t\t\tautoComplete='off'\r\n\t\t\t\tonFocus={() =>\r\n\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\tsearchDisplay: true,\r\n\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\temail: e.target.value,\r\n\t\t\t\t\t}));\r\n\t\t\t\t\tif (e.target.value.length > 1) {\r\n\t\t\t\t\t\tclearUsers();\r\n\t\t\t\t\t\tloadUsers(\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: 'customer',\r\n\t\t\t\t\t\t\t\temail: e.target.value,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tplaceholder=\"User's Email\"\r\n\t\t\t/>\r\n\t\t\t<label htmlFor='email' className='form__label'>\r\n\t\t\t\tUser's Email\r\n\t\t\t</label>\r\n\r\n\t\t\t{searchDisplay && email.length > 1 && !reservationUser && (\r\n\t\t\t\t<ul\r\n\t\t\t\t\tclassName={`form-search-display ${\r\n\t\t\t\t\t\tusers.length === 0 ? 'danger' : ''\r\n\t\t\t\t\t}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t{!loading && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t{users.length > 0 ? (\r\n\t\t\t\t\t\t\t\tusers.map((user) => (\r\n\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\tclassName='form-search-item'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => selectUser(user)}\r\n\t\t\t\t\t\t\t\t\t\tkey={user.id}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{user.email}\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<li className='bg-danger form-search-item'>\r\n\t\t\t\t\t\t\t\t\tNo matching results\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ul>\r\n\t\t\t)}\r\n\t\t\t{email.length > 1 && !reservationUser && (\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype='button'\r\n\t\t\t\t\tonClick={cancelUser}\r\n\t\t\t\t\tclassName='form-search-close'\r\n\t\t\t\t>\r\n\t\t\t\t\t<i className='fas fa-times'></i>\r\n\t\t\t\t</button>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tuser: state.user,\r\n});\r\n\r\nexport default connect(mapStateToProps, { loadUsers, clearUsers })(UserField);\r\n"]},"metadata":{},"sourceType":"module"}