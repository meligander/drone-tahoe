(this["webpackJsonpyt-website"]=this["webpackJsonpyt-website"]||[]).push([[0],{67:function(e,t,a){},68:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),r=a(14),l=a.n(r),o=a(15),n=a(35),i=a(33);const d="LOADINGSPINNER_UPDATED",j="FOOTER_HEIGHT_SETTED",m="NAVBAR_HEIGHT_SETTED",b="USERAUTH_LOADED",u="LOGIN_SUCCESS",h="LOGIN_FAIL",p="LOGOUT",g="AUTH_ERROR",O="SIGNUP_FAIL",x="SIGNUP_SUCCESS",v="EMAIL_SENT",f="EMAIL_ERROR",N="EMAIL_CLEARED",y="PASSWORD_CHANGED",_="ALERT_REMOVED",w="ALERT_SETTED",D="USER_LOADED",E="USERS_LOADED",T="USER_UPDATED",R="USER_DELETED",k="USER_ERROR",C="USERS_ERROR",S="USER_CLEARED",F="USERS_CLEARED",A="RESERVATION_LOADED",M="RESERVATIONS_LOADED",U="RESERVATION_REGISTERED",Y="RESERVATION_UPDATED",I="RESERVATION_DELETED",L="RESERVATION_CANCELED",J="RESERVATIONS_CLEARED",P="RESERVATION_CLEARED",H="RESERVATION_ERROR",B="RESERVATIONS_ERROR",V="JOBSXRESERVATIONS_LOADED",X="JOBSXRESERVATIONS_CLEARED",q="JOBSXRESERVATIONS_ERROR",G="MONTHAVAILABILITY_LOADED",W="DAYAVAILABILITY_LOADED",Z="DAY_ENABLED",K="DAY_DISABLED",z="DAYS_DISABLED",$="ADD_RESERVED_DAY",Q="DELETE_RESERVED_DAY",ee="ADD_TIME_DISABLED_DAY",te="DELETE_TIME_DISABLED_DAY",ae="DAYSAVAILABILITY_CLEARED",se="DAYSAVAILABILITY_ERROR",ce="JOB_LOADED",re="JOBS_LOADED",le="JOB_REGISTERED",oe="JOB_UPDATED",ne="JOB_DELETED",ie="JOB_ERROR",de="JOBS_ERROR",je="JOB_CLEARED",me="JOBS_CLEARED",be="PAYMENT_STATUS_UPDATED",ue="PAYMENT_ERROR",he={token:localStorage.getItem("token"),loggedUser:null,loading:!0,isAuthenticated:!1,error:"",emailSent:!1};var pe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:s}=t;switch(a){case b:return{...e,loading:!1,loggedUser:s,isAuthenticated:!0};case x:return{...e,loading:!1,loggedUser:s.user,isAuthenticated:!0,token:s.token};case u:return{...e,loading:!1,token:s.token};case g:return{...e,token:null,isAuthenticated:!1,loggedUser:null,loading:!1,error:s||""};case y:return{...e,token:s.token,loading:!1,loggedUser:s.user,isAuthenticated:!0};case O:case h:return{...e,error:s,loading:!1,token:null,isAuthenticated:!1,loggedUser:null};case f:return{...e,error:s,emailSent:!1};case v:return{...e,emailSent:!0,error:""};case p:return{...e,token:null,isAuthenticated:!1,loggedUser:null,loading:!0,error:""};case N:return{...e,emailSent:!1};default:return e}};const ge=[];var Oe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:s}=t;switch(a){case w:return e.some((e=>e.msg===s.msg))?e:[...e,s];case _:return e.filter((e=>e.id!==s));default:return e}};const xe={loadingAvailableHours:!0,loadingDisabledDays:!0,availableHours:[],disabledDays:[],reservedDays:[],timeDisabledDays:[],error:{}};var ve=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:s}=t;switch(a){case G:return{...e,loadingDisabledDays:!1,disabledDays:s.disabledDays?s.disabledDays:s,...s.reservedDays&&{reservedDays:s.reservedDays},...s.timeDisabledDays&&{timeDisabledDays:s.timeDisabledDays},error:{}};case W:return{...e,loadingAvailableHours:!1,availableHours:s,error:{}};case ae:return xe;case se:return{...e,availableHours:[],loadingAvailableHours:!1,error:s};case Z:case Q:case te:const t=new Date(s.date),a=e[s.type].filter((e=>new Date(e).getTime()!==t.getTime()));return{...e,[s.type]:a};case K:case $:case ee:case z:return{...e,[s.type]:s.dates?[...e[s.type],...s.dates]:[...e[s.type],s.date]};default:return e}};const fe={loadingSpinner:!1,footer:0,navbar:0};var Ne=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:s}=t;switch(a){case d:return{...e,loadingSpinner:s};case m:return{...e,navbar:s};case j:return{...e,footer:s};default:return e}};const ye={loading:!0,loadingJob:!0,job:null,jobs:[],error:{}};var _e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:s}=t;switch(a){case ce:return{...e,loadingJob:!1,job:s,error:{}};case re:return{...e,loading:!1,jobs:s,error:{}};case le:return{...e,loading:!1,jobs:[...e.jobs,s],error:{}};case oe:return{...e,loading:!1,job:s,loadingJob:!1,jobs:e.jobs.map((e=>e.id!==s.id?e:s)),error:{}};case ne:return{...e,jobs:e.jobs.filter((e=>e.id!==s)),loading:!1,error:{}};case me:return ye;case je:return{...e,job:null,loadingJob:!0};case ie:return{...e,job:null,loadingJob:!1,error:s};case de:return{...e,jobs:[],loading:!1,error:s};default:return e}},we=a(5),De=a.n(we);const Ee={loading:!0,loadingReservation:!0,reservation:null,reservations:[],error:{}};var Te=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:s}=t;switch(a){case A:return{...e,loadingReservation:!1,reservation:s,error:{}};case M:return{...e,loading:!1,reservations:s,error:{}};case U:let t=[...e.reservations,s];return t=t.sort(((e,t)=>De()(e.hourFrom).diff(De()(t.hourFrom)))),{...e,loading:!1,reservations:t,error:{}};case L:case Y:return{...e,loadingReservation:!1,reservations:e.reservations.map((e=>e.id===s.id?s:e)),error:{}};case be:return s?{...e,loadingReservation:!1,reservations:e.reservations.map((e=>e.id===s.id?s:e)),error:{}}:e;case I:return{...e,reservations:e.reservations.filter((e=>e.id!==s)),loading:!1,error:{}};case J:return Ee;case P:return{...e,loadingReservation:!0,reservation:null,error:{}};case H:return{...e,reservation:null,loadingReservation:!1,error:s};case B:return{...e,reservations:[],loading:!1,error:s};case ue:return{...e,error:s};default:return e}};const Re={loading:!0,jobsXreservations:[],error:{}};var ke=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:s}=t;switch(a){case V:return{...e,loading:!1,jobsXreservations:s,error:{}};case X:return Re;case q:return{...e,jobsXreservations:[],loading:!1,error:s};default:return e}};const Ce={loading:!0,loadingUser:!0,user:null,users:[],error:{}};var Se=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;const{type:a,payload:s}=t;switch(a){case D:return{...e,loadingUser:!1,user:s,error:{}};case E:return{...e,loading:!1,users:s,error:{}};case T:return{...e,loading:!1,users:e.users.map((e=>e.id===s.id?s:e)),error:{}};case R:return{...e,users:e.users.filter((e=>e._id!==s)),loading:!1,error:{}};case F:return Ce;case S:return{...e,user:null,loadingUser:!0,error:{}};case k:return{...e,user:null,loadingUser:!1,error:s};case C:return{...e,users:[],loading:!1,error:s};default:return e}},Fe=Object(o.combineReducers)({alert:Oe,auth:pe,day:ve,global:Ne,job:_e,reservation:Te,jobsXreservation:ke,user:Se}),Ae=a(34),Me=a.n(Ae),Ue=a(9),Ye=Object(Ue.a)(),Ie=a(95);const Le=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500;return c=>{const r=Object(Ie.a)();c({type:w,payload:{id:r,alertType:t,msg:e,type:a,code:s}}),setTimeout((()=>c({type:_,payload:r})),5e3)}},Je=e=>t=>{t({type:d,payload:e})},Pe=(e,t,a)=>async s=>{s(Je(!0));let c=!1;try{const c=await st.get("/day/".concat(e,"/").concat(t,"/").concat(a));s({type:W,payload:c.data})}catch(r){401!==r.response.status?(s(Le(r.response.data.msg,"danger","1")),s(He(se,r.response)),window.scrollTo(0,0)):c=!0}c||s(Je(!1))},He=(e,t)=>a=>{a({type:e,payload:{type:t.statusText,status:t.status,msg:t.data.msg}})},Be=(e,t)=>async a=>{t||a(Je(!0)),t&&await a(Ve());let s=!1,c="";const r=Object.keys(e);for(let t=0;t<r.length;t++){const a=r[t];""!==e[a]&&(""!==c&&(c+="&"),c=c+r[t]+"="+e[a])}try{const e=await st.get("/reservation?".concat(c));a({type:M,payload:e.data})}catch(l){401!==l.response.status?a(We(B,l.response)):s=!0}s||a(Je(!1))},Ve=()=>async e=>{try{await st.put("/reservation/status/update"),e({type:be})}catch(t){401!==t.response.status&&(e(Le(t.response.data.msg,"danger","2")),e(We(ue,t.response)))}},Xe=e=>async t=>{t(Je(!0));let a={};for(const c in e)""!==e[c]&&(a[c]=e[c]);try{let s=await st.put("/reservation/".concat(e.id),a);return t({type:Y,payload:s.data}),t(Le("Reservation Updated","success","1")),window.scrollTo(0,0),t(Je(!1)),!0}catch(s){return 401!==s.response.status&&(t(We(H,s.response)),s.response.data.errors?s.response.data.errors.forEach((e=>{t(Le(e.msg,"danger","2"))})):t(Le(s.response.data.msg,"danger","2")),t(Je(!1))),!1}},qe=(e,t)=>async a=>{a(Je(!0));let s=!1;try{await st.delete("/reservation/".concat(e.id)),a({type:I,payload:e.id});const s="hourRange"!==e.status;t&&a(((e,t)=>async a=>{a({type:t?Q:te,payload:{type:t?"reservedDays":"timeDisabledDays",date:e}})})(t,s)),a(Le("Reservation Deleted","success","1"))}catch(c){401!==c.response.status?(a(Le(c.response.data.msg,"danger","1")),a(We(H,c.response))):s=!0}s||(window.scrollTo(0,0),a(Je(!1)))},Ge=()=>e=>{e({type:J})},We=(e,t)=>a=>{a({type:e,payload:t.data.errors?t.data.errors:{type:t.statusText,status:t.status,msg:t.data.msg}})},Ze=(e,t)=>async a=>{a(Je(!0));let s=!1,c="";for(const t in e)""!==e[t]&&(c="".concat(""!==c?"".concat(c,"&"):"").concat(t,"=").concat(e[t]));try{const e=await st.get("/job?".concat(c));a({type:re,payload:e.data})}catch(r){401!==r.response.status?a(ze(de,r.response)):s=!0}t||s||a(Je(!1))},Ke=()=>e=>{e({type:me})},ze=(e,t)=>a=>{a({type:e,payload:t.data.errors?t.data.errors:{type:t.statusText,status:t.status,msg:t.data.msg}})},$e=e=>async t=>{try{const a=await st.get("/user/info");t({type:b,payload:a.data}),e&&("admin"===a.data.type?(t(Ge()),t(Ke()),Ye.push("/reservations-list")):(Ye.push("/"),t(Je(!1))))}catch(a){401!==a.response.status&&(t(Le(a.response.data.msg,"danger","1")),t(tt(g,a.response)),t(Je(!1)))}},Qe=(e,t,a)=>async s=>{s(Je(!0));let c={};for(const t in e)""!==e[t]&&(c[t]=e[t]);try{const e=await st.post(t?"/auth/outreach-email":"/auth/send-email",c);return s({type:v}),s(Le(e.data.msg,"success","1")),a||window.scrollTo(0,0),s(Je(!1)),!0}catch(r){return 401!==r.response.status&&(s(tt(f,r.response)),r.response.data.errors?r.response.data.errors.forEach((e=>{s(Le(e.msg,"danger",t?"2":"1"))})):s(Le(r.response.data.msg,"danger",t?"2":"1"))),s(Je(!1)),!1}},et=()=>e=>{e({type:p}),Ye.push("/login")},tt=(e,t)=>a=>{a({type:e,payload:t.data.errors?t.data.errors:{type:t.statusText,status:t.status,msg:t.data.msg}})},at=Me.a.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});at.interceptors.response.use((e=>e),(e=>(401!==e.response.status||0!==it.getState().alert.length&&it.getState().alert.some((e=>401===e.code))||(it.dispatch(et()),it.dispatch(Le(e.response.data.msg,"danger","1",401)),it.dispatch(tt(g,e.response)),it.dispatch(Je(!1)),window.scrollTo(0,0)),Promise.reject(e))));var st=at;var ct=e=>{e?(st.defaults.headers.common["auth-token"]=e,localStorage.setItem("token",e)):(delete st.defaults.headers.common["auth-token"],localStorage.removeItem("token"))};const rt=[n.a],lt=Object(i.composeWithDevTools)({trace:!0,traceLimit:25}),ot=Object(o.createStore)(Fe,{},lt(Object(o.applyMiddleware)(...rt)));let nt={auth:{token:null,isAuthenticated:null,loading:!0,user:null}};ot.subscribe((()=>{let e=nt;if(nt=ot.getState(),e.auth.token!==nt.auth.token){const e=nt.auth.token;ct(e)}}));var it=ot,dt=a(3),jt=a(8),mt=(a(67),a(4));const bt=(e,t)=>async a=>{a(Je(!0));let s=!1;try{const s=await st.get("/res/job/reservation/".concat(e,"&").concat(t?"?type="+t:""));a({type:V,payload:s.data})}catch(c){401!==c.response.status?a(ht(q,c.response)):s=!0}s||a(Je(!1))},ut=()=>e=>{e({type:X})},ht=(e,t)=>a=>{a({type:e,payload:{type:t.statusText,status:t.status,msg:t.data.msg}})},pt=(e,t)=>async a=>{t||a(Je(!0));let s=!1,c="";for(const t in e)""!==e[t]&&(c="".concat(""!==c?"".concat(c,"&"):"").concat(t,"=").concat(e[t]));try{const e=await st.get("/user?".concat(c));a({type:E,payload:e.data})}catch(r){401!==r.response.status?a(xt(C,r.response)):s=!0}t||s||a(Je(!1))},gt=()=>e=>{e({type:S})},Ot=()=>e=>{e({type:F})},xt=(e,t)=>a=>{a({type:e,payload:t.data.errors?t.data.errors:{type:t.statusText,status:t.status,msg:t.data.msg}})};a(68);var vt=a(0);var ft=Object(dt.b)((e=>({auth:e.auth})),{logOut:et,clearReservations:Ge,clearJobs:Ke,clearUsers:Ot,setNavbarHeight:e=>t=>{t({type:m,payload:e})},clearJobsXReservations:ut})((e=>{let{logOut:t,clearReservations:a,clearJobs:c,clearUsers:r,clearJobsXReservations:l,setNavbarHeight:o,auth:{loggedUser:n,loading:i}}=e;const[d,j]=Object(s.useState)(!1),[m,b]=Object(s.useState)(!0),u=()=>j(!1),h=Object(s.useRef)();Object(s.useEffect)((()=>{p(),setTimeout((()=>{o(h.current.offsetHeight)}),30)}),[o]);const p=()=>{b(window.innerWidth>960)};return window.addEventListener("resize",p),Object(vt.jsxs)("nav",{ref:h,className:"navbar",style:{justifyContent:m?"space-between":"flex-end",padding:m?"1.8rem 0.5rem":"1rem 1.2rem"},id:"top",children:[Object(vt.jsxs)("div",{className:"navbar-container",children:[Object(vt.jsx)("div",{className:"menu-icon",onClick:()=>j(!d),children:Object(vt.jsx)("i",{className:d?"fas fa-times":"fas fa-bars"})}),Object(vt.jsxs)("ul",{className:d?"nav-menu active":"nav-menu",children:[!i&&n&&Object(vt.jsx)("li",{className:"nav-links-salute",children:Object(vt.jsxs)(mt.a,{to:"/profile",onClick:()=>{u(),r(),window.scrollTo(0,0)},className:"btn-link",children:[Object(vt.jsx)("i",{className:"fas fa-user-alt"})," Hi ",n.name,"!"]})}),Object(vt.jsx)("li",{className:"nav-item ".concat(n&&"admin"===n.type?"hide":""),children:Object(vt.jsx)(mt.a,{to:"/",className:"nav-links",onClick:()=>{u(),window.scrollTo(0,0)},children:"Home"})}),!i&&n&&"admin"===n.type?Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsx)("li",{className:"nav-item",children:Object(vt.jsx)(mt.a,{to:"/reservations-list",className:"nav-links",onClick:()=>{u(),a(),c(),l(),window.scrollTo(0,0)},children:"Reservations"})}),Object(vt.jsx)("li",{className:"nav-item",children:Object(vt.jsx)(mt.a,{to:"/schedule",className:"nav-links",onClick:()=>{u(),a(),window.scrollTo(0,0)},children:"Schedule"})}),Object(vt.jsx)("li",{className:"nav-item",children:Object(vt.jsx)(mt.a,{to:"/users-list",className:"nav-links",onClick:()=>{u(),r(),window.scrollTo(0,0)},children:"Users"})}),Object(vt.jsx)("li",{className:"nav-item",children:Object(vt.jsx)(mt.a,{to:"/jobs-list",className:"nav-links",onClick:()=>{u(),c(),window.scrollTo(0,0)},children:"Jobs"})}),Object(vt.jsx)("li",{className:"nav-item",children:Object(vt.jsx)(mt.a,{to:"/outreach",className:"nav-links",onClick:()=>{u(),c(),l(),window.scrollTo(0,0)},children:"Outreach"})})]}):Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsx)("li",{className:"nav-item",children:Object(vt.jsx)(mt.a,{to:"/servicesfull",className:"nav-links",onClick:()=>{u(),c(),window.scrollTo(0,0)},children:"Services"})}),Object(vt.jsx)("li",{className:"nav-item",style:!i&&n?{order:5}:null,children:Object(vt.jsx)(mt.a,{to:"/portfolio",className:"nav-links",onClick:()=>{u(),window.scrollTo(0,0)},children:"Portfolio"})}),Object(vt.jsx)("li",{className:"nav-item",style:!i&&n?{order:4}:null,children:Object(vt.jsx)(mt.a,{to:!i&&n?"/reservation/0":"/contact",className:"nav-links",onClick:()=>{u(),window.scrollTo(0,0),!i&&n&&(a(),c())},children:!i&&n?"Reservations":"Contact"})})]}),Object(vt.jsx)("li",{className:"nav-item",style:!i&&n?{order:6}:null,children:Object(vt.jsx)(mt.a,{to:!i&&n?"/":"/login",onClick:()=>{!i&&n&&t(),u(),window.scrollTo(0,0)},className:"nav-links-mobile btn btn-outline",children:!i&&n?"Log Out":"Log In"})})]})]}),!i&&n&&Object(vt.jsx)("div",{className:"nav-salute",children:Object(vt.jsxs)(mt.a,{to:"/profile",onClick:()=>{window.scrollTo(0,0),r()},className:"btn-link",children:["Hi ",n.name,"!"]})}),m&&Object(vt.jsx)("div",{className:"nav-button",children:Object(vt.jsx)(mt.a,{to:!i&&n?"/":"/login",onClick:()=>{!i&&n&&t(),window.scrollTo(0,0)},className:"btn btn-outline",children:!i&&n?"Log Out":"Log In"})})]})})),Nt=a.p+"static/media/logoDRONE-dark-cropped-final.b2f133be.png";a(72);var yt=Object(dt.b)(null,{setFooterHeight:e=>t=>{t({type:j,payload:e})}})((function(e){let{setFooterHeight:t}=e;const a=Object(s.useRef)(),c=new Date;return Object(s.useEffect)((()=>{setTimeout((()=>{t(a.current.offsetHeight)}),80)}),[t]),Object(vt.jsx)("div",{className:"footer-container",ref:a,children:Object(vt.jsx)("section",{className:"social-media",children:Object(vt.jsxs)("div",{className:"social-media-wrap",children:[Object(vt.jsx)("div",{className:"social-media-wrap-section",children:Object(vt.jsxs)("big",{className:"website-rights",children:["DRONE TAHOE \xa9 ",c.getFullYear()]})}),Object(vt.jsx)("div",{className:"social-media-wrap-section",children:Object(vt.jsx)("div",{className:"footer-logo",children:Object(vt.jsx)(mt.a,{to:"/",onClick:()=>window.scrollTo(0,0),className:"social-logo",children:Object(vt.jsx)("img",{src:Nt,className:"footer-logo",alt:""})})})}),Object(vt.jsx)("div",{className:"social-media-wrap-section",children:Object(vt.jsxs)("div",{className:"social-icon",children:[Object(vt.jsx)(mt.a,{className:"social-icon-link facebook",to:{pathname:"https://www.facebook.com/profile.php?id=100054789366613"},target:"_blank","aria-label":"Facebook",children:Object(vt.jsx)("i",{className:"fab fa-facebook-f"})}),Object(vt.jsx)(mt.a,{className:"social-icon-link instagram",to:{pathname:"https://www.instagram.com/dronetahoe/"},target:"_blank","aria-label":"Instagram",children:Object(vt.jsx)("i",{className:"fab fa-instagram"})}),Object(vt.jsx)(mt.a,{className:"social-icon-link youtube",to:{pathname:"https://vimeo.com/user153997361"},target:"_blank","aria-label":"Vimeo",children:Object(vt.jsx)("i",{className:"fab fa-vimeo-v"})}),Object(vt.jsx)(mt.a,{className:"social-icon-link twitter",to:{pathname:"https://twitter.com/Drone_Tahoe"},target:"_blank","aria-label":"Twitter",children:Object(vt.jsx)("i",{className:"fab fa-twitter"})})]})})]})})})})),_t=(a(73),a.p+"static/media/landing-video.a3b6255a.m4v");var wt=Object(dt.b)((e=>({auth:e.auth})))((e=>{let{clearReservations:t,clearJobs:a,auth:{loggedUser:s}}=e;return Object(vt.jsxs)("div",{className:"hero-container",children:[Object(vt.jsx)("video",{className:"hero-container-video",src:_t,autoPlay:!0,loop:!0,muted:!0,playsInline:!0}),Object(vt.jsx)("div",{className:"hero-container-image"}),Object(vt.jsxs)("div",{className:"hero-box",children:[Object(vt.jsx)("div",{className:"hero-container-logo",children:Object(vt.jsx)("img",{src:Nt,alt:"",className:"hero-container-logo-img"})}),Object(vt.jsx)("p",{className:"hero-subheading",children:"Drone Mapping, Inspection, and Walkthrough Services in North Lake Tahoe"}),Object(vt.jsx)("div",{className:"hero-button",children:Object(vt.jsx)(mt.a,{to:!s||s&&"admin"!==s.type?"/reservation/0":"/reservations-list",onClick:()=>{t(),a(),window.scrollTo(0,0)},className:"btn btn-primary",children:!s||s&&"admin"!==s.type?"Schedule Now":"Reservations"})})]}),Object(vt.jsxs)("div",{className:"hero-bottom",children:["360 Virtual Walkthrough brings drone data + 360 videos and photos into one solution -"," ",Object(vt.jsx)("span",{children:Object(vt.jsx)(mt.a,{to:"/vrm",onClick:()=>window.scrollTo(0,0),className:"btn-link",children:"Learn More"})})]})]})}));a(74);var Dt=Object(dt.b)((e=>({auth:e.auth})))((e=>{let{clearReservations:t,clearJobs:a,auth:{loggedUser:s}}=e;return Object(vt.jsxs)("section",{className:"about",id:"about",children:[Object(vt.jsxs)("div",{className:"about-text",children:[Object(vt.jsx)("h2",{className:"heading-secondary-gradient",children:"WE\u2019RE DREAMERS, BELIEVERS, & ACHIEVERS"}),Object(vt.jsx)("p",{className:"about-text-description",children:"Our dream of engineering, building and flying sUAS drones equipped w/ First Person View (FPV) began in 1976. DRONE TAHOE now has over 50 combined years of career military & commercial aviation experience."}),Object(vt.jsx)("p",{className:"about-text-description",children:"Dreams do come true!"}),Object(vt.jsxs)("div",{className:"about-text-description",children:[Object(vt.jsx)("p",{children:"Credentials include:"}),Object(vt.jsxs)("ul",{className:"about-credentials",children:[Object(vt.jsxs)("li",{className:"about-credentials-item",children:[" ","FAA sUAS Pilot Certification"," "]}),Object(vt.jsx)("li",{className:"about-credentials-item",children:"NTSB Aviation Accident Investigation Certification"})]})]})]}),Object(vt.jsx)("div",{className:"about-text-link",children:Object(vt.jsx)(mt.a,{to:!s||s&&"admin"!==s.type?"/reservation/0":"/reservations-list",onClick:()=>{t(),a(),window.scrollTo(0,0)},className:"btn",children:!s||s&&"admin"!==s.type?"Schedule Your Project Today":"Reservations"})}),Object(vt.jsx)("div",{className:"about-image"})]})}));var Et=Object(dt.b)(null,{clearReservations:Ge,clearJobs:Ke})((e=>{let{image:t,title:a,details:s,job:c,clearReservations:r,clearJobs:l}=e;return Object(vt.jsxs)("div",{className:"services-section-item",children:[Object(vt.jsx)("img",{src:t,className:"services-section-item-image",alt:""}),Object(vt.jsxs)("div",{className:"services-section-item-text",children:[Object(vt.jsx)("h3",{className:"services-section-item-heading",children:a}),Object(vt.jsxs)("div",{className:"services-section-item-sub",children:[Object(vt.jsx)("h5",{className:"services-section-item-sub-details",children:s}),Object(vt.jsx)(mt.a,{to:"/reservation/".concat(c),onClick:()=>{r(),l()},className:"btn btn-tertiary",children:"Book Now"})]})]})]})})),Tt=(a(75),a.p+"static/media/construction.664e6551.jpg"),Rt=a.p+"static/media/inspection.843d2f0f.jpg",kt=a.p+"static/media/elevation-map.17e190b0.jpg";var Ct=()=>Object(vt.jsxs)("div",{className:"services-section",id:"services",children:[Object(vt.jsx)(mt.a,{to:"/servicesfull",onClick:()=>window.scrollTo(0,0),className:"services-heading-link",children:Object(vt.jsx)("h2",{className:"services-heading",children:"Services"})}),Object(vt.jsxs)("div",{className:"services-section-items",children:[Object(vt.jsx)(Et,{image:Tt,title:"Construction",details:"Create accurate, high-resolution digital replicas with 3D models, real-time 2D maps, and 360 virtual tours for any construction site.",job:"3"}),Object(vt.jsx)(Et,{image:Rt,title:"Inspection",details:"Commercial, Residential, Architecture, Legal, Resort, Tall Structures, Towers, Live View! (UHD)",job:"4"}),Object(vt.jsx)(Et,{image:kt,title:"Mapping",details:"Mapping of any size parcel. Accurate to 1\u201d.",job:"1"})]}),Object(vt.jsx)("div",{children:Object(vt.jsx)(mt.a,{to:"/servicesfull",onClick:()=>window.scrollTo(0,0),className:"btn",children:"See All Services"})})]}),St=(a(76),a.p+"static/media/bruin.c3c4b2f1.jpg"),Ft=a.p+"static/media/brassfield.d8a6f31e.jpg",At=a.p+"static/media/corteva.e0f1eadd.jpg",Mt=a.p+"static/media/mccarthy.abf978dd.jpg",Ut=a.p+"static/media/tahoenalu.140d5b2b.jpg",Yt=a.p+"static/media/tahoegal.1decac46.jpg",It=a.p+"static/media/tahoeyachtclub.81f2640c.jpg",Lt=a.p+"static/media/tgma.ad01854b.jpg",Jt=a.p+"static/media/eaa.ead83013.jpg",Pt=a.p+"static/media/greybluerealty.58255b7d.jpg";var Ht=()=>Object(vt.jsx)("div",{className:"testimonials",children:Object(vt.jsxs)("div",{className:"testimonials-clients",children:[Object(vt.jsx)("h2",{className:"testimonials-clients-heading",children:"Clients"}),Object(vt.jsx)("p",{className:"testimonials-clients-subheading",children:"We have recently worked with the following satisfied clients:"}),Object(vt.jsxs)("div",{className:"testimonials-clients-group",children:[Object(vt.jsx)("img",{src:Ut,alt:"Tahoe Nalu",className:"testimonials-clients-group-item gray"}),Object(vt.jsx)("img",{src:Ft,alt:"Brass Field",className:"testimonials-clients-group-item"}),Object(vt.jsx)("img",{src:It,alt:"Tahoe Yacth Club",className:"testimonials-clients-group-item gray"}),Object(vt.jsx)("img",{src:Mt,alt:"Mccarthy",className:"testimonials-clients-group-item"}),Object(vt.jsx)("img",{src:Yt,alt:"Tahoe Gal",className:"testimonials-clients-group-item gray"})]}),Object(vt.jsxs)("div",{className:"testimonials-clients-group",children:[Object(vt.jsx)("img",{src:Jt,alt:"EAA",className:"testimonials-clients-group-item gray"}),Object(vt.jsx)("img",{src:Pt,alt:"Grey Blue",className:"testimonials-clients-group-item gray"}),Object(vt.jsx)("img",{src:At,alt:"Corteva",className:"testimonials-clients-group-item"}),Object(vt.jsx)("img",{src:Lt,alt:"TGMA",className:"testimonials-clients-group-item gray"}),Object(vt.jsx)("img",{src:St,alt:"Bruin",className:"testimonials-clients-group-item smaller"})]})]})});a(77);var Bt=Object(dt.b)((e=>({alerts:e.alert})))((e=>{let{alerts:t,type:a,classType:s}=e;return null!==t&&t.map((e=>Object(vt.jsx)(c.a.Fragment,{children:e.type===a&&Object(vt.jsx)("div",{className:"alert alert-".concat(e.alertType," ").concat(s),children:e.msg})},e.id)))})),Vt=a.p+"static/media/spinner.e2ffacc9.gif";var Xt=Object(dt.b)((e=>({global:e.global})))((e=>{let{global:{loadingSpinner:t}}=e;return Object(vt.jsx)(s.Fragment,{children:t&&Object(vt.jsx)("div",{className:"blurr-bg",style:{zIndex:1e3},children:Object(vt.jsx)("img",{src:Vt,style:{width:"300px",display:"flex",margin:"0 auto"},alt:""})})})}));a(78);var qt=Object(dt.b)((e=>({auth:e.auth})),{sendEmail:Qe})((e=>{let{sendEmail:t,auth:{loggedUser:a}}=e;const c={name:"",lastname:"",phone:"",email:"",company:"",experience:"",message:""},[r,l]=Object(s.useState)(c),{name:o,lastname:n,phone:i,email:d,company:j,experience:m,message:b}=r,u=e=>{l((t=>({...t,[e.target.id]:e.target.value})))};return Object(vt.jsxs)("div",{className:"booking",id:"booking",children:[Object(vt.jsx)(Xt,{}),Object(vt.jsx)("section",{className:"section-book",id:"section-booking",children:Object(vt.jsx)("div",{className:"row",children:Object(vt.jsx)("div",{className:"book",children:Object(vt.jsx)("div",{className:"book__form",children:Object(vt.jsxs)("form",{onSubmit:async e=>{e.preventDefault();await t({...r,...a&&{name:a.name,lastname:a.lastname,phone:a.cel,email:a.email}},!1,!0)&&l(c)},className:"form",id:"form",children:[Object(vt.jsxs)("div",{className:"u-margin-bottom-6 booking-title",children:[Object(vt.jsx)("h2",{className:"booking-title-heading",children:"Contact Us"}),Object(vt.jsx)("h3",{className:"booking-title-subheading",children:"Let us know a little bit about your project and we'll take it from there."})]}),Object(vt.jsx)(Bt,{type:"1"}),!a&&Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsx)("div",{className:"form__group",children:Object(vt.jsxs)("div",{className:"form__group-sub",children:[Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",value:o,onChange:u,name:"name",placeholder:"First Name",id:"name",required:!0}),Object(vt.jsx)("label",{htmlFor:"nafme",className:"form__label",children:"First Name"})]}),Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",name:"lastname",value:n,onChange:u,placeholder:"Last Name",id:"lastname",required:!0}),Object(vt.jsx)("label",{htmlFor:"lastname",className:"form__label",children:"Last Name"})]})]})}),Object(vt.jsx)("div",{className:"form__group",children:Object(vt.jsxs)("div",{className:"form__group-sub",children:[Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",name:"phone",value:i,onChange:u,placeholder:"Phone",id:"phone",required:!0}),Object(vt.jsx)("label",{htmlFor:"phone",className:"form__label",children:"Phone"})]}),Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"email",className:"form__input",name:"email",placeholder:"Email Address",value:d,onChange:u,id:"email",required:!0}),Object(vt.jsx)("label",{htmlFor:"email",className:"form__label",children:"Email Address"})]})]})})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",name:"company",value:j,onChange:u,placeholder:"Company Name",id:"company"}),Object(vt.jsx)("label",{htmlFor:"company",className:"form__label",children:"Company Name"})]}),Object(vt.jsxs)("div",{style:{width:"100%"},children:[Object(vt.jsx)("label",{htmlFor:"experience",className:"form__label",children:"What's Your Experience With Drones?"}),Object(vt.jsxs)("select",{id:"experience",className:"form__input space ".concat(""===m?"empty":""),value:m,onChange:u,name:"experience",children:[Object(vt.jsx)("option",{value:"",children:"* Select your Experience"}),Object(vt.jsx)("option",{value:"Own Drones",children:"Own Drones"}),Object(vt.jsx)("option",{value:"Use Third Party Drone Services",children:"Use Third Party Drone Services"}),Object(vt.jsx)("option",{value:"Interested in Using Drones",children:"Interested in Using Drones"}),Object(vt.jsx)("option",{value:"Not Interested in Using Drones",children:"Not Interested in Using Drones"})]})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("textarea",{type:"text",value:b,onChange:u,className:"form__input",name:"message",placeholder:"Tell us About Your Project",id:"message"}),Object(vt.jsx)("label",{htmlFor:"message",className:"form__label",children:"Tell us About Your Project"})]}),Object(vt.jsx)("div",{className:"form__group",children:Object(vt.jsx)("button",{type:"submit",className:"btn btn-secondary",children:"Submit \u2192"})})]})})})})})]})}));var Gt=Object(dt.b)((e=>({auth:e.auth})),{clearJobs:Ke,clearReservations:Ge})((e=>{let{clearReservations:t,clearJobs:a,auth:{loggedUser:s}}=e;return Object(vt.jsxs)("div",{children:[Object(vt.jsx)(wt,{clearJobs:a,clearReservations:t}),Object(vt.jsx)(Ct,{}),Object(vt.jsx)(Dt,{clearJobs:a,clearReservations:t}),Object(vt.jsx)(Ht,{}),(!s||s&&"admin"!==s.type)&&Object(vt.jsx)(qt,{})]})}));a(79);function Wt(){return c.a.useEffect((()=>{window.scrollTo(0,0)})),Object(vt.jsxs)("div",{children:[Object(vt.jsxs)("div",{className:"contact",children:[Object(vt.jsx)("h1",{className:"contact-heading",children:"Get in Touch with Us."}),Object(vt.jsx)("h3",{className:"contact-subheading",children:"Do not hesitate to reach out with any questions. We'll be in touch."})]}),Object(vt.jsx)(qt,{})]})}a(80);var Zt=Object(dt.b)((e=>({job:e.job})),{loadJobs:Ze})((e=>{let{loadJobs:t,job:{jobs:a,loading:c}}=e;return Object(s.useEffect)((()=>{c&&t({})}),[c,t]),Object(vt.jsxs)("div",{className:"servicesfull",id:"servicesfull",children:[Object(vt.jsx)("h2",{className:"heading-primary",children:"Our Services"}),Object(vt.jsx)(Xt,{}),Object(vt.jsx)("div",{className:"card-services",children:!c&&a.map(((e,t)=>Object(vt.jsx)("div",{className:"card",children:Object(vt.jsxs)("div",{className:"card-inner",children:[Object(vt.jsx)("div",{className:"card-front card-front-".concat(t+1),children:Object(vt.jsx)("h4",{className:"card-heading card-heading-".concat(t+1),children:Object(vt.jsx)("span",{className:"card-heading-span card-heading-span-".concat(t+1),children:e.title})})}),Object(vt.jsx)("div",{className:"card-back card-back-".concat(t+1),children:Object(vt.jsxs)("div",{className:"card-cta",children:[Object(vt.jsxs)("div",{className:"card-price-box",children:[Object(vt.jsx)("p",{className:"card-price-only",children:e.subtitle}),Object(vt.jsx)("p",{className:"card-price-value",children:e.poptext})]}),Object(vt.jsx)("div",{className:"popup-button",children:Object(vt.jsx)(mt.a,{to:"/booking",onClick:()=>window.scrollTo(0,0),className:"btn btn-quaternary",children:"Contact Us"})})]})})]})},t)))})]})})),Kt=(a(81),a.p+"static/media/global.fc9ea976.png"),zt=a.p+"static/media/progress.9a7ba162.png",$t=a.p+"static/media/safety.c8723814.png";var Qt=()=>Object(vt.jsxs)("div",{children:[Object(vt.jsx)("div",{className:"vrm-header",id:"vrm",children:Object(vt.jsxs)("div",{className:"vrm-header-section",children:[Object(vt.jsx)("h1",{className:"vrm-header-text",children:"Virtual Reality Management with 360 Virtual Walkthrough"}),Object(vt.jsx)("h2",{className:"vrm-header-subtext",children:"Unlimited perspectives in one solution."})]})}),Object(vt.jsxs)("section",{className:"vrm-benefits",children:[Object(vt.jsxs)("div",{className:"vrm-benefits-item",children:[Object(vt.jsx)("img",{src:zt,className:"vrm-benefits-item-image",alt:"global"}),Object(vt.jsxs)("div",{children:[Object(vt.jsx)("h3",{className:"vrm-benefits-item-heading",children:"Complete Site Documentation"}),Object(vt.jsx)("h5",{className:"vrm-benefits-item-text",children:"DroneTahoe digitizes your entire site with drones and 360 cameras."})]})]}),Object(vt.jsxs)("div",{className:"vrm-benefits-item",children:[Object(vt.jsx)("img",{src:Kt,className:"vrm-benefits-item-image",alt:"progress"}),Object(vt.jsxs)("div",{children:[Object(vt.jsx)("h3",{className:"vrm-benefits-item-heading",children:"One Solution for Entire Site Reality"}),Object(vt.jsx)("h5",{className:"vrm-benefits-item-text",children:"Analyze drone and 360 data on one mobile platform."})]})]}),Object(vt.jsxs)("div",{className:"vrm-benefits-item",children:[Object(vt.jsx)("img",{src:$t,className:"vrm-benefits-item-image",alt:"maps"}),Object(vt.jsxs)("div",{children:[Object(vt.jsx)("h3",{className:"vrm-benefits-item-heading",children:"Increase Safety, Decrease Rework"}),Object(vt.jsx)("h5",{className:"vrm-benefits-item-text",children:"Catch issues earlier than ever with visual data."})]})]})]}),Object(vt.jsxs)("section",{className:"vrm-description",children:[Object(vt.jsx)("div",{className:"vrm-description-img img1"}),Object(vt.jsx)("p",{className:"vrm-description-text",children:"DroneTahoe takes interior, exterior and aerial imagery of your job site and digitizes it into Virtual Reality. Once digitized, your entire team can inspect, validate, and comprehend site progress \u2013 no matter where they are in the world - with a 360\xb0 perspective."}),Object(vt.jsxs)("div",{className:"vrm-group",children:[Object(vt.jsx)("img",{src:St,alt:"",className:"vrm-group-item"}),Object(vt.jsx)("img",{src:Ft,alt:"",className:"vrm-group-item"}),Object(vt.jsx)("img",{src:At,alt:"",className:"vrm-group-item"}),Object(vt.jsx)("img",{src:Mt,alt:"",className:"vrm-group-item"})]})]}),Object(vt.jsx)(qt,{})]});a(82);var ea=()=>Object(vt.jsxs)("div",{className:"portfolio",children:[Object(vt.jsx)("h1",{className:"heading-primary",children:"Portfolio"}),Object(vt.jsx)("h2",{className:"heading-primary-subheading",children:"A few examples of our recent work:"}),Object(vt.jsxs)("div",{className:"portfolio-group",children:[Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/630298172?h=481cc9d119&badge=0&autopause=0&player_id=0&app_id=58479",frameborder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowfullscreen:!0,title:"Phoenix Rising"}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"Phoenix Rising"})]}),Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/631210506?h=b5af32c692&badge=0&autopause=0&player_id=0&app_id=58479",title:"Vimeo video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"Martis House Layout"})]}),Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/643232672?h=ceaec90017&badge=0&autopause=0&player_id=0&app_id=58479",title:"Vimeo video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"Fannette Island 3D Model"})]}),Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/643238467?h=a248a1f339&badge=0&autopause=0&player_id=0&app_id=58479",title:"Vimeo video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"Emerald Bay Teahouse Fantasy Full Moon"})]}),Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/631124253?h=8cccc7bfec&badge=0&autopause=0&player_id=0&app_id=58479",title:"Vimeo video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"Phoenix Rising Roof Barcode"})]}),Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/643418675?h=544a013c78&badge=0&autopause=0&player_id=0&app_id=58479",title:"Vimeo video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"Emerald Bay & Granite Lake"})]}),Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/643385157?h=ae7d4a6f15&badge=0&autopause=0&player_id=0&app_id=58479",title:"Vimeo video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"Eagle Falls 2021"})]}),Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/643244364?h=ebcd7c5215&badge=0&autopause=0&player_id=0&app_id=58479",title:"Vimeo video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"Lake Azure"})]}),Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/643279221?h=25bb357e5c&badge=0&autopause=0&player_id=0&app_id=58479",title:"Vimeo video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"South Yuba River Running #1"})]})]})]}),ta=a(38),aa=a(39),sa=a.n(aa);a(83);var ca=Object(dt.b)((e=>({auth:e.auth})),{facebookLogin:e=>async t=>{let a=!1;try{const a=await st.post("/auth/facebooklogin",e);t({type:u,payload:a.data}),t($e(!0))}catch(s){401!==s.response.status?(t(Le(s.response.data.msg,"danger","1")),t(tt(h,s.response)),t(Je(!1))):a=!0}a||window.scrollTo(0,0)},googleLogin:e=>async t=>{let a=!1;try{const a=await st.post("/auth/googlelogin",e);t({type:u,payload:a.data}),t($e(!0))}catch(s){401!==s.response.status?(t(Le(s.response.data.msg,"danger","1")),t(tt(h,s.response)),t(Je(!1))):a=!0}a||window.scrollTo(0,0)},loginUser:e=>async t=>{t(Je(!0));let a=!1,s={};for(const r in e)""!==e[r]&&(s[r]=e[r]);try{const e=await st.post("/auth",s);t({type:u,payload:e.data}),t($e(!0))}catch(c){401!==c.response.status?(t(tt(h,c.response)),c.response.data.errors?c.response.data.errors.forEach((e=>{t(Le(e.msg,"danger","1"))})):t(Le(c.response.msg,"danger","1")),t(Je(!1))):a=!0}a||window.scrollTo(0,0)},setAlert:Le,sendPasswordLink:e=>async t=>{t(Je(!0));let a=!1;try{const a=await st.put("/auth/password",{email:e});t({type:v}),t(Le(a.data.msg,"success","1"))}catch(s){401!==s.response.status?(t(tt(g,s.response)),s.response.data.errors?s.response.data.errors.forEach((e=>{t(Le(e.msg,"danger","1"))})):t(Le(s.response.data.msg,"danger","1"))):a=!0}a||(window.scrollTo(0,0),t(Je(!1)))},updateLoadingSpinner:Je})((e=>{let{facebookLogin:t,googleLogin:a,loginUser:c,setAlert:r,sendPasswordLink:l,updateLoadingSpinner:o}=e;const[n,i]=Object(s.useState)({email:"",password:""}),{email:d,password:j}=n,[m,b]=Object(s.useState)({forgotPassword:!1}),{forgotPassword:u}=m,h=e=>{i({...n,[e.target.name]:e.target.value})};return Object(vt.jsxs)("div",{className:"section-login",children:[Object(vt.jsx)(Xt,{}),Object(vt.jsx)("div",{className:"login",children:Object(vt.jsxs)("div",{className:"login-card",children:[Object(vt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),u?l(d):c(n)},className:"form",children:[Object(vt.jsx)("h2",{className:"heading-primary",children:u?"Change Password":"Login"}),u?Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsx)("div",{className:"form-section",children:Object(vt.jsxs)("div",{className:"form-group",children:[Object(vt.jsx)("input",{className:"form__input",type:"email",name:"email",value:d,onChange:e=>h(e),placeholder:"Email"}),Object(vt.jsx)("label",{htmlFor:"email",className:"form__label",children:"Email"})]})}),Object(vt.jsxs)("div",{className:"u-center-text",children:[Object(vt.jsx)("div",{className:"login-btn",children:Object(vt.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Send Link"})}),Object(vt.jsx)("p",{className:"login-card-sign",children:"An email will be sent to the email address so you can change the password."}),Object(vt.jsx)("p",{className:"login-card-sign",children:"Please, check your spam folder before resendig the email."})]}),Object(vt.jsx)("br",{}),Object(vt.jsx)("button",{className:"btn-link",onClick:()=>b((e=>({...e,forgotPassword:!1}))),children:"Go Back"})]}):Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsxs)("div",{className:"form-section",children:[Object(vt.jsx)(Bt,{type:"1"}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"email",name:"email",value:d,onChange:e=>h(e),placeholder:"Email"}),Object(vt.jsx)("label",{htmlFor:"email",className:"form__label",children:"Email"})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"password",value:j,name:"password",onChange:e=>h(e),placeholder:"Password"}),Object(vt.jsx)("label",{htmlFor:"name",className:"form__label",children:"Password"})]})]}),Object(vt.jsxs)("div",{className:"u-center-text",children:[Object(vt.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Sign In"}),Object(vt.jsxs)("p",{className:"login-card-sign",children:["Don't have an account? \xa0",Object(vt.jsx)(mt.a,{className:"btn-link",onClick:()=>window.scrollTo(0,0),to:"/signup",children:"Sign up"})]}),Object(vt.jsxs)("p",{className:"login-card-sign",children:["Forgot password? \xa0",Object(vt.jsx)("button",{className:"btn-link",onClick:()=>b((e=>({...e,forgotPassword:!0}))),children:"Change Password"})]}),Object(vt.jsxs)("div",{className:"login-card-smedia",children:[Object(vt.jsx)(ta.GoogleLogin,{clientId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_GOOGLE_KEY,buttonText:"Login",className:"btn-google",onRequest:()=>o(!0),onSuccess:e=>{a({tokenId:e.tokenId})},onFailure:e=>{console.log(e.error),o(!1),r("Error login in","danger","2")},cookiePolicy:"single_host_origin"}),Object(vt.jsx)("span",{className:"btn-facebook",children:Object(vt.jsx)(sa.a,{onClick:()=>o(!0),appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FACEBOOK_KEY,autoLoad:!1,textButton:Object(vt.jsx)("i",{className:"fab fa-facebook-f"}),callback:e=>{t({accessToken:e.accessToken,userID:e.userID})}})})]})]})]})]}),Object(vt.jsx)("div",{className:"login-img img"})]})})]})}));var ra=Object(dt.b)((e=>({auth:e.auth})))((e=>{let{component:t,auth:{loggedUser:a,loading:c,token:r},types:l,path:o}=e;return!c&&r?0===l.length||l.some((e=>e===a.type))?Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsx)(Xt,{}),Object(vt.jsx)(jt.b,{exact:!0,path:o,component:t})]}):Object(vt.jsx)(jt.a,{to:"/"}):null===r?Object(vt.jsx)(jt.a,{to:"/login"}):Object(vt.jsx)(Xt,{})}));var la=Object(dt.b)((e=>({auth:e.auth})))((e=>{let{component:t,auth:{isAuthenticated:a,userLogged:c},path:r}=e;return a?Object(vt.jsx)(jt.a,{to:c&&"customer"===c.type?"/":"/reservations-list"}):Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsx)(Xt,{}),Object(vt.jsx)(jt.b,{exact:!0,path:r,component:t})]})}));a(84);var oa=Object(dt.b)((e=>({auth:e.auth,user:e.user})),{signup:e=>async t=>{t(Je(!0));let a=!1,s={};for(const r in e)""!==e[r]&&(s[r]=e[r]);try{await st.post("/auth/signup",s),t({type:v})}catch(c){401!==c.response.status?(t(tt(O,c.response)),c.response.data.errors?c.response.data.errors.forEach((e=>{t(Le(e.msg,"danger","1"))})):t(Le(c.response.data.msg,"danger","1")),window.scrollTo(0,0)):a=!0}a||t(Je(!1))},updateUser:(e,t)=>async a=>{a(Je(!0));let s=!1,c={};for(const t in e)""!==e[t]&&(c[t]=e[t]);try{const s=await st.put("/user/".concat(e.id),c);a({type:t?b:T,payload:s.data}),a(Le("".concat(t?"Profile":"User"," Successfully Updated"),"success","1")),t||(a(Ge()),Ye.goBack())}catch(r){401!==r.response.status?(a(xt(k,r.response)),r.response.data.errors?r.response.data.errors.forEach((e=>{a(Le(e.msg,"danger","1"))})):a(Le(r.response.data.msg,"danger","1"))):s=!0}s||(window.scrollTo(0,0),a(Je(!1)))},loadUser:e=>async t=>{t(Je(!0));let a=!1;try{const a=await st.get("/user/".concat(e));t({type:D,payload:a.data})}catch(s){401!==s.response.status?(t(Le(s.response.data.msg,"danger","1")),t(xt(k,s.response))):a=!0}a||t(Je(!1))},clearEmailSent:()=>e=>{e({type:N})}})(Object(jt.g)((e=>{let{auth:{loggedUser:t,isAuthenticated:a,loading:c,emailSent:r},user:{user:l,loadingUser:o},location:n,match:i,signup:d,loadUser:j,updateUser:m,clearEmailSent:b}=e;const u=t&&"admin"===t.type,h=i.params.user_id;let p=n.pathname.replace("/","");h&&(p=p.replace("/".concat(h),""));const[g,O]=Object(s.useState)({id:"",name:"",lastname:"",email:"",password:"",passwordConf:"",cel:"",type:""}),{name:x,lastname:v,email:f,password:N,cel:y,type:_,passwordConf:w}=g;Object(s.useEffect)((()=>{let e;(!e&&"signup"!==p&&""===f||"profile"===p&&f!==t.email)&&(b(),h?o?j(h):e=l:e=t,e&&O((t=>({...t,id:e.id,name:e.name,lastname:e.lastname,type:e.type,email:e.email,cel:"0"===e.cel?"":e.cel}))))}),[t,o,l,h,j,f,p,b]),Object(s.useEffect)((()=>{r&&window.scrollTo(0,0)}),[r]);const D=e=>{O((t=>({...t,[e.target.id]:e.target.value})))},E=async e=>{e.preventDefault(),"signup"===p?d(g):m(g,"profile"===p)};return(!a||!c)&&Object(vt.jsxs)("div",{className:"user",children:[Object(vt.jsx)("h2",{className:"heading-primary",children:(()=>{switch(p){case"profile":return Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsx)("i",{className:"fas fa-user-alt"}),"\xa0My Profile"]});case"signup":return Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsx)("i",{className:"fas fa-user-plus"}),"\xa0New account"]});case"edit-user":return Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsx)("i",{className:"fas fa-user-edit"}),"\xa0Edit User"]})}})()}),r?Object(vt.jsx)("div",{className:"user-email u-center-text",children:Object(vt.jsxs)("div",{children:[Object(vt.jsx)("i",{className:"fas fa-envelope user-email-icon"}),Object(vt.jsxs)("h4",{className:"user-email-text",children:["We've sent an email to"," ",Object(vt.jsx)("span",{className:"user-email-text-email",children:f}),".",Object(vt.jsx)("br",{}),"Click the confirmation link in that email to start using our servicies."]}),Object(vt.jsxs)("div",{className:"user-email-subtext",children:[Object(vt.jsx)("p",{children:"If you did not recieve the email,\xa0"}),Object(vt.jsx)("button",{type:"button",onClick:E,className:"btn-link",children:"resend it."}),Object(vt.jsx)("br",{}),Object(vt.jsx)("p",{children:"Check the spam folder to be sure it was not sent."})]})]})}):Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsx)(Bt,{type:"1"}),Object(vt.jsxs)("form",{className:"form",onSubmit:E,children:[Object(vt.jsx)("div",{className:"form__group",children:Object(vt.jsxs)("div",{className:"form__group-sub",children:[Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",placeholder:"First Name",id:"name",onChange:D,value:x}),Object(vt.jsx)("label",{htmlFor:"name",className:"form__label",children:"First Name"})]}),Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",placeholder:"Last Name",id:"lastname",onChange:D,value:v}),Object(vt.jsx)("label",{htmlFor:"lastname",className:"form__label",children:"Last Name"})]})]})}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:f,id:"email",disabled:"signup"!==p,onChange:D,placeholder:"Email"}),Object(vt.jsx)("label",{htmlFor:"email",className:"form__label",children:"Email"})]}),u&&Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsxs)("select",{className:"form__input ".concat(""===_?"empty":""),name:"type",id:"type",value:_,onChange:D,children:[Object(vt.jsx)("option",{value:"",children:"* Select user type"}),Object(vt.jsx)("option",{value:"admin",children:"Admin"}),Object(vt.jsx)("option",{value:"customer",children:"Customer"})]}),Object(vt.jsx)("label",{htmlFor:"type",className:"form__label ".concat(""===_?"hide":""),children:"User Type"})]}),"signup"===p&&Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",autoComplete:"new-password",id:"password",type:"password",value:N,placeholder:"Password",onChange:D}),Object(vt.jsx)("label",{htmlFor:"password",className:"form__label",children:"Password"})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",id:"passwordConf",type:"password",value:w,placeholder:"Confirm Password",onChange:D}),Object(vt.jsx)("label",{htmlFor:"passwordConf",className:"form__label",children:"Confirm Password"})]})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:y,onChange:D,id:"cel",placeholder:"Cellphone"}),Object(vt.jsx)("label",{htmlFor:"cel",className:"form__label",children:"Cellphone"})]}),Object(vt.jsx)("div",{className:"btn-center",children:Object(vt.jsx)("button",{className:"btn btn-primary",type:"submit",children:"signup"===p?"Sign Up":"Save"})}),"signup"===p&&Object(vt.jsxs)("p",{className:"user-login",children:["Do you already have an account? \xa0",Object(vt.jsx)(mt.a,{onClick:()=>window.scrollTo(0,0),className:"btn-link",to:"/login",children:"Login"})]})]})]})]})})));a(85);var na=Object(dt.b)((e=>({auth:e.auth,global:e.global})),{activation:e=>async t=>{t(Je(!0));let a=!1;try{const a=await st.post("/auth/activation",{token:e});t({type:x,payload:a.data})}catch(s){401!==s.response.status&&t(tt(O,s.response)),a=!0}a||(window.scrollTo(0,0),t(Je(!1)))},clearJobs:Ke,clearReservations:Ge})((e=>{let{match:t,auth:{loading:a,loggedUser:c,error:r},activation:l,clearJobs:o,clearReservations:n,global:{footer:i,navbar:d}}=e;const j=t.params.token,m=Object(s.useRef)(),[b,u]=Object(s.useState)({float:!0}),{float:h}=b;return Object(s.useEffect)((()=>{l(j)}),[j,l]),Object(s.useEffect)((()=>{if(m.current){m.current.getBoundingClientRect().height+i+d+60>=window.innerHeight&&u((e=>({...e,float:!1})))}}),[i,d]),!a&&Object(vt.jsx)("div",{ref:m,className:"activation ".concat(h?"float":""),children:""!==r?Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsx)("h2",{className:"activation-error-header",children:"Ups... something went wrong!"}),Object(vt.jsx)("p",{className:"activation-error-text",children:r.msg})]}):null!==c&&Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsxs)("h2",{className:"heading-secondary-gradient",children:["Welcome ",c.name+" "+c.lastname,"!"]}),Object(vt.jsx)("p",{className:"activation-text",children:"Welcome to Drone Tahoe! You can start using our services now."}),Object(vt.jsx)("div",{className:"btn-center",children:Object(vt.jsx)(mt.a,{to:"/reservation/0",onClick:()=>{o(),n(),window.scrollTo(0,0)},className:"btn btn-primary",children:"Book now"})})]})})}));a(86);var ia=Object(dt.b)((e=>({global:e.global})),{resetPassword:e=>async t=>{t(Je(!0));let a=!1,s={};for(const r in e)""!==e[r]&&(s[r]=e[r]);try{const e=await st.put("/auth/reset-password",s);t({type:y,payload:e.data}),"admin"===e.data.type?Ye.push("/reservations-list"):Ye.push("/"),t(Le("Password successfully changed","success","1"))}catch(c){401!==c.response.status?(t(tt(g,c.response)),c.response.data.errors?c.response.data.errors.forEach((e=>{t(Le(e.msg,"danger","1"))})):t(Le(c.response.data.msg,"danger","1"))):a=!0}a||(window.scrollTo(0,0),t(Je(!1)))}})((e=>{let{resetPassword:t,match:a,global:{footer:c,navbar:r}}=e;const l=Object(s.useRef)(),[o,n]=Object(s.useState)({password:"",passwordConf:""}),{password:i,passwordConf:d}=o,[j,m]=Object(s.useState)({float:!0}),{float:b}=j;Object(s.useEffect)((()=>{if(l.current){l.current.getBoundingClientRect().height+c+r+60>=window.innerHeight&&m((e=>({...e,float:!1})))}}),[c,r]);const u=e=>{n((t=>({...t,[e.target.id]:e.target.value})))};return Object(vt.jsx)(s.Fragment,{children:Object(vt.jsxs)("div",{className:"changepassword ".concat(b?"float":""),ref:l,children:[Object(vt.jsx)("h2",{className:"heading-primary",children:"Reset Password"}),Object(vt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t({...o,resetLink:a.params.token})},className:"form",children:[Object(vt.jsx)(Bt,{type:"1"}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",id:"password",type:"password",value:i,placeholder:"Password",onChange:u}),Object(vt.jsx)("label",{htmlFor:"password",className:"form__label",children:"Password"})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",id:"passwordConf",type:"password",value:d,placeholder:"Confirm Password",onChange:u}),Object(vt.jsx)("label",{htmlFor:"passwordConf",className:"form__label",children:"Confirm Password"})]}),Object(vt.jsx)("div",{className:"u-center-text",children:Object(vt.jsx)("button",{className:"btn btn-primary",children:"Save"})})]})]})})})),da=a(7),ja=a.n(da);var ma=Object(dt.b)((e=>({auth:e.auth,day:e.day,reservation:e.reservation})))((e=>{let{confirm:t,reservation:{reservations:a},day:{availableHours:c,loadingAvailableHours:r},setToggleModal:l}=e;const[o,n]=Object(s.useState)({hourFrom:"",hourTo:""}),{hourFrom:i,hourTo:d}=o,[j,m]=Object(s.useState)({rangeFrom:[],rangeTo:[]}),{rangeFrom:b,rangeTo:u}=j;Object(s.useEffect)((()=>{if(!r){let e=[],t=a.filter((e=>!e.jobId));t=t.map((e=>new Date(e.hourTo).getUTCHours()));for(let a=0;a<c.length;a++)for(let s=c[a][0];s<c[a][1];s++)(0===t.length||t.some((e=>e!==s)))&&e.push(s);m((t=>({...t,rangeFrom:e})))}}),[r,c,a]);const h=e=>{if(n((t=>({...t,[e.target.id]:e.target.value}))),"hourFrom"===e.target.id&&""!==e.target.value){let t=[],a=e.target.value;const s=c.findIndex((e=>a>=e[0]&&a<=e[1]));for(a++;a<=c[s][1];)t.push(a),a++;m((e=>({...e,rangeTo:t})))}};return Object(vt.jsxs)("form",{className:"form",onSubmit:e=>{e.preventDefault(),t(o)},children:[Object(vt.jsx)("h3",{className:"heading-primary-subheading",children:"Disable Hour Range:"}),Object(vt.jsx)(Bt,{type:"2"}),Object(vt.jsx)("div",{className:"form__group",children:Object(vt.jsxs)("div",{className:"form__group-sub",children:[Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsxs)("select",{className:"form__input ".concat(""===i?"empty":""),id:"hourFrom",value:i,onChange:h,children:[Object(vt.jsx)("option",{value:"",children:"* Start"}),!r&&b.map(((e,t)=>Object(vt.jsx)("option",{value:e,children:"".concat(e%12!==0?e%12:12," ").concat(e>=12?"pm":"am")},t)))]}),Object(vt.jsx)("label",{htmlFor:"hourFrom",className:"form__label ".concat(""===i?"hide":""),children:"Start"})]}),Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsxs)("select",{className:"form__input ".concat(""===d?"empty":""),id:"hourTo",value:d,onChange:h,disabled:""===i,children:[Object(vt.jsx)("option",{value:"",children:"* End"}),u.map(((e,t)=>Object(vt.jsx)("option",{value:e,children:"".concat(e%12!==0?e%12:12," ").concat(e>=12?"pm":"am")},t)))]}),Object(vt.jsx)("label",{htmlFor:"hourTo",className:"form__label ".concat(""===d?"hide":""),children:"End"})]})]})}),Object(vt.jsxs)("div",{className:"popup-btns",children:[Object(vt.jsx)("button",{className:"btn btn-success",type:"submit",children:"Save"}),Object(vt.jsx)("button",{type:"button",className:"btn btn-danger",onClick:l,children:"Cancel"})]})]})}));var ba=e=>{let{job:t,setToggleModal:a,toggleModal:c,confirm:r}=e;const[l,o]=Object(s.useState)({id:0,title:"",subtitle:"",poptext:""}),{title:n,subtitle:i,poptext:d}=l;Object(s.useEffect)((()=>{t&&o((e=>e.id!==t.id?{id:t.id,title:t.title,subtitle:t.subtitle?t.subtitle:"",poptext:t.poptext?t.poptext:""}:e))}),[t]),Object(s.useEffect)((()=>{c||o({id:0,title:"",subtitle:"",poptext:""})}),[c]);const j=e=>{o((t=>({...t,[e.target.id]:e.target.value})))};return Object(vt.jsxs)("form",{className:"form",onSubmit:e=>{e.preventDefault(),r(l)},children:[Object(vt.jsxs)("h3",{className:"heading-primary-subheading",children:[t?"Update":"New"," Job:"]}),Object(vt.jsx)(Bt,{type:"2"}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:n,id:"title",onChange:j,placeholder:"Title"}),Object(vt.jsx)("label",{htmlFor:"title",className:"form__label",children:"Title"})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:i,id:"subtitle",onChange:j,placeholder:"Subtitle"}),Object(vt.jsx)("label",{htmlFor:"subtitle",className:"form__label",children:"Subtitle"})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("textarea",{type:"text",className:"form__input textarea",value:d,rows:"3",onChange:j,placeholder:"Extra Info",id:"poptext"}),Object(vt.jsx)("label",{htmlFor:"poptext",className:"form__label",children:"Extra Info"})]}),Object(vt.jsxs)("div",{className:"popup-btns",children:[Object(vt.jsx)("button",{type:"submit",className:"btn btn-success",children:"Save"}),Object(vt.jsx)("button",{type:"button",className:"btn btn-danger",onClick:a,children:"Cancel"})]})]})},ua=a(19);a(87);var ha=Object(dt.b)((e=>({auth:e.auth,day:e.day})),{checkDayAvailability:Pe,checkMonthAvailability:(e,t,a,s)=>async c=>{c(Je(!0));let r=!1;try{const r=await st.get("/day/".concat(e,"/").concat(t,"/").concat(a,"/").concat(s));c({type:G,payload:r.data})}catch(l){401!==l.response.status?(c(Le(l.response.data.msg,"danger","1")),c(He(se,l.response)),window.scrollTo(0,0)):r=!0}r||c(Je(!1))},updateReservation:Xe,registerReservation:e=>async t=>{t(Je(!0));let a={};for(const c in e)""!==e[c]&&(a[c]=e[c]);try{let e=await st.post("/reservation",a);return t({type:U,payload:e.data}),t(Le("Reservation Registered","success","1")),window.scrollTo(0,0),t(Je(!1)),!0}catch(s){return 401!==s.response.status&&(t(We(H,s.response)),s.response.data.errors?s.response.data.errors.forEach((e=>{t(Le(e.msg,"danger","2"))})):t(Le(s.response.data.msg,"danger","2")),t(Je(!1))),!1}}})((e=>{let{auth:{loggedUser:t},reservation:a,setToggleModal:c,day:{availableHours:r,loadingAvailableHours:l,disabledDays:o},checkMonthAvailability:n,checkDayAvailability:i,updateReservation:d,registerReservation:j}=e;const m=De()().add(1,"day"),b=0!==a.id&&"requested"!==a.status&&("customer"===t.type&&"unpaid"===a.status||"unpaid"!==a.status),[u,h]=Object(s.useState)({hourFrom:"",hourTo:""}),{hourFrom:p,hourTo:g}=u,[O,x]=Object(s.useState)({date:new Date,tab:0,diff:0,toggleModal:!1,month:m.month(),year:m.year()}),{date:v,tab:f,diff:N,toggleModal:y,month:_,year:w}=O;Object(s.useEffect)((()=>{n(_,w,a.id,b?N:0)}),[n,_,w,a.id,b,N]),Object(s.useEffect)((()=>{if(b){const e=De()(a.hourFrom),t=De()(a.hourTo);x((a=>({...a,diff:t.utc().hour()-e.utc().hour()}))),console.log(a)}}),[a,b]);const D=(e,t)=>{const s=new Date(v);s.setHours(t);let c=null;if(b){const e=new Date(a.hourFrom),s=new Date(a.hourTo);c=new Date(v),c.setHours(t+(s.getHours()-e.getHours()))}h((t=>({...t,[e]:s,...c&&{hourTo:c}}))),x((t=>({...t,tab:"hourFrom"!==e||c?3:2})))},E=Object(s.useCallback)((e=>{let{date:t,view:a}=e;if("month"===a&&o.length>0)return o.some((e=>De()(e).utc().format("MM-DD-YYYY")===De()(t).format("MM-DD-YYYY")))}),[o]);return Object(vt.jsxs)("div",{className:"schedule",children:[Object(vt.jsx)(fa,{type:"confirmation",toggleModal:y,setToggleModal:()=>x((e=>({...e,toggleModal:!y}))),confirm:async()=>{await d({...a,hourFrom:De()(p).format("YYYY-MM-DD[T]HH:mm:SS[Z]"),hourTo:De()(g).format("YYYY-MM-DD[T]HH:mm:SS[Z]")})&&c()},text:"Are you sure you want to modify the reservation?"}),Object(vt.jsx)("div",{className:"schedule-calendar",children:Object(vt.jsx)(ua.a,{value:v,onChange:e=>{x((t=>({...t,date:e,tab:e.getMonth()===_?1:0}))),i(De()(e).format("YYYY-MM-DD[T00:00:00Z]"),a.id,b?N:0)},minDate:new Date(m.format()),maxDate:new Date(m.year()+1,m.month(),m.date()),onActiveStartDateChange:e=>{if("month"===e.view||"year"===e.view){const t=e.activeStartDate.getMonth(),a=e.activeStartDate.getFullYear();x((e=>({...e,month:t,year:a})))}},tileDisabled:E})}),Object(vt.jsx)("div",{className:"schedule-details",children:(()=>{switch(f){case 0:return Object(vt.jsx)(s.Fragment,{children:Object(vt.jsxs)("h5",{className:"schedule-details-main",children:["Pick up a Date and Time"," ","admin"!==t.type&&"you are Available"]})});case 1:return!l&&(()=>{let e=[],a=b?N:2;for(let s=0;s<r.length;s++){let c="admin"===t.type||8===r[s][0]?r[s][0]:r[s][0]+1;for(;r[s][1]-c>a;)e.push(c),c++;(17===r[s][1]||"admin"===t.type&&r[s][1]-c===a)&&e.push(c)}return e.length>0?Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsxs)("p",{className:"schedule-details-title",children:[b?"Hour Range":"Start Time",":"]})," ",e.map(((e,t)=>Object(vt.jsxs)("div",{className:"schedule-details-item",onClick:()=>D("hourFrom",e),children:["".concat(e%12!==0?e%12:12," ").concat(e>=12?"pm":"am")," ",b&&" - "+"".concat((e+N)%12!==0?(e+N)%12:12," ").concat(e+N>=12?"pm":"am")]},t)))]}):Object(vt.jsx)("h2",{className:"schedule-details-main error",children:"No availability on this day"})})();case 2:return""!==p&&(()=>{let e=De()(p).hour(),a=[];const c=r.filter((t=>t[0]<=e&&t[1]>e))[0];for(e+=2;e<c[1];)a.push(e),e++;return(17===c[1]||"admin"===t.type&&e===c[1])&&a.push(e),a.length>0?Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsx)("p",{className:"schedule-details-title",children:"End Time:"})," ",a.map(((e,t)=>Object(vt.jsx)("div",{className:"schedule-details-item",onClick:()=>D("hourTo",e),children:"".concat(e%12!==0?e%12:12," ").concat(e>=12?"pm":"am")},t)))]}):Object(vt.jsx)("h2",{className:"schedule-details-main error",children:"No availability on this day"})})();case 3:return Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsx)("p",{className:"schedule-details-title",children:"Reservation Schedule:"}),Object(vt.jsxs)("form",{className:"form",onSubmit:async e=>{if(e.preventDefault(),0!==a.id)x((e=>({...e,toggleModal:!y})));else{await j({...a,..."customer"===t.type&&{user:t.id},hourFrom:De()(p).format("YYYY-MM-DD[T]HH[:00:00Z]"),hourTo:De()(g).format("YYYY-MM-DD[T]HH[:00:00Z]")})&&c()}},children:[Object(vt.jsx)(Bt,{type:"2"}),Object(vt.jsxs)("p",{className:"schedule-details-info",children:[Object(vt.jsx)("span",{className:"schedule-details-subtitle",children:"Date:"})," \xa0",Object(vt.jsx)(ja.a,{date:p,format:"MM/DD/YY"})]}),Object(vt.jsxs)("p",{className:"schedule-details-info",children:[Object(vt.jsx)("span",{className:"schedule-details-subtitle",children:"Time:"})," \xa0",Object(vt.jsx)(ja.a,{format:"h a",date:p})," -"," ",Object(vt.jsx)(ja.a,{format:"h a",date:g})]}),"admin"!==t.type&&0===a.id&&Object(vt.jsx)("p",{className:"text-warning",children:"After saving the reservation, we will set the price for the job and send you an email confirming your appointment, so you can proceed with its payment."}),Object(vt.jsx)("div",{className:"btn-center",children:Object(vt.jsx)("button",{className:"btn",type:"submit",children:"Save"})})]})]})}})()})]})}));var pa=Object(dt.b)((e=>({user:e.user})),{loadUsers:pt,clearUsers:Ot})((e=>{let{user:{users:t,loading:a},selectFinalUser:c,reservationUser:r,searchDisplay:l,switchDisplay:o,clearUsers:n,loadUsers:i,clear:d,completeClear:j,autoComplete:m}=e;const b={email:"",lockEmail:!1},[u,h]=Object(s.useState)(b),{email:p,lockEmail:g}=u;Object(s.useEffect)((()=>{r?r.email&&h((e=>({...e,email:r.email}))):h((e=>({...e,email:""})))}),[r]),Object(s.useEffect)((()=>{d&&(h({email:"",lockEmail:!1}),j())}),[d,j]);return Object(vt.jsxs)("div",{className:"form__group form-search",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:p,disabled:r||g,name:"email",id:"email",autoComplete:m,onFocus:()=>o(!0),onChange:e=>{h((t=>({...t,email:e.target.value}))),e.target.value.length>1&&(n(),i({type:"customer",email:e.target.value},!0))},placeholder:"User's Email"}),Object(vt.jsx)("label",{htmlFor:"email",className:"form__label",children:"User's Email"}),l&&p.length>1&&!r&&Object(vt.jsx)("ul",{className:"form-search-display ".concat(0===t.length?"danger":""),children:!a&&Object(vt.jsx)(s.Fragment,{children:t.length>0?t.map((e=>Object(vt.jsx)("li",{className:"form-search-item",onClick:()=>(e=>{h((t=>({...t,email:e.email,lockEmail:!0}))),c(e),n()})(e),children:e.email},e.id))):Object(vt.jsx)("li",{className:"bg-danger form-search-item",children:"No matching results"})})}),p.length>1&&!r&&Object(vt.jsx)("button",{type:"button",onClick:()=>{c(),h(b)},className:"form-search-close",children:Object(vt.jsx)("i",{className:"far fa-times-circle"})})]})}));a(88);var ga=Object(dt.b)((e=>({job:e.job,auth:e.auth,jobsXreservation:e.jobsXreservation})),{updateReservation:Xe,loadReservationJobs:bt,clearJobsXReservations:ut})(Object(jt.g)((e=>{let{reservation:t,setToggleModal:a,match:r,location:l,job:{jobs:o},auth:{loggedUser:n},jobsXreservation:{jobsXreservations:i,loading:d},updateReservation:j,loadReservationJobs:m,clearJobsXReservations:b}=e;const u=Object(s.useRef)(),h=Object(s.useRef)(),p=/^[0-9]+(\.([0-9]{1,2})?)?$/,g=t&&"requested"!==t.status&&"unpaid"!==t.status,[O,x]=Object(s.useState)({id:0,jobs:[{id:0,jobId:r.params.job_id&&"0"!==r.params.job_id?r.params.job_id:"",value:"",discount:null}],user:null,address:"",comments:null,travelExpenses:null,refundReason:null,total:"",hourFrom:"",hourTo:""}),[v,f]=Object(s.useState)({searchDisplay:!1,clear:!1,changeDate:!1,percentage:[null]}),{searchDisplay:N,clear:y,changeDate:_,percentage:w}=v,{id:D,jobs:E,user:T,address:R,comments:k,total:C,travelExpenses:S,refundReason:F}=O;Object(s.useEffect)((()=>{t&&(!t.jobs&&d?m(t.id):D!==t.id&&(x((e=>{let a={};for(const s in e)a[s]=t[s]?t[s]:e[s];return{...a,jobs:i.map((e=>({...e,value:0===e.value?"":e.value})))}})),f((e=>({...e,percentage:i.map((e=>{if(null!==e.discount){const t=100*e.discount/e.value;return Math.round(100*(t+Number.EPSILON))/100}return null}))})))))}),[t,D,d,m,i]);const A=e=>{const t=E.reduce(((e,t)=>{let a=Number(t.value);return null!==t.discount&&(a-=Number(t.discount)),e+a}),0);let a=null!==e?t+Number(e):t;return a=Math.round(100*(a+Number.EPSILON))/100,a},M=e=>{"travelExpenses"===e.target.name?(p.test(e.target.value)||""===e.target.value)&&x((t=>({...t,travelExpenses:e.target.value,total:A(e.target.value)}))):x((t=>({...t,[e.target.name]:e.target.value})))},U=e=>{"jobId"===e.target.name||""===e.target.value||p.test(e.target.value)&&(null===E[e.target.id].discount||Number(E[e.target.id].discount)<=Number(e.target.value))?E[e.target.id][e.target.name]=e.target.value:(p.test(e.target.value)&&(E[e.target.id].value=e.target.value),E[e.target.id].discount="",w[e.target.id]="",f((e=>({...e,percentage:w})))),x((t=>({...t,jobs:E,..."jobId"!==e.target.name&&{total:A(S)}})))},Y=e=>{if(p.test(e.target.value)){if("discount"===e.target.name&&Number(E[e.target.id].value)>=Number(e.target.value)){const t=100*Number(e.target.value)/Number(E[e.target.id].value);w[e.target.id]=Math.round(100*(t+Number.EPSILON))/100,E[e.target.id].discount=e.target.value}else if(Number(e.target.value)<=100){const t=Number(e.target.value)*Number(E[e.target.id].value)/100;w[e.target.id]=e.target.value,E[e.target.id].discount=Math.round(100*(t+Number.EPSILON))/100}}else""===e.target.value&&(E[e.target.id].discount="",w[e.target.id]="");x((e=>({...e,jobs:E,total:A(S)}))),f((e=>({...e,percentage:w})))},I=(e,t)=>{const a=E.findIndex((t=>Number(t.jobId)===e.id));if(-1===a||a===t)return Object(vt.jsx)("option",{value:e.id,children:e.title})};return Object(vt.jsxs)("div",{className:"reservation-form ".concat("customer"===n.type?"border":""),children:[Object(vt.jsxs)("form",{ref:u,onSubmit:async e=>{e.preventDefault();await j(O)?(a(),b()):u.current.scrollIntoView()},children:["customer"===n.type&&Object(vt.jsx)("div",{className:"btn-top-right",children:Object(vt.jsx)("button",{className:"reservation-form-cancel",onClick:e=>{e.preventDefault(),a(),b()},children:Object(vt.jsx)("i",{className:"fas fa-times"})})}),Object(vt.jsxs)("div",{className:"reservation-form-inner",children:[Object(vt.jsxs)("h4",{className:"heading-primary-subheading",children:[t?t&&"canceled"!==t.status&&"refunded"!==t.status&&"completed"!==t.status?"Update":"":"New"," ","Reservation:"]}),"admin"!==n.type&&!t&&Object(vt.jsx)("p",{className:"text-warning",children:"Enter job site address and job type. Add additional jobs, if any, by clicking the \u2018+ Job\u2019 button. Once all jobs are entered, select your desired date/time below."}),t&&Object(vt.jsxs)("p",{className:"heading-primary-subheading-update",children:[Object(vt.jsx)(ja.a,{date:t.hourFrom,utc:!0,className:"date",format:"MM-DD-YY"})," ","\xa0",Object(vt.jsx)(ja.a,{date:t.hourFrom,utc:!0,format:"h a"})," -"," ",Object(vt.jsx)(ja.a,{date:t.hourTo,utc:!0,format:"h a"})]}),!_&&t&&Object(vt.jsx)(Bt,{type:"2"}),t&&n&&"admin"===n.type&&Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsxs)("p",{className:"reservation-form-item",children:[Object(vt.jsx)("span",{className:"reservation-form-title",children:"Status:"})," ",t.status.charAt(0).toUpperCase()+t.status.slice(1)]}),"unpaid"!==t.status&&"requested"!==t.status&&Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsxs)("p",{className:"reservation-form-item",children:[Object(vt.jsx)("span",{className:"reservation-form-title",children:"Payment method:"})," ",t.paymentId?"Paypal":"Cash"]}),t.paymentId&&Object(vt.jsxs)("p",{className:"reservation-form-item",children:[Object(vt.jsx)("span",{className:"reservation-form-title",children:"PayPal ID:"})," ",t.paymentId]})]})]}),n&&"admin"===n.type&&Object(vt.jsx)(pa,{selectFinalUser:e=>{x((t=>({...t,user:e?e.id:null})))},reservationUser:t?T:null,searchDisplay:N,switchDisplay:e=>f((t=>({...t,searchDisplay:e}))),clear:y,completeClear:()=>f((e=>({...e,clear:!1}))),autoComplete:"new-password"}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:R,onChange:M,disabled:g,id:"address",name:"address",placeholder:"Address"}),Object(vt.jsx)("label",{htmlFor:"address",className:"form__label",children:"Address"})]}),Object(vt.jsxs)("div",{className:"jobs-list",children:[Object(vt.jsx)("p",{className:"jobs-list-title",children:"Jobs List"}),E.length>0&&E.map(((e,a)=>Object(vt.jsxs)("div",{className:"jobs-list-item",children:[Object(vt.jsxs)("div",{className:"jobs-list-item-group ".concat(g?"full":""),children:[Object(vt.jsxs)("p",{className:"jobs-list-item-title",children:["Job ",a+1]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsxs)("select",{className:"form__input ".concat(""===e.jobId?"empty":""),id:a,name:"jobId",value:e.jobId,disabled:g,onFocus:()=>f((e=>({...e,searchDisplay:!1}))),onChange:U,children:[Object(vt.jsx)("option",{value:"",children:"* Type of Job"}),o.length>0&&o.map((e=>Object(vt.jsx)(c.a.Fragment,{children:I(e,a)},"jl-".concat(a,"-").concat(e.id))))]}),Object(vt.jsx)("label",{htmlFor:"item",className:"form__label ".concat(""===e.jobId?"hide":""),children:"Type of Job"})]}),"admin"===n.type?Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:e.value,onChange:U,disabled:g,id:a,name:"value",placeholder:"Job Value"}),Object(vt.jsx)("label",{htmlFor:a,className:"form__label",children:"Job Value"})]}),Object(vt.jsx)("div",{className:"form__group ".concat(null===e.discount?"hide":""),children:Object(vt.jsxs)("div",{className:"form__group-sub",children:[Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",placeholder:"Discount",name:"discount",disabled:g,id:a,onChange:Y,value:null!==e.discount?e.discount:""}),Object(vt.jsx)("label",{htmlFor:"discount",className:"form__label",children:"Discount"})]}),Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",placeholder:"Percentage",name:"percentage",disabled:g,id:a,onChange:Y,value:null!==e.discount?w[a]:""}),Object(vt.jsx)("label",{htmlFor:"percentage",className:"form__label",children:"Percentage"})]})]})}),(t&&("requested"===t.status||"unpaid"===t.status)||!t)&&Object(vt.jsxs)("div",{className:"form__group switch",children:[Object(vt.jsx)("label",{className:"form__label-switch",htmlFor:"discountChk",children:"Discount"}),Object(vt.jsx)("input",{type:"checkbox",id:"discountChk",checked:null!==e.discount,onChange:e=>{e.target.checked?(E[a].discount="",w[a]=""):(E[a].discount=null,w[a]=null),x((e=>({...e,jobs:E,...null==E[a].discount&&{total:A(S)}}))),f((e=>({...e,percentage:w})))},className:"form__input-switch"})]})]}):e.value&&Object(vt.jsx)("div",{className:"jobs-list-item-price",children:Object(vt.jsx)("table",{children:Object(vt.jsxs)("tbody",{children:[Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("td",{className:"text-dark",children:"Value:"}),Object(vt.jsxs)("td",{children:["\xa0$",e.value,"\xa0"]})]}),null!==e.discount&&Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("td",{className:"text-dark",children:"Discount:"}),Object(vt.jsxs)("td",{children:["$",e.discount," (",w[a],"% off)"]})]})]})})})]}),!g&&Object(vt.jsx)("button",{className:"btn-icon",onClick:e=>{e.preventDefault(),E.splice(a,1),w.splice(a,1),x((e=>({...e,jobs:E,total:A(S)}))),f((e=>({...e,percentage:w})))},children:Object(vt.jsx)("i",{className:"far fa-trash-alt"})})]},a))),!g&&Object(vt.jsx)("div",{className:"btn-right",children:Object(vt.jsxs)("button",{className:"btn btn-quaternary",onClick:e=>{e.preventDefault(),x((e=>({...e,jobs:[...E,{id:0,jobId:"",value:"",discount:null}]}))),w.push(null),f((e=>({...e,percentage:w})))},children:[Object(vt.jsx)("i",{className:"fas fa-plus"})," \xa0 Job"]})})]}),Object(vt.jsxs)("div",{className:"form__group ".concat(null===k?"hide":"show"),children:[Object(vt.jsx)("textarea",{type:"text",className:"form__input textarea",value:k,id:"comments",disabled:g,rows:"3",onChange:M,placeholder:"Special Request",name:"comments"}),Object(vt.jsx)("label",{htmlFor:"comments",className:"form__label",children:"Special Request"})]}),(!t||t&&("requested"===t.status||"unpaid"===t.status))&&Object(vt.jsxs)("div",{className:"form__group switch",children:[Object(vt.jsx)("label",{className:"form__label-switch",htmlFor:"commentsChk",children:"Special Request"}),Object(vt.jsx)("input",{checked:null!==k,type:"checkbox",id:"commentsChk",name:"commentsChk",onChange:e=>x((t=>({...t,comments:e.target.checked?"":null}))),className:"form__input-switch"})]}),("admin"===n.type||"customer"===n.type&&null!==S)&&Object(vt.jsxs)("div",{className:"form__group ".concat(null===S?"hide":"show"),children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:null!==S?S:"",onChange:M,disabled:g||"customer"===n.type,id:"travelExpenses",name:"travelExpenses",placeholder:"Travel Expenses"}),Object(vt.jsx)("label",{htmlFor:"travelExpenses",className:"form__label",children:"Travel Expenses"})]}),"admin"===n.type&&(t&&("requested"===t.status||"unpaid"===t.status)||!t)&&Object(vt.jsxs)("div",{className:"form__group switch",children:[Object(vt.jsx)("label",{className:"form__label-switch",htmlFor:"travelExpChk",children:"Travel Expenses"}),Object(vt.jsx)("input",{checked:null!==S,type:"checkbox",id:"travelExpChk",name:"travelExpChk",onChange:e=>x((t=>({...t,travelExpenses:e.target.checked?"":null,...!e.target.checked&&{total:A(null)}}))),className:"form__input-switch"})]}),null!==F&&Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("textarea",{type:"text",className:"form__input textarea",value:F,id:"refundReason",rows:"3",disabled:"customer"===n.type,onChange:M,placeholder:"Refund Reason"}),Object(vt.jsx)("label",{htmlFor:"refundReason",className:"form__label",children:"Refund Reason"})]}),""!==C&&0!==C&&Object(vt.jsxs)("h4",{className:"reservation-form-total",children:[Object(vt.jsx)("span",{className:"reservation-form-total-title",children:"Total:"})," $",C]}),t&&"canceled"!==t.status&&"completed"!==t.status&&Object(vt.jsxs)("div",{className:"btn-center",children:[!_&&("paid"!==t.status||null!==F&&"admin"===n.type)&&Object(vt.jsx)("button",{className:"btn",type:"submit",children:"Save"}),"/schedule"!==l.pathname&&Object(vt.jsx)("button",{className:"btn",onClick:e=>{e.preventDefault(),_||setTimeout((()=>{h.current.scrollIntoView(!0)}),30),f((e=>({...e,changeDate:!_})))},children:_?"Keep Date":"Change Date"})]})]})]}),Object(vt.jsx)("div",{ref:h,children:(_||!t)&&Object(vt.jsx)(ha,{setToggleModal:a,reservation:O})})]})})));var Oa=Object(dt.b)((e=>({auth:e.auth,jobsXreservation:e.jobsXreservation})),{updatePayment:(e,t)=>async a=>{try{const s=await st.put("/reservation/payment/".concat(e),t);return a({type:be,payload:s.data}),!0}catch(s){return 401!==s.response.status&&(a(Le(s.response.data.msg,"danger","2")),a(We(ue,s.response))),!1}},makePayment:e=>async t=>{t(Je(!0));try{const a=await st.post("/reservation/payment",e);return t({type:"PAYMENT_SUCCESSFUL"}),t(Je(!1)),a.data}catch(a){401!==a.response.status&&(t(Le(a.response.data.msg,"danger","2")),t(We(ue,a.response)),t(Je(!1)))}},loadReservationJobs:bt,clearJobsXReservations:ut})((e=>{let{reservation:t,loadReservationJobs:a,clearJobsXReservations:r,updatePayment:o,makePayment:n,setToggleModal:i,auth:{loggedUser:d},jobsXreservation:{jobsXreservations:j,loading:m}}=e;const b=window.paypal?window.paypal.Buttons.driver("react",{React:c.a,ReactDOM:l.a}):void 0;return Object(s.useEffect)((()=>{m&&t&&a(t.id,"full")}),[m,t,a]),Object(vt.jsxs)("div",{className:"payment",children:[Object(vt.jsxs)("h3",{className:"heading-primary-subheading",children:["Reservation Payment: \xa0 $",t&&t.total]}),Object(vt.jsx)(Bt,{type:"2"}),d&&"admin"===d.type&&Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsx)("button",{className:"btn btn-tertiary",onClick:async()=>{await o(t.id)&&i()},children:"Pay Cash"}),Object(vt.jsx)("p",{className:"payment-text",children:"OR"})]}),b&&Object(vt.jsx)(b,{createOrder:async()=>{const e=null===t.travelExpenses?j:[...j,{value:t.travelExpenses,job:{title:"Travel Expenses"},discount:null}],a=await n({jobs:e,total:t.total});return console.log(a),a.id},onApprove:async(e,a)=>{const s=await a.order.capture();await o(t.id,{paymentId:s.id})&&(i(),r())},onError:e=>console.log(e)})]})}));var xa=e=>{let{setToggleModal:t,toggleModal:a,confirm:c,users:r}=e;const[l,o]=Object(s.useState)({subject:"",message:""}),{subject:n,message:i}=l;Object(s.useEffect)((()=>{a||o({subject:"",message:""})}),[a]);const d=e=>{o((t=>({...t,[e.target.id]:e.target.value})))};return Object(vt.jsxs)("form",{className:"form",onSubmit:e=>{e.preventDefault(),c({...l,users:r})},children:[Object(vt.jsx)("h3",{className:"heading-primary-subheading",children:"Outreach Email:"}),Object(vt.jsx)(Bt,{type:"2"}),Object(vt.jsxs)("h5",{className:"popup-email-item",children:[Object(vt.jsx)("span",{className:"popup-email-title",children:"To: "}),r.map(((e,t)=>t+1!==r.length?e+", ":e+"."))]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:n,id:"subject",onChange:d,placeholder:"Subject"}),Object(vt.jsx)("label",{htmlFor:"subject",className:"form__label",children:"Subject"})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("textarea",{type:"text",className:"form__input textarea",value:i,rows:"5",onChange:d,placeholder:"Email Message",id:"message"}),Object(vt.jsx)("label",{htmlFor:"message",className:"form__label",children:"Email Message"})]}),Object(vt.jsxs)("div",{className:"popup-btns",children:[Object(vt.jsx)("button",{type:"submit",className:"btn btn-success",children:"Send"}),Object(vt.jsx)("button",{type:"button",className:"btn btn-danger",onClick:t,children:"Cancel"})]})]})};var va=e=>{let{confirm:t,setToggleModal:a,reservation:c}=e;const r=/^[0-9]+(\.([0-9]{1,2})?)?$/,[l,o]=Object(s.useState)({amount:"",refundReason:""}),{amount:n,refundReason:i}=l;Object(s.useEffect)((()=>{o((e=>({...e,amount:"",refundReason:""})))}),[t]),Object(s.useEffect)((()=>{c&&null!==c.refundReason&&o((e=>({...e,refundReason:c.refundReason})))}),[c]);const d=e=>{("amount"!==e.target.id||""===e.target.value||r.test(e.target.value)&&c.total>=Number(e.target.value))&&o((t=>({...t,[e.target.id]:e.target.value})))};return Object(vt.jsxs)("form",{className:"form",onSubmit:e=>{e.preventDefault(),t(l)},children:[Object(vt.jsxs)("h3",{className:"heading-primary-subheading",children:["Reservation Total: \xa0 $",c&&c.total]}),Object(vt.jsx)(Bt,{type:"2"}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:n,onChange:d,id:"amount",placeholder:"Refund"}),Object(vt.jsx)("label",{htmlFor:"amount",className:"form__label",children:"Refund"})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("textarea",{type:"text",className:"form__input textarea",value:i,id:"refundReason",rows:"3",onChange:d,placeholder:"Refund Reason"}),Object(vt.jsx)("label",{htmlFor:"refundReason",className:"form__label",children:"Refund Reason"})]}),Object(vt.jsxs)("div",{className:"popup-btns",children:[Object(vt.jsx)("button",{className:"btn btn-success",type:"submit",children:"Refund"}),Object(vt.jsx)("button",{type:"button",className:"btn btn-danger",onClick:a,children:"Cancel"})]})]})};a(89);var fa=e=>{let{toggleModal:t,setToggleModal:a,confirm:s,text:c,subtext:r,type:l,toUpdate:o,clearJobs:n}=e;return Object(vt.jsx)("div",{className:"blurr-bg popup ".concat(t?"":"hide"),children:Object(vt.jsxs)("div",{className:"popup-content ".concat(l),children:[Object(vt.jsxs)("div",{className:"popup-heading",children:[Object(vt.jsx)("img",{className:"popup-heading-img",src:Nt,alt:"logo"}),Object(vt.jsx)("button",{type:"button",onClick:()=>{a(),n&&n()},className:"popup-heading-btn",children:Object(vt.jsx)("i",{className:"fas fa-times"})})]}),(()=>{switch(l){case"confirmation":return Object(vt.jsxs)("div",{className:"popup-text",children:[Object(vt.jsx)("p",{children:c}),r?Object(vt.jsx)("p",{children:r}):"",Object(vt.jsxs)("div",{className:"popup-btns",children:[Object(vt.jsx)("button",{className:"btn btn-success",onClick:()=>{s(),a()},children:"OK"}),Object(vt.jsx)("button",{type:"button",className:"btn btn-danger",onClick:a,children:"Cancel"})]})]});case"schedule":return Object(vt.jsx)("div",{className:"popup-schedule wrapper wrapper-popup",children:Object(vt.jsx)(ga,{reservation:o,setToggleModal:a})});case"job":return Object(vt.jsx)("div",{className:"popup-job wrapper wrapper-popup",children:Object(vt.jsx)(ba,{toggleModal:t,confirm:s,job:o,setToggleModal:a})});case"hour":return Object(vt.jsx)("div",{className:"popup-hour wrapper wrapper-popup",children:Object(vt.jsx)(ma,{setToggleModal:a,confirm:s})});case"payment":return Object(vt.jsx)("div",{className:"popup-payment",children:Object(vt.jsx)(Oa,{reservation:o,setToggleModal:a})});case"email":return Object(vt.jsx)("div",{className:"popup-email",children:Object(vt.jsx)(xa,{toggleModal:t,confirm:s,setToggleModal:a,users:o})});case"refund":return Object(vt.jsx)("div",{className:"popup-refund",children:Object(vt.jsx)(va,{confirm:s,setToggleModal:a,reservation:o})})}})()]})})};a(90);var Na=Object(dt.b)((e=>({auth:e.auth,job:e.job,reservation:e.reservation})),{loadJobs:Ze,loadReservations:Be,deleteReservation:qe,clearJobsXReservations:ut})((e=>{let{auth:{loggedUser:t,token:a},reservation:{reservations:c,loading:r},job:{loading:l},loadJobs:o,loadReservations:n,deleteReservation:i,clearJobsXReservations:d,match:j}=e;const m=Object(s.useRef)(),[b,u]=Object(s.useState)({reservation:null,toggleModal:!1,position:0,editReservation:!(!j.params.job_id||"0"===j.params.job_id),checkout:!1}),{reservation:h,toggleModal:p,position:g,editReservation:O,checkout:x}=b;return Object(s.useEffect)((()=>{l&&a&&o({},!0),t&&"admin"!==t.type&&r&&n({hourFrom:new Date,user:t.id},!0)}),[l,o,t,n,r,a]),Object(s.useEffect)((()=>{if(!r){const e=m.current.getBoundingClientRect(),t=window.pageYOffset||document.documentElement.scrollTop;u((a=>({...a,position:e.bottom+t-60}))),j.params.job_id&&"0"!==j.params.job_id&&setTimeout((()=>{window.scrollTo(0,e.bottom+t)}),30)}}),[r,j.params.job_id]),Object(vt.jsxs)("div",{className:"reservation",children:[Object(vt.jsx)(Xt,{}),Object(vt.jsx)("h2",{className:"heading-primary",children:"Reservations"}),Object(vt.jsx)(fa,{type:"confirmation",toggleModal:p,setToggleModal:()=>u((e=>({...e,toggleModal:!p}))),confirm:()=>{i(h),u((e=>({...e,reservation:null})))},text:"Are you sure you want to ".concat(h&&"paid"!==h.status?"delete":"cancel"," the reservation?"),subtext:h&&"paid"===h.status?"A refund will be placed through paypal.":""}),x&&Object(vt.jsx)(fa,{type:"payment",toUpdate:h,setToggleModal:()=>u((e=>({...e,checkout:!1,reservation:null}))),clearJobs:d,toggleModal:x}),Object(vt.jsx)(Bt,{type:"1"}),t?"0"===t.cel&&Object(vt.jsxs)("h5",{className:"heading-primary-subheading error",children:["You need to save your cellphone in your profile to make a reservation. \xa0",Object(vt.jsx)(mt.a,{to:"/profile",onClick:()=>window.scrollTo(0,0),className:"btn-link",children:"Profile"})]}):Object(vt.jsxs)("h5",{className:"heading-primary-subheading error",children:["You need to be logged in to make a reservation. \xa0",Object(vt.jsx)(mt.a,{to:"/login",onClick:()=>window.scrollTo(0,0),className:"btn-link",children:"Login"})]}),t&&Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsx)("div",{className:"reservation-list",ref:m,children:!r&&c.length>0?c.map(((e,t)=>Object(vt.jsxs)("div",{className:"reservation-item",children:[Object(vt.jsxs)("div",{className:"reservation-item-date",children:[Object(vt.jsx)(ja.a,{date:e.hourFrom,className:"date",format:"MM-DD-YY"}),Object(vt.jsx)(ja.a,{date:e.hourFrom,utc:!0,format:"h a"})," -"," ",Object(vt.jsx)(ja.a,{date:e.hourTo,utc:!0,format:"h a"})]}),Object(vt.jsxs)("div",{className:"reservation-item-status",children:[Object(vt.jsxs)("p",{children:[Object(vt.jsx)("span",{className:"reservation-item-title",children:"Address: "}),e.address]}),Object(vt.jsxs)("p",{children:[Object(vt.jsx)("span",{className:"reservation-item-title",children:"Value: "}),e.total?"$"+e.total:"Pending"]}),Object(vt.jsxs)("p",{children:[Object(vt.jsx)("span",{className:"reservation-item-title",children:"Status: "}),e.status.charAt(0).toUpperCase()+e.status.slice(1)]})]}),Object(vt.jsxs)("div",{className:"reservation-item-icons",children:["unpaid"===e.status&&Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{onClick:()=>{u((t=>({...t,reservation:e,checkout:!0})))},className:"btn-icon",children:Object(vt.jsx)("i",{className:"fas fa-dollar-sign"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"Pay"})]}),Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{onClick:()=>{u((t=>({...t,reservation:e,editReservation:!0}))),setTimeout((()=>{window.scrollTo(0,g)}),30)},className:"btn-icon",children:"refunded"!==e.status&&"canceled"!==e.status?Object(vt.jsx)("i",{className:"far fa-edit"}):Object(vt.jsx)("i",{className:"fas fa-search"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"refunded"!==e.status&&"canceled"!==e.status?"Edit":"See details"})]}),("requested"===e.status||"unpaid"===e.status)&&Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{onClick:()=>u((t=>({...t,toggleModal:!p,reservation:e}))),className:"btn-icon",children:Object(vt.jsx)("i",{className:"far fa-trash-alt"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"Delete"})]})]})]},e.id))):Object(vt.jsx)("h2",{className:"heading-primary-subheading",children:"No Reservations Made"})}),!l&&"0"!==t.cel&&Object(vt.jsx)(s.Fragment,{children:O?Object(vt.jsx)(ga,{reservation:h,setToggleModal:()=>u((e=>({...e,reservation:null,editReservation:!1})))}):Object(vt.jsx)("div",{className:"btn-right",children:Object(vt.jsxs)("button",{onClick:()=>{u((e=>({...e,editReservation:!0}))),setTimeout((()=>{window.scrollTo(0,g)}),30)},className:"btn btn-primary",children:[Object(vt.jsx)("i",{className:"fas fa-plus"})," \xa0 Reservation"]})})})]})]})}));var ya=e=>{let{onChange:t,onFocus:a,hourFrom:s,hourTo:c}=e;return Object(vt.jsx)("div",{className:"form__group",children:Object(vt.jsxs)("div",{className:"form__group-sub",children:[Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"date",className:"form__input",placeholder:"YYYY/MM/DD",id:"hourFrom",value:s,onChange:t,onFocus:a}),Object(vt.jsx)("label",{htmlFor:"hourFrom",className:"form__label",children:"From"})]}),Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"date",className:"form__input",id:"hourTo",placeholder:"YYYY/MM/DD",min:""!==s?s:null,onFocus:a,onChange:t,value:c}),Object(vt.jsx)("label",{htmlFor:"hourTo",className:"form__label",children:"To"})]})]})})};var _a=Object(dt.b)((e=>({reservation:e.reservation})),{loadReservations:Be,deleteReservation:qe,cancelReservation:(e,t)=>async a=>{a(Je(!0));let s={};for(const e in t)""!==t[e]&&(s[e]=t[e]);try{const c=await st.put("/reservation/cancel/".concat(e.id),s);return a({type:t.amount&&e.total!==t.amount?Y:L,payload:c.data}),a(Le("Reservation ".concat(t.amount&&e.total!==t.amount?"Updated":"Canceled"),"success","1")),window.scrollTo(0,0),a(Je(!1)),!0}catch(c){return 401!==c.response.status&&(a(Le(c.response.data.msg,"danger","2")),a(We(H,c.response)),window.scrollTo(0,0),a(Je(!1))),!1}},clearUsers:Ot,loadJobs:Ze,clearJobsXReservations:ut})((e=>{let{deleteReservation:t,loadReservations:a,cancelReservation:c,loadJobs:r,reservation:{reservations:l,error:o,loading:n},clearUsers:i,clearJobsXReservations:d}=e;const j={hourFrom:"",hourTo:"",user:"",status:""},[m,b]=Object(s.useState)(j),[u,h]=Object(s.useState)({toggleDeleteConf:!1,toggleReservation:!1,toggleRefund:!1,showFilter:!1,reservation:null,searchDisplay:!1,clear:!1,checkout:!1}),{hourFrom:p,hourTo:g,status:O}=m,{toggleDeleteConf:x,toggleReservation:v,toggleRefund:f,showFilter:N,reservation:y,searchDisplay:_,clear:w,checkout:D}=u;Object(s.useEffect)((()=>{n&&(r({},!0),a({hourFrom:new Date},!0))}),[n,a,r]);const E=e=>{b((t=>({...t,[e.target.id]:e.target.value})))},T=e=>{h((t=>({...t,[e]:!1,reservation:null})))};return Object(vt.jsxs)("div",{className:"list",children:[Object(vt.jsx)(fa,{type:"refund",toUpdate:y,confirm:async e=>{await c(y,e)&&h((e=>({...e,toggleRefund:!f})))},setToggleModal:()=>T("toggleRefund"),toggleModal:f}),Object(vt.jsx)(fa,{type:"confirmation",confirm:()=>t(y),setToggleModal:()=>T("toggleDeleteConf"),toggleModal:x,text:"Are you sure you want to delete the reservation?",subtext:y&&""!==y.paymentId&&"paid"===y.status&&"A refund should be made before deleting it."}),D&&Object(vt.jsx)(fa,{type:"payment",clearJobs:d,toUpdate:y&&y,setToggleModal:()=>T("checkout"),toggleModal:D}),v&&Object(vt.jsx)(fa,{type:"schedule",clearJobs:d,toUpdate:y,toggleModal:v,setToggleModal:()=>T("toggleReservation")}),Object(vt.jsx)("h2",{className:"heading-primary",children:"Reservations"}),Object(vt.jsx)(Bt,{type:"1"}),Object(vt.jsxs)("form",{className:"form filter",onSubmit:e=>{e.preventDefault(),b(j),a(m,!1),h((e=>({...e,clear:!0})))},children:[Object(vt.jsx)("p",{className:"filter-title",children:"Filter"}),Object(vt.jsx)("button",{className:"filter-icon",onClick:e=>{e.preventDefault(),h((e=>({...e,showFilter:!N})))},children:N?Object(vt.jsx)("i",{className:"fas fa-chevron-up"}):Object(vt.jsx)("i",{className:"fas fa-chevron-down"})}),Object(vt.jsxs)("div",{className:"filter-content ".concat(N?"":"hide"),children:[Object(vt.jsx)(ya,{onFocus:()=>h((e=>({...e,searchDisplay:!1}))),hourFrom:p,hourTo:g,onChange:E}),Object(vt.jsx)(pa,{selectFinalUser:e=>{b((t=>({...t,user:e?e.id:""}))),h((e=>({...e,searchDisplay:!1})))},searchDisplay:_,switchDisplay:e=>h((t=>({...t,searchDisplay:e}))),clear:w,completeClear:()=>{h((e=>({...e,clear:!1})))},autoComplete:"off"}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsxs)("select",{className:"form__input ".concat(""===O?"empty":""),id:"status",value:O,onChange:E,onFocus:()=>h((e=>({...e,searchDisplay:!1}))),children:[Object(vt.jsx)("option",{value:"",children:"* Status"}),Object(vt.jsx)("option",{value:"requested",children:"Requested"}),Object(vt.jsx)("option",{value:"unpaid",children:"Unpaid"}),Object(vt.jsx)("option",{value:"pending",children:"Pending"}),Object(vt.jsx)("option",{value:"paid",children:"Paid"}),Object(vt.jsx)("option",{value:"completed",children:"Completed"}),Object(vt.jsx)("option",{value:"canceled",children:"Canceled"}),Object(vt.jsx)("option",{value:"refunded",children:"Refunded"})]}),Object(vt.jsx)("label",{htmlFor:"staus",className:"form__label ".concat(""===O?"hide":""),children:"Status"})]}),Object(vt.jsxs)("button",{type:"submit",className:"btn btn-tertiary",children:[Object(vt.jsx)("i",{className:"fas fa-search"}),"\xa0 Search"]})]})]}),!n&&Object(vt.jsxs)(s.Fragment,{children:[l.length>0?Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsx)("div",{className:"wrapper",children:Object(vt.jsxs)("table",{className:"icon-6",children:[Object(vt.jsx)("thead",{children:Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("th",{children:"Date"}),Object(vt.jsx)("th",{children:"From"}),Object(vt.jsx)("th",{children:"To"}),Object(vt.jsx)("th",{children:"User"}),Object(vt.jsx)("th",{children:"Status"}),Object(vt.jsx)("th",{}),Object(vt.jsx)("th",{}),Object(vt.jsx)("th",{})]})}),Object(vt.jsx)("tbody",{children:l.map((e=>Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("td",{children:Object(vt.jsx)(ja.a,{date:e.hourFrom,utc:!0,format:"MM/DD/YY"})}),Object(vt.jsx)("td",{children:Object(vt.jsx)(ja.a,{date:e.hourFrom,utc:!0,format:"h a"})}),Object(vt.jsx)("td",{children:Object(vt.jsx)(ja.a,{date:e.hourTo,utc:!0,format:"h a"})}),Object(vt.jsx)("td",{children:Object(vt.jsx)(mt.a,{onClick:()=>{i(),window.scrollTo(0,0)},className:"btn-link text-dark",to:"/edit-user/".concat(e.user.id),children:"".concat(e.user.name," ").concat(e.user.lastname)})}),Object(vt.jsx)("td",{children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),Object(vt.jsxs)("td",{children:["unpaid"===e.status&&Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{className:"btn-icon",onClick:()=>h((t=>({...t,checkout:!0,reservation:e}))),children:Object(vt.jsx)("i",{className:"fas fa-dollar-sign"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"Pay"})]}),"paid"===e.status&&Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{className:"btn-icon",onClick:()=>h((t=>({...t,toggleRefund:!0,reservation:e}))),children:Object(vt.jsx)("i",{className:"fas fa-redo-alt"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"Refund"})]})]}),Object(vt.jsx)("td",{children:Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{className:"btn-icon",onClick:()=>h((t=>({...t,toggleReservation:!v,reservation:e}))),children:"refunded"!==e.status&&"completed"!==e.status&&"canceled"!==e.status?Object(vt.jsx)("i",{className:"far fa-edit"}):Object(vt.jsx)("i",{className:"fas fa-search"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"refunded"!==e.status&&"completed"!==e.status&&"canceled"!==e.status?"Edit":"See details"})]})}),Object(vt.jsx)("td",{children:Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{className:"btn-icon",onClick:()=>h((t=>({...t,toggleDeleteConf:!x,reservation:e}))),children:Object(vt.jsx)("i",{className:"far fa-trash-alt"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"Delete"})]})})]},e.id)))})]})}),Object(vt.jsxs)("div",{className:"list-total",children:[Object(vt.jsx)("span",{className:"list-total-title text-dark",children:"Total:"}),"\xa0",l.length]})]}):Object(vt.jsx)("h3",{className:"heading-primary-subheading u-center-text text-danger",children:o.msg}),Object(vt.jsx)("div",{className:"btn-right",children:Object(vt.jsxs)("button",{onClick:()=>h((e=>({...e,toggleReservation:!v}))),className:"btn btn-primary",children:[Object(vt.jsx)("i",{className:"fas fa-plus"})," \xa0 Reservation"]})})]})]})}));var wa=Object(dt.b)((e=>({job:e.job})),{loadJobs:Ze,deleteJob:e=>async t=>{t(Je(!0));let a=!1;try{await st.delete("/job/".concat(e)),t({type:ne,payload:e}),t(Le("Job Deleted","success","1"))}catch(s){401!==s.response.status?(t(Le(s.response.data.msg,"danger","1")),t(ze(ie,s.response))):a=!0}a||(window.scrollTo(0,0),t(Je(!1)))},registerUpdateJob:(e,t)=>async a=>{a(Je(!0));let s={};for(const t in e)""!==e[t]&&(s[t]=e[t]);try{const e=await st.post("/job/".concat(t||"0"),s);return a({type:t?oe:le,payload:e.data}),a(Le("Job ".concat(t?"Updated":"Registered"),"success","1")),window.scrollTo(0,0),a(Je(!1)),!0}catch(c){return 401!==c.response.status&&(a(ze(ie,c.response)),c.response.data.errors?c.response.data.errors.forEach((e=>{a(Le(e.msg,"danger","2"))})):a(Le(c.response.data.msg,"danger","2")),a(Je(!1))),!1}}})((e=>{let{loadJobs:t,deleteJob:a,registerUpdateJob:c,job:{jobs:r,loading:l,error:o}}=e;const[n,i]=Object(s.useState)({title:""}),[d,j]=Object(s.useState)({toggleDeleteConf:!1,toggleJob:!1,showFilter:!1,job:null,update:!1}),{title:m}=n,{toggleDeleteConf:b,toggleJob:u,showFilter:h,update:p,job:g}=d;Object(s.useEffect)((()=>{l&&t({})}),[l,t]);return Object(vt.jsxs)("div",{className:"list",children:[Object(vt.jsx)(fa,{type:"confirmation",confirm:()=>a(g.id),setToggleModal:()=>j((e=>({...e,toggleDeleteConf:!b}))),toggleModal:b,text:"Are you sure you want to delete the job?"}),Object(vt.jsx)(fa,{type:"job",toUpdate:p?g:null,confirm:async e=>{await c(e,g?g.id:0)&&j((e=>({...e,toggleJob:!1,job:null})))},toggleModal:u,setToggleModal:()=>j((e=>({...e,toggleJob:!u,job:null})))}),Object(vt.jsx)("h2",{className:"heading-primary",children:"Jobs"}),Object(vt.jsx)(Bt,{type:"1"}),Object(vt.jsxs)("form",{className:"form filter",onSubmit:e=>{e.preventDefault(),i({title:""}),t(n)},children:[Object(vt.jsx)("p",{className:"filter-title",children:"Filter"}),Object(vt.jsx)("button",{className:"filter-icon",onClick:e=>{e.preventDefault(),j((e=>({...e,showFilter:!h})))},children:h?Object(vt.jsx)("i",{className:"fas fa-chevron-up"}):Object(vt.jsx)("i",{className:"fas fa-chevron-down"})}),Object(vt.jsxs)("div",{className:"filter-content ".concat(h?"":"hide"),children:[Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:m,id:"title",onChange:e=>{i((t=>({...t,[e.target.id]:e.target.value})))},placeholder:"Title"}),Object(vt.jsx)("label",{htmlFor:"title",className:"form__label",children:"Title"})]}),Object(vt.jsxs)("button",{type:"submit",className:"btn btn-tertiary",children:[Object(vt.jsx)("i",{className:"fas fa-search"}),"\xa0 Search"]})]})]}),!l&&Object(vt.jsxs)(s.Fragment,{children:[r.length>0?Object(vt.jsx)("div",{children:Object(vt.jsx)("div",{className:"wrapper",children:Object(vt.jsxs)("table",{className:"icon-2",children:[Object(vt.jsx)("thead",{children:Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("th",{children:"Title"}),Object(vt.jsx)("th",{}),Object(vt.jsx)("th",{})]})}),Object(vt.jsx)("tbody",{children:r.map((e=>Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("td",{children:e.title}),Object(vt.jsx)("td",{children:Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{className:"btn-icon",onClick:()=>j((t=>({...t,toggleJob:!u,job:e,update:!0}))),children:Object(vt.jsx)("i",{className:"far fa-edit"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"Edit"})]})}),Object(vt.jsx)("td",{children:Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{className:"btn-icon",onClick:()=>j((t=>({...t,toggleDeleteConf:!b,job:e}))),children:Object(vt.jsx)("i",{className:"far fa-trash-alt"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"Delete"})]})})]},e.id)))})]})})}):Object(vt.jsx)("h3",{className:"heading-primary-subheading u-center-text text-danger",children:o.msg}),Object(vt.jsx)("div",{className:"btn-right",children:Object(vt.jsxs)("button",{onClick:()=>j((e=>({...e,update:!1,toggleJob:!u}))),className:"btn btn-primary",children:[Object(vt.jsx)("i",{className:"fas fa-plus"})," \xa0 Job"]})})]})]})}));a(91);var Da=Object(dt.b)((e=>({day:e.day,reservation:e.reservation,auth:e.auth,job:e.job})),{checkMonthSchedule:(e,t)=>async a=>{a(Je(!0));let s=!1;try{const s=await st.get("/day/schedule/".concat(e,"/").concat(t));a({type:G,payload:s.data})}catch(c){401!==c.response.status&&(a(Le(c.response.data.msg,"danger","1")),a(He(se,c.response)),window.scrollTo(0,0)),s=!0}s||a(Je(!1))},checkDayAvailability:Pe,loadReservations:Be,disableDate:e=>async t=>{t(Je(!0));let a=!1;try{await st.post("/day/".concat(e)),t({type:K,payload:{type:"disabledDays",date:e}}),t(Le("Date successfully disabled","success","2"))}catch(s){401!==s.response.status&&(t(Le(s.response.data.msg,"danger","2")),t(He(se,s.response)),window.scrollTo(0,0)),a=!0}a||(window.scrollTo(0,0),t(Je(!1)))},enableDate:e=>async t=>{t(Je(!0));let a=!1;try{await st.delete("/day/".concat(e)),t({type:Z,payload:{type:"disabledDays",date:e}}),t(Le("Date successfully enabled","success","2"))}catch(s){401!==s.response.status?(t(Le(s.response.data.msg,"danger","2")),t(He(se,s.response)),window.scrollTo(0,0)):a=!0}a||(window.scrollTo(0,0),t(Je(!1)))},setAlert:Le,disableDateRange:(e,t)=>async a=>{a(Je(!0));let s=!1;try{const s=await st.post("/day/".concat(e,"/").concat(t));a({type:z,payload:{type:"disabledDays",dates:s.data}}),a(Le("Dates successfully disabled","success","2"))}catch(c){401!==c.response.status&&(a(Le(c.response.data.msg,"danger","2")),a(He(se,c.response)),window.scrollTo(0,0)),s=!0}s||(window.scrollTo(0,0),a(Je(!1)))},disableHourRange:(e,t)=>async a=>{a(Je(!0));let s={};for(const t in e)""!==e[t]&&(s[t]=e[t]);try{let e=await st.post("/reservation/disable",s);return a({type:U,payload:e.data}),a(((e,t)=>async a=>{a({type:t?$:ee,payload:{type:t?"reservedDays":"timeDisabledDays",date:e}})})(t,!1)),a(Le("Time Range Disabled","success","1")),window.scrollTo(0,0),a(Je(!1)),!0}catch(c){return 401!==c.response.status&&(a(We(H,c.response)),c.response.data.errors?c.response.data.errors.forEach((e=>{a(Le(e.msg,"danger","2"))})):a(Le(c.response.data.msg,"danger","2")),a(Je(!1))),!1}},clearUsers:Ot,clearReservations:Ge,deleteReservation:qe,loadJobs:Ze,clearJobsXReservations:ut})((e=>{let{day:{disabledDays:t,reservedDays:a,timeDisabledDays:c},reservation:{loading:r,reservations:l},auth:{loggedUser:o},job:{loading:n},checkMonthSchedule:i,checkDayAvailability:d,loadReservations:j,deleteReservation:m,disableHourRange:b,disableDate:u,enableDate:h,setAlert:p,disableDateRange:g,clearReservations:O,clearUsers:x,clearJobsXReservations:v,loadJobs:f}=e;const N=De()(),[y,_]=Object(s.useState)({date:new Date,tab:0,range:!1,month:N.month(),year:N.year(),toggleModal:!1,toggleReservation:!1,reservation:null}),{date:w,tab:D,range:E,month:T,year:R,toggleModal:k,toggleReservation:C,reservation:S}=y;Object(s.useEffect)((()=>{i(T,R)}),[i,T,R]),Object(s.useEffect)((()=>{n&&f({},!0)}),[n,f]),Object(s.useEffect)((()=>{if(E&&w[1]&&w[0].getDate()!==w[1].getDate()){const e=De()(w[0],"DD/MM/YYYY"),s=De()(w[1],"DD/MM/YYYY"),r=N.isAfter(e),l=!r&&a.some((t=>De()(t).add(1,"day").isBetween(e,s))),o=!r&&!l&&t.some((t=>De()(t).add(1,"day").isBetween(e,s))),n=!r&&!l&&!o&&c.some((t=>De()(t).add(1,"day").isBetween(e,s)));(r||l||o||n)&&(p("Can not choose a range with a ".concat(r?"date older than today.":"".concat(l?"reserved date":o?"disabled day":"disabled time range"," in between.")),"danger","2"),_((e=>({...e,date:[w[0],w[0]],tab:0}))))}}),[E,w,p,t,a,c,N]);const F=Object(s.useCallback)((e=>"month"===e.view&&a.some((t=>{const a=new Date(t);return a.getUTCDate()===e.date.getDate()&&a.getUTCMonth()===e.date.getMonth()}))?"reserved":t.some((t=>{const a=new Date(t);return a.getUTCDate()===e.date.getDate()&&a.getUTCMonth()===e.date.getMonth()}))?"disabled":c.some((t=>{const a=new Date(t);return a.getUTCDate()===e.date.getDate()&&a.getUTCMonth()===e.date.getMonth()}))&&"time-disabled"),[t,a,c]),A=Object(s.useCallback)((e=>{let{date:t,view:a}=e;if("month"===a)return 6===t.getDay()||0===t.getDay()}),[]);return Object(vt.jsxs)("div",{className:"list manage-schedule",children:[C&&Object(vt.jsx)(fa,{type:"schedule",clearJobs:v,toUpdate:S,toggleModal:C,setToggleModal:()=>_((e=>({...e,toggleReservation:!C,reservation:null})))}),Object(vt.jsx)(fa,{type:"hour",toggleModal:k,confirm:async e=>{let{hourFrom:t,hourTo:a}=e;await b({hourFrom:De()(w).set("hour",t).format("YYYY-MM-DD[T]HH[:00:00Z]"),hourTo:De()(w).set("hour",a-1).format("YYYY-MM-DD[T]HH[:00:00Z]"),user:o.id},0===l.length&&De()(w).format("YYYY-MM-DD[T00:00:00Z]"))&&_((e=>({...e,tab:1,toggleModal:!k})))},setToggleModal:()=>_((e=>({...e,toggleModal:!k})))}),Object(vt.jsx)("h2",{className:"heading-primary",children:"Schedule"}),Object(vt.jsxs)("div",{className:"manage-schedule-row",children:[Object(vt.jsxs)("div",{className:"manage-schedule-calendar",children:[Object(vt.jsx)(ua.a,{value:w,selectRange:E,onChange:e=>{let t;E||(e.setHours(0,0,0,0),t=a.some((t=>new Date(t).getUTCDate()===e.getDate()))||c.some((t=>new Date(t).getUTCDate()===e.getDate())),t&&j({hourFrom:e,hourTo:e,type:"all",available:!0})),_((a=>({...a,date:e,tab:E?3:t?1:2})))},tileDisabled:A,minDate:new Date(2021,9,1),maxDate:new Date(N.year()+1,N.month(),N.date()),onActiveStartDateChange:e=>{if("month"===e.view||"year"===e.view){const t=e.activeStartDate.getMonth(),a=e.activeStartDate.getFullYear();_((e=>({...e,month:t,year:a})))}},tileClassName:F}),Object(vt.jsxs)("div",{className:"form__group switch",id:"range",children:[Object(vt.jsx)("label",{className:"form__label-switch",htmlFor:"range",children:"Date Range"}),Object(vt.jsx)("input",{checked:E,type:"checkbox",onChange:()=>_((e=>({...e,range:!E}))),className:"form__input-switch"})]}),Object(vt.jsxs)("div",{className:"manage-schedule-color-guide",children:[Object(vt.jsxs)("p",{className:"manage-schedule-color-item ",children:[Object(vt.jsx)("i",{className:"fas fa-square reserved"})," Reserved Days"]}),Object(vt.jsxs)("p",{className:"manage-schedule-color-item",children:[Object(vt.jsx)("i",{className:"fas fa-square disabled"})," Disabled Days"]}),Object(vt.jsxs)("p",{className:"manage-schedule-color-item",children:[Object(vt.jsx)("i",{className:"fas fa-square partially-disabled"})," Partially Disabled Days"]})]})]}),Object(vt.jsxs)("div",{className:"manage-schedule-details",children:[Object(vt.jsx)(Bt,{type:"2"}),(()=>{switch(D){case 0:return Object(vt.jsx)(s.Fragment,{children:Object(vt.jsx)("h5",{className:"manage-schedule-details-title",children:"Select a Date"})});case 1:return!r&&Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsx)(Bt,{type:"1"}),Object(vt.jsxs)("h5",{className:"manage-schedule-details-title",children:[l.every((e=>"hourRange"===e.status))?"Unavailable Time Ranges":"Reservations"," ","- ",Object(vt.jsx)(ja.a,{format:"MM/DD/YY",date:w})]}),Object(vt.jsx)("div",{className:"manage-schedule-details-res",children:l.map((e=>Object(vt.jsxs)("div",{className:"manage-schedule-details-item tooltip ".concat("hourRange"===e.status&&"disabled"),children:[Object(vt.jsxs)("div",{children:[Object(vt.jsx)(ja.a,{format:"h a",utc:!0,date:e.hourFrom}),"\xa0 - \xa0",Object(vt.jsx)(ja.a,{format:"h a",utc:!0,date:"hourRange"!==e.status?e.hourTo:De()(e.hourTo).add(1,"hour")})]}),Object(vt.jsx)(mt.a,{onClick:()=>{x(),window.scrollTo(0,0)},className:"btn-link",to:"/edit-user/".concat(e.user.id),children:"".concat(e.user.name," ").concat(e.user.lastname)}),"hourRange"!==e.status?Object(vt.jsx)("button",{className:"btn-icon",onClick:()=>_((t=>({...t,toggleReservation:!C,reservation:e}))),children:Object(vt.jsx)("i",{className:"fas fa-search"})}):Object(vt.jsx)("button",{className:"btn-icon",onClick:()=>{1===l.length&&_((e=>({...e,tab:2}))),m(e,1===l.length&&De()(w).format("YYYY-MM-DD[T00:00:00Z]"))},children:Object(vt.jsx)("i",{className:"far fa-trash-alt"})})]},e.id)))}),N.isBefore(De()(w))&&Object(vt.jsx)("div",{className:"btn-right",children:Object(vt.jsxs)("button",{className:"btn btn-quaternary",onClick:()=>{_((e=>({...e,toggleModal:!k}))),d(De()(w).format("YYYY-MM-DD[T00:00:00Z]"),0,0)},children:[Object(vt.jsx)("i",{className:"fas fa-ban"})," \xa0 Hour Range"]})})]});case 2:const e=t.some((e=>new Date(e).getUTCDate()===w.getDate()));return Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsx)("h5",{className:"manage-schedule-details-title ".concat(e&&"text-danger"),children:Object(vt.jsx)(ja.a,{date:w,format:"MM/DD/YYYY"})}),Object(vt.jsx)("div",{className:"btn-center",children:N.isBefore(De()(w))&&Object(vt.jsx)(s.Fragment,{children:e?Object(vt.jsxs)("button",{className:"btn",onClick:()=>h(De()(w).format("YYYY-MM-DD[T00:00:00Z]")),children:[Object(vt.jsx)("i",{className:"far fa-check-circle"})," \xa0 Date"]}):Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsxs)("button",{className:"btn",onClick:()=>u(De()(w).format("YYYY-MM-DD[T00:00:00Z]")),children:[Object(vt.jsx)("i",{className:"fas fa-ban"})," \xa0 Date"]}),Object(vt.jsxs)("button",{className:"btn",onClick:()=>{_((e=>({...e,toggleModal:!k}))),l.length>0&&O(),d(De()(w).format("YYYY-MM-DD[T00:00:00Z]"),0,0)},children:[Object(vt.jsx)("i",{className:"fas fa-ban"})," \xa0 Hour Range"]})]})})})]});case 3:return Object(vt.jsxs)(s.Fragment,{children:[Object(vt.jsxs)("h5",{className:"manage-schedule-details-title",children:[Object(vt.jsx)(ja.a,{date:w[0],format:"MM/DD/YYYY"})," -"," ",Object(vt.jsx)(ja.a,{date:w[1],format:"MM/DD/YYYY"})]}),Object(vt.jsx)("div",{className:"btn-center",children:Object(vt.jsxs)("button",{className:"btn",onClick:()=>{_((e=>({...e,range:!E,date:w[0],tab:0}))),g(De()(w[0]).format("YYYY-MM-DD[T00:00:00Z]"),De()(w[1]).format("YYYY-MM-DD[T00:00:00Z]"))},children:[Object(vt.jsx)("i",{className:"fas fa-ban"})," \xa0 Date Range"]})})]})}})()]})]})]})}));var Ea=Object(dt.b)((e=>({user:e.user,auth:e.auth})),{clearUser:gt,loadUsers:pt})((e=>{let{loadUsers:t,user:{users:a,loading:c,error:r},auth:{loggedUser:l},clearUser:o}=e;const[n,i]=Object(s.useState)({name:"",lastname:"",email:"",type:""}),[d,j]=Object(s.useState)({showFilter:!1}),{name:m,lastname:b,email:u,type:h}=n,{showFilter:p}=d;Object(s.useEffect)((()=>{c&&t({})}),[c,t]);const g=e=>{i((t=>({...t,[e.target.id]:e.target.value})))};return Object(vt.jsxs)("div",{className:"list",children:[Object(vt.jsx)("h2",{className:"heading-primary",children:"Users"}),Object(vt.jsx)(Bt,{type:"1"}),Object(vt.jsxs)("form",{className:"form filter",onSubmit:e=>{e.preventDefault(),i({name:"",lastname:"",email:"",type:""}),t(n)},children:[Object(vt.jsx)("p",{className:"filter-title",children:"Filter"}),Object(vt.jsx)("button",{className:"filter-icon",onClick:e=>{e.preventDefault(),j((e=>({...e,showFilter:!p})))},children:p?Object(vt.jsx)("i",{className:"fas fa-chevron-up"}):Object(vt.jsx)("i",{className:"fas fa-chevron-down"})}),Object(vt.jsxs)("div",{className:"filter-content ".concat(p?"":"hide"),children:[Object(vt.jsx)("div",{className:"form__group",children:Object(vt.jsxs)("div",{className:"form__group-sub",children:[Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",placeholder:"Name",id:"name",onChange:g,value:m}),Object(vt.jsx)("label",{htmlFor:"name",className:"form__label",children:"Name"})]}),Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",placeholder:"Last Name",id:"lastname",onChange:g,value:b}),Object(vt.jsx)("label",{htmlFor:"lastname",className:"form__label",children:"Last Name"})]})]})}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:u,id:"email",onChange:g,placeholder:"Email"}),Object(vt.jsx)("label",{htmlFor:"email",className:"form__label",children:"Email"})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsxs)("select",{className:"form__input ".concat(""===h?"empty":""),id:"type",value:h,onChange:g,children:[Object(vt.jsx)("option",{value:"",children:"* Type of User"}),Object(vt.jsx)("option",{value:"admin",children:"Admin"}),Object(vt.jsx)("option",{value:"customer",children:"Customer"})]}),Object(vt.jsx)("label",{htmlFor:"type",className:"form__label ".concat(""===h?"hide":""),children:"Type of User"})]}),Object(vt.jsxs)("button",{type:"submit",className:"btn btn-tertiary",children:[Object(vt.jsx)("i",{className:"fas fa-search"}),"\xa0 Search"]})]})]}),!c&&Object(vt.jsx)(s.Fragment,{children:a.length>0?Object(vt.jsxs)("div",{children:[Object(vt.jsx)("div",{className:"wrapper",children:Object(vt.jsxs)("table",{className:"icon-5",children:[Object(vt.jsx)("thead",{children:Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("th",{children:"Name"}),Object(vt.jsx)("th",{children:"Email"}),Object(vt.jsx)("th",{children:"Type"}),Object(vt.jsx)("th",{children:"Cellphone"}),Object(vt.jsx)("th",{})]})}),Object(vt.jsx)("tbody",{children:a.map((e=>Object(vt.jsxs)("tr",{children:[Object(vt.jsxs)("td",{children:[e.name," ",e.lastname]}),Object(vt.jsx)("td",{children:e.email}),Object(vt.jsx)("td",{children:e.type.charAt(0).toUpperCase()+e.type.slice(1)}),Object(vt.jsx)("td",{children:e.cel}),Object(vt.jsx)("td",{children:Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)(mt.a,{to:l.id===e.id?"/profile":"/edit-user/".concat(e.id),className:"btn-icon",onClick:()=>{window.scrollTo(0,0),o()},children:Object(vt.jsx)("i",{className:"far fa-edit"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"Edit"})]})})]},e.id)))})]})}),Object(vt.jsxs)("div",{className:"list-total",children:[Object(vt.jsx)("span",{className:"list-total-title text-dark",children:"Total:"}),"\xa0",a.length]})]}):Object(vt.jsx)("h3",{className:"heading-primary-subheading u-center-text text-danger",children:r.msg})})]})}));a(92);var Ta=Object(dt.b)((e=>({job:e.job,jobsXreservation:e.jobsXreservation})),{loadJobs:Ze,clearUser:gt,loadJobUsers:e=>async t=>{t(Je(!0));let a=!1,s="";for(const r in e)("jobs"===r&&e[r].length>0||""!==e[r]&&"jobs"!==r)&&(s="".concat(""!==s?"".concat(s,"&"):"").concat(r,"=").concat("jobs"===r?e[r].map((e=>e)):e[r]));try{const e=await st.get("/res/job/jobs?".concat(s));t({type:V,payload:e.data})}catch(c){401!==c.response.status?t(ht(q,c.response)):a=!0}a||t(Je(!1))},sendEmail:Qe})((e=>{let{loadJobs:t,loadJobUsers:a,clearUser:c,sendEmail:r,job:{loading:l,jobs:o},jobsXreservation:{loading:n,error:i,jobsXreservations:d}}=e;const j={hourFrom:"",hourTo:"",total:"",jobs:[]},[m,b]=Object(s.useState)({showFilter:!0,users:[],toggleEmail:!1}),[u,h]=Object(s.useState)(j),{showFilter:p,users:g,toggleEmail:O}=m,{hourFrom:x,hourTo:v,total:f,jobs:N}=u;Object(s.useEffect)((()=>{l&&t({})}),[l,t]),Object(s.useEffect)((()=>{d.length>0&&b((e=>({...e,users:d.map((e=>e.reservation.user.email))})))}),[d]);const y=(e,t)=>{("total"!==e.target.id||"total"===e.target.id&&(Number(e.target.value)||""===e.target.value))&&h((a=>({...a,...t?{jobs:e.target.checked?[...N,Number(e.target.value)]:N.filter((e=>e!==t.id))}:{[e.target.id]:e.target.value}})))};return Object(vt.jsxs)("div",{className:"outreach list",children:[Object(vt.jsx)(fa,{type:"email",confirm:async e=>{await r(e,!0)&&(b((e=>({...e,toggleEmail:!1,users:[]}))),h(j))},toUpdate:g,toggleModal:O,setToggleModal:()=>b((e=>({...e,toggleEmail:!O})))}),Object(vt.jsx)("h2",{className:"heading-primary",children:"Outreach"}),Object(vt.jsx)(Bt,{type:"1"}),Object(vt.jsxs)("form",{className:"form filter",onSubmit:e=>{e.preventDefault(),a(u)},children:[Object(vt.jsx)("p",{className:"filter-title",children:"Filter"}),Object(vt.jsx)("button",{className:"filter-icon",onClick:e=>{e.preventDefault(),b((e=>({...e,showFilter:!p})))},children:p?Object(vt.jsx)("i",{className:"fas fa-chevron-up"}):Object(vt.jsx)("i",{className:"fas fa-chevron-down"})}),Object(vt.jsxs)("div",{className:"filter-content ".concat(p?"":"hide"),children:[Object(vt.jsx)(ya,{hourFrom:x,onChange:y,hourTo:v}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:f,id:"total",onChange:y,placeholder:"Minimal Total"}),Object(vt.jsx)("label",{htmlFor:"total",className:"form__label",children:"Minimal Total"})]}),Object(vt.jsx)("div",{className:"outreach-jobs-list",children:!l&&o.map((e=>Object(vt.jsxs)("div",{className:"outreach-jobs-item",children:[Object(vt.jsx)("input",{type:"checkbox",value:e.id,className:"form__input-chk",id:"chk-".concat(e.id),name:"jobs",onChange:t=>y(t,e)}),Object(vt.jsxs)("label",{className:"form__label-chk",htmlFor:"chk-".concat(e.id),children:[Object(vt.jsx)("span",{children:Object(vt.jsx)("svg",{width:"12px",height:"9px",viewBox:"0 0 12 9",children:Object(vt.jsx)("polyline",{points:"1 5 4 8 11 1"})})}),Object(vt.jsx)("span",{children:e.title})]})]},e.id)))}),Object(vt.jsxs)("button",{type:"submit",className:"btn btn-tertiary",children:[Object(vt.jsx)("i",{className:"fas fa-search"}),"\xa0 Search"]})]})]}),!n&&Object(vt.jsxs)(s.Fragment,{children:[d.length>0?Object(vt.jsxs)("div",{children:[Object(vt.jsx)("div",{className:"wrapper",children:Object(vt.jsxs)("table",{children:[Object(vt.jsx)("thead",{children:Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("th",{children:"Name"}),Object(vt.jsx)("th",{children:"Email"}),Object(vt.jsx)("th",{children:"Job"}),Object(vt.jsx)("th",{})]})}),Object(vt.jsx)("tbody",{children:d.map((e=>Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("td",{children:Object(vt.jsxs)(mt.a,{className:"btn-link",to:"/edit-user/".concat(e.reservation.userId),onClick:()=>{window.scrollTo(0,0),c()},children:[e.reservation.user.name," ",e.reservation.user.lastname]})}),Object(vt.jsx)("td",{children:e.reservation.user.email}),Object(vt.jsx)("td",{children:e.jobs?e.jobs.map((e=>Object(vt.jsx)("p",{className:"outreach-list-jobs",children:e.title},"jb-".concat(e.id)))):e.job.title}),Object(vt.jsxs)("td",{children:[Object(vt.jsx)("input",{type:"checkbox",value:e.reservation.user.email,className:"form__input-chk",id:"user-".concat(e.id),checked:g.some((t=>t===e.reservation.user.email)),onChange:e=>{e.target.checked?b((t=>({...t,users:[...g,e.target.value]}))):b((t=>({...t,users:g.filter((t=>t!==e.target.value))})))}}),Object(vt.jsx)("label",{className:"form__label-chk",htmlFor:"user-".concat(e.id),children:Object(vt.jsx)("span",{children:Object(vt.jsx)("svg",{width:"12px",height:"9px",viewBox:"0 0 12 9",children:Object(vt.jsx)("polyline",{points:"1 5 4 8 11 1"})})})})]})]},e.id)))})]})}),Object(vt.jsxs)("div",{className:"list-total",children:[Object(vt.jsx)("span",{className:"list-total-title text-dark",children:"Total:"}),"\xa0",d.length]})]}):Object(vt.jsx)("h3",{className:"heading-primary-subheading u-center-text text-danger",children:i.msg}),g.length>0&&Object(vt.jsx)("div",{className:"btn-right",children:Object(vt.jsxs)("button",{onClick:()=>b((e=>({...e,toggleEmail:!O}))),className:"btn btn-primary",children:[Object(vt.jsx)("i",{className:"fas fa-paper-plane"})," \xa0 Email"]})})]})]})}));var Ra=Object(dt.b)((e=>({global:e.global})))((e=>{let{global:{navbar:t,footer:a}}=e;return Object(vt.jsx)("div",{className:"container",style:{minHeight:"calc(100vh - ".concat(a,"px - ").concat(t,"px)")},children:Object(vt.jsxs)(jt.d,{children:[Object(vt.jsx)(la,{path:"/signup",component:oa}),Object(vt.jsx)(la,{path:"/resetpassword/:token",component:ia}),Object(vt.jsx)(jt.b,{exact:!0,path:"/reservation/:job_id",component:Na}),Object(vt.jsx)(jt.b,{path:"/activation/:token",component:na}),Object(vt.jsx)(ra,{path:"/profile",component:oa,types:["admin","customer"]}),Object(vt.jsx)(ra,{path:"/edit-user/:user_id",component:oa,types:["admin"]}),Object(vt.jsx)(ra,{path:"/reservations-list",component:_a,types:["admin"]}),Object(vt.jsx)(ra,{path:"/jobs-list",component:wa,types:["admin"]}),Object(vt.jsx)(ra,{path:"/schedule",component:Da,types:["admin"]}),Object(vt.jsx)(ra,{path:"/users-list",component:Ea,types:["admin"]}),Object(vt.jsx)(ra,{path:"/outreach",component:Ta,types:["admin"]})]})})}));var ka=Object(dt.b)((e=>({global:e.global})),{loadUser:$e})((e=>{let{global:{navbar:t},loadUser:a}=e;return Object(s.useEffect)((()=>{localStorage.token&&(ct(localStorage.token),a())}),[a]),Object(vt.jsxs)(jt.c,{history:Ye,children:[Object(vt.jsx)(ft,{}),Object(vt.jsx)("div",{style:{paddingTop:"".concat(t,"px")},children:Object(vt.jsxs)(jt.d,{children:[Object(vt.jsx)(jt.b,{path:"/",exact:!0,component:Gt}),Object(vt.jsx)(jt.b,{path:"/portfolio",exact:!0,component:ea}),Object(vt.jsx)(jt.b,{path:"/contact",exact:!0,component:Wt}),Object(vt.jsx)(jt.b,{path:"/servicesfull",exact:!0,component:Zt}),Object(vt.jsx)(jt.b,{path:"/vrm",component:Qt}),Object(vt.jsx)(jt.b,{path:"/booking",component:qt}),Object(vt.jsx)(jt.b,{path:"/login",component:ca}),Object(vt.jsx)(Ra,{})]})}),Object(vt.jsx)(yt,{})]})}));l.a.render(Object(vt.jsx)(dt.a,{store:it,children:Object(vt.jsx)(ka,{})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.2db86712.chunk.js.map