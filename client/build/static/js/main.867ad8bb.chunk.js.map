{"version":3,"sources":["actions/types.js","reducers/auth.js","reducers/alert.js","reducers/day.js","reducers/global.js","reducers/job.js","reducers/reservation.js","reducers/jobsXReservations.js","reducers/user.js","reducers/index.js","utils/history.js","actions/alert.js","actions/global.js","actions/day.js","actions/reservation.js","actions/jobs.js","actions/auth.js","utils/api.js","utils/setAuthToken.js","utils/store.js","actions/jobsXReservations.js","actions/user.js","components/layouts/Navbar/index.js","img/logoDRONE-dark-cropped-final.png","components/layouts/Footer/index.js","img/glenn/drone-tahoe-video.mp4","components/HeroSection/index.js","components/About/index.js","components/Services/ServicesItem/index.js","img/small/services/construction.jpg","img/small/services/inspection.jpg","img/small/services/elevation-map.jpg","components/Services/index.js","img/glenn/partners/small/bruin.jpg","img/glenn/partners/small/brassfield.jpg","img/glenn/partners/small/corteva.jpg","img/glenn/partners/small/mccarthy.jpg","img/glenn/partners/tahoenalu.jpg","img/glenn/partners/tahoegal.jpg","img/glenn/partners/tahoeyachtclub.jpg","img/glenn/partners/tgma.jpg","img/glenn/partners/eaa.jpg","img/glenn/partners/greybluerealty.jpg","components/Testimonials/index.js","components/layouts/Alert/index.js","img/spinner.gif","components/layouts/Loading/index.js","components/pages/Booking/index.js","components/pages/Home/index.js","components/pages/Contact/index.js","components/pages/ServicesFull/index.js","img/glenn/Icons/global.png","img/glenn/Icons/progress.png","img/glenn/Icons/safety.png","components/pages/VRM/index.js","components/pages/Portfolio/index.js","components/pages/Login/index.js","components/routing/PrivateRoutes/index.js","components/routing/PublicRoutes/index.js","components/pages/EditUser/index.js","components/pages/Activation/index.js","components/pages/ChangePassword/index.js","components/HourRangeForm/index.js","components/JobForm/index.js","components/Schedule/index.js","components/UserField/index.js","components/ReservationForm/index.js","components/PayPal/index.js","components/EmailForm/index.js","components/RefundForm/index.js","components/layouts/PopUp/index.js","components/pages/Reservation/index.js","components/DatesFiled/index.js","components/pages/ReservationsList/index.js","components/pages/JobsList/index.js","components/pages/ManageSchedule/index.js","components/pages/UsersList/index.js","components/pages/Outreach/index.js","components/routing/Routes/index.js","App.js","index.js"],"names":["LOADINGSPINNER_UPDATED","FOOTER_HEIGHT_SETTED","NAVBAR_HEIGHT_SETTED","USERAUTH_LOADED","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","AUTH_ERROR","SIGNUP_FAIL","SIGNUP_SUCCESS","EMAIL_SENT","EMAIL_ERROR","EMAIL_CLEARED","PASSWORD_CHANGED","ALERT_REMOVED","ALERT_SETTED","USER_LOADED","USERS_LOADED","USER_UPDATED","USER_DELETED","USER_ERROR","USERS_ERROR","USER_CLEARED","USERS_CLEARED","RESERVATION_LOADED","RESERVATIONS_LOADED","RESERVATION_REGISTERED","RESERVATION_UPDATED","RESERVATION_DELETED","RESERVATION_CANCELED","RESERVATIONS_CLEARED","RESERVATION_CLEARED","RESERVATION_ERROR","RESERVATIONS_ERROR","JOBSXRESERVATIONS_LOADED","JOBSXRESERVATIONS_CLEARED","JOBSXRESERVATIONS_ERROR","MONTHAVAILABILITY_LOADED","DAYAVAILABILITY_LOADED","DAY_ENABLED","DAY_DISABLED","DAYS_DISABLED","ADD_RESERVED_DAY","DELETE_RESERVED_DAY","ADD_TIME_DISABLED_DAY","DELETE_TIME_DISABLED_DAY","DAYSAVAILABILITY_CLEARED","DAYSAVAILABILITY_ERROR","JOB_LOADED","JOBS_LOADED","JOB_REGISTERED","JOB_UPDATED","JOB_DELETED","JOB_ERROR","JOBS_ERROR","JOB_CLEARED","JOBS_CLEARED","PAYMENT_STATUS_UPDATED","PAYMENT_ERROR","initialState","token","localStorage","getItem","loggedUser","loading","isAuthenticated","error","emailSent","authReducer","state","action","type","payload","user","alertReducer","some","item","msg","filter","alert","id","loadingAvailableHours","loadingDisabledDays","availableHours","disabledDays","reservedDays","timeDisabledDays","userReducer","toDelete","Date","date","daysArray","getTime","dates","loadingSpinner","footer","navbar","globalReducer","loadingJob","job","jobs","jobReducer","map","loadingReservation","reservation","reservations","reservationReducer","sort","a","b","differenceInMilliseconds","hourFrom","jobsXreservations","loadingUser","users","_id","combineReducers","auth","day","global","jobsXreservation","createBrowserHistory","setAlert","alertType","code","dispatch","uuidv4","setTimeout","updateLoadingSpinner","bool","checkDayAvailability","reservation_id","diff","async","res","api","get","data","err","response","status","setDaysError","window","scrollTo","statusText","loadReservations","filterData","bulkLoad","updateStatus","filternames","Object","keys","x","length","name","setReservationError","post","updateReservation","formData","prop","errors","forEach","deleteReservation","isReservation","deleteDate","clearReservations","loadJobs","setJobsError","clearJobs","loadUser","login","history","push","setAuthError","sendEmail","outreach","stayDown","clearEmailSent","logOut","axios","create","baseURL","headers","interceptors","use","store","getState","Promise","reject","setAuthToken","defaults","common","setItem","removeItem","middleware","thunk","composeEnhancers","composeWithDevTools","trace","traceLimit","createStore","rootReducer","applyMiddleware","currentState","subscribe","previousState","loadReservationJobs","setJobsXReservationError","clearJobsXReservations","loadUsers","search","setUserError","clearUser","clearUsers","connect","setNavbarHeight","height","click","setClick","useState","button","setButton","closeMobileMenu","ref","useRef","useEffect","showButton","current","offsetHeight","innerWidth","addEventListener","className","style","justifyContent","padding","onClick","to","order","setFooterHeight","time","getFullYear","src","NavLogo","alt","pathname","target","HeroVideo","autoPlay","loop","muted","playsInline","image","title","details","ServicesSection","ServicesItem","Construction","Inspection","Roofing","Testimonials","TahoeNalu","Brassfield","TahoeYachtClub","Mccarthy","TahoeGal","EAA","GreyBlue","Corteva","TGMA","Bruin","alerts","classType","Fragment","zIndex","spinner","width","display","margin","initialValues","lastname","phone","email","company","experience","message","container","setFormData","onChange","e","persist","prev","value","onSubmit","preventDefault","cel","getBoundingClientRect","scrollTop","pageYOffset","document","documentElement","top","placeholder","required","htmlFor","Contact","React","i","subtitle","poptext","VRM","img2","img1","img3","Portfolio","frameborder","allow","allowfullscreen","frameBorder","allowFullScreen","facebookLogin","fbkData","googleLogin","googleData","loginUser","sendPasswordLink","password","adminValues","setAdminValues","forgotPassword","clientId","process","buttonText","onRequest","onSuccess","tokenId","onFailure","console","log","cookiePolicy","isMobile","appId","autoLoad","textButton","callback","accessToken","userID","component","Component","types","path","exact","userLogged","signup","updateUser","self","goBack","user_id","withRouter","location","match","isAdmin","pathId","params","adminType","replace","passwordConf","userLoaded","saveUser","disabled","autoComplete","activation","float","innerHeight","resetPassword","resetLink","confirm","setToggleModal","hourTo","rangeFrom","rangeTo","unavailableRange","jobId","getUTCHours","y","start","index","findIndex","key","JobForm","toggleModal","rows","checkMonthAvailability","month","year","registerReservation","today","addDays","tab","getMonth","getYear","getHours","slice","selectHour","newDate","setHours","newHourTo","oldHourFrom","oldHourTo","tileDisabled","useCallback","view","disabledDay","format","text","changedDate","minDate","maxDate","addYears","onActiveStartDateChange","activeStartDate","posibleHours","minTime","hour","startTime","usedRange","endTime","tabOpen","selectFinalUser","reservationUser","searchDisplay","switchDisplay","clear","completeClear","initialValue","lockEmail","onFocus","selectUser","jobsList","form","schedule","regex","job_id","discount","address","comments","travelExpenses","refundReason","total","changeDate","percentage","oldReservation","Math","round","Number","EPSILON","getTotal","expence","reduce","sum","itemValue","test","onChangeJobs","onChangeJobsDiscount","jobListItem","j","scrollIntoView","charAt","toUpperCase","paymentId","show","checked","splice","updatePayment","makePayment","PayPalButton","paypal","Buttons","driver","ReactDOM","undefined","createOrder","payment","onApprove","actions","capture","onError","EmailForm","subject","RefundForm","amount","PopUp","subtext","toUpdate","logo","selectType","loadingReservations","list","position","editReservation","checkout","bottom","DatesFiled","min","cancelReservation","toggleDeleteConf","toggleReservation","toggleRefund","showFilter","setToggle","deleteJob","registerUpdateJob","toggleJob","update","jobData","checkMonthSchedule","disableDate","enableDate","disableDateRange","dateFrom","dateTo","disableHourRange","hourRange","addDate","loadingJobs","range","tileClassName","info","classes","getDay","selectRange","loadRes","getUTCDate","getDate","available","every","addHours","isBefore","disable","answer","loadJobUsers","toggleEmail","emailData","viewBox","points","userId","minHeight","EditUser","ChangePassword","Reservation","Activation","ReservationsList","JobsList","ManageSchedule","UsersList","Outreach","paddingTop","Home","ServicesFull","Booking","Login","render","getElementById"],"mappings":"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","file":"static/js/main.867ad8bb.chunk.js","sourcesContent":["//Global\r\nexport const LOADINGSPINNER_UPDATED = 'LOADINGSPINNER_UPDATED';\r\nexport const FOOTER_HEIGHT_SETTED = 'FOOTER_HEIGHT_SETTED';\r\nexport const NAVBAR_HEIGHT_SETTED = 'NAVBAR_HEIGHT_SETTED';\r\n\r\n//Auth\r\nexport const USERAUTH_LOADED = 'USERAUTH_LOADED';\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\r\nexport const LOGOUT = 'LOGOUT';\r\nexport const AUTH_ERROR = 'AUTH_ERROR';\r\nexport const SIGNUP_FAIL = 'SIGNUP_FAIL';\r\nexport const SIGNUP_SUCCESS = 'SIGNUP_SUCCESS';\r\nexport const EMAIL_SENT = 'EMAIL_SENT';\r\nexport const EMAIL_ERROR = 'EMAIL_ERROR';\r\nexport const EMAIL_CLEARED = 'EMAIL_CLEARED';\r\nexport const PASSWORD_CHANGED = 'PASSWORD_CHANGED';\r\n\r\n//Alert\r\nexport const ALERT_REMOVED = 'ALERT_REMOVED';\r\nexport const ALERT_SETTED = 'ALERT_SETTED';\r\n\r\n//Users\r\nexport const USER_LOADED = 'USER_LOADED';\r\nexport const USERS_LOADED = 'USERS_LOADED';\r\nexport const USER_UPDATED = 'USER_UPDATED';\r\nexport const USER_DELETED = 'USER_DELETED';\r\nexport const USER_ERROR = 'USER_ERROR';\r\nexport const USERS_ERROR = 'USERS_ERROR';\r\nexport const USER_CLEARED = 'USER_CLEARED';\r\nexport const USERS_CLEARED = 'USERS_CLEARED';\r\n\r\n//Reservations\r\nexport const RESERVATION_LOADED = 'RESERVATION_LOADED';\r\nexport const RESERVATIONS_LOADED = 'RESERVATIONS_LOADED';\r\nexport const RESERVATION_REGISTERED = 'RESERVATION_REGISTERED';\r\nexport const RESERVATION_UPDATED = 'RESERVATION_UPDATED';\r\nexport const RESERVATION_DELETED = 'RESERVATION_DELETED';\r\nexport const RESERVATION_CANCELED = 'RESERVATION_CANCELED';\r\nexport const RESERVATIONS_CLEARED = 'RESERVATIONS_CLEARED';\r\nexport const RESERVATION_CLEARED = 'RESERVATION_CLEARED';\r\nexport const RESERVATION_ERROR = 'RESERVATION_ERROR';\r\nexport const RESERVATIONS_ERROR = 'RESERVATIONS_ERROR';\r\n\r\n//JobsXReservations\r\nexport const JOBSXRESERVATIONS_LOADED = 'JOBSXRESERVATIONS_LOADED';\r\nexport const JOBSXRESERVATIONS_CLEARED = 'JOBSXRESERVATIONS_CLEARED';\r\nexport const JOBSXRESERVATIONS_ERROR = 'JOBSXRESERVATIONS_ERROR';\r\n\r\n//Days\r\nexport const MONTHAVAILABILITY_LOADED = 'MONTHAVAILABILITY_LOADED';\r\nexport const DAYAVAILABILITY_LOADED = 'DAYAVAILABILITY_LOADED';\r\nexport const DAY_ENABLED = 'DAY_ENABLED';\r\nexport const DAY_DISABLED = 'DAY_DISABLED';\r\nexport const DAYS_DISABLED = 'DAYS_DISABLED';\r\nexport const ADD_RESERVED_DAY = 'ADD_RESERVED_DAY';\r\nexport const DELETE_RESERVED_DAY = 'DELETE_RESERVED_DAY';\r\nexport const ADD_TIME_DISABLED_DAY = 'ADD_TIME_DISABLED_DAY';\r\nexport const DELETE_TIME_DISABLED_DAY = 'DELETE_TIME_DISABLED_DAY';\r\nexport const DAYSAVAILABILITY_CLEARED = 'DAYSAVAILABILITY_CLEARED';\r\nexport const DAYSAVAILABILITY_ERROR = 'DAYSAVAILABILITY_ERROR';\r\n\r\n//Jobs\r\nexport const JOB_LOADED = 'JOB_LOADED';\r\nexport const JOBS_LOADED = 'JOBS_LOADED';\r\nexport const JOB_REGISTERED = 'JOB_REGISTERED';\r\nexport const JOB_UPDATED = 'JOB_UPDATED';\r\nexport const JOB_DELETED = 'JOB_DELETED';\r\nexport const JOB_ERROR = 'JOB_ERROR';\r\nexport const JOBS_ERROR = 'JOBS_ERROR';\r\nexport const JOB_CLEARED = 'JOB_CLEARED';\r\nexport const JOBS_CLEARED = 'JOBS_CLEARED';\r\n\r\n//Payment\r\nexport const PAYMENT_SUCCESSFUL = 'PAYMENT_SUCCESSFUL';\r\nexport const PAYMENT_STATUS_UPDATED = 'PAYMENT_STATUS_UPDATED';\r\nexport const PAYMENT_ERROR = 'PAYMENT_ERROR';\r\n","import {\r\n\tUSERAUTH_LOADED,\r\n\tAUTH_ERROR,\r\n\tLOGIN_FAIL,\r\n\tLOGIN_SUCCESS,\r\n\tLOGOUT,\r\n\tSIGNUP_FAIL,\r\n\tEMAIL_SENT,\r\n\tSIGNUP_SUCCESS,\r\n\tPASSWORD_CHANGED,\r\n\tEMAIL_ERROR,\r\n\tEMAIL_CLEARED,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n\ttoken: localStorage.getItem('token'),\r\n\tloggedUser: null,\r\n\tloading: true,\r\n\tisAuthenticated: false,\r\n\terror: '',\r\n\temailSent: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\r\n\tswitch (type) {\r\n\t\tcase USERAUTH_LOADED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tloggedUser: payload,\r\n\t\t\t\tisAuthenticated: true,\r\n\t\t\t};\r\n\t\tcase SIGNUP_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tloggedUser: payload.user,\r\n\t\t\t\tisAuthenticated: true,\r\n\t\t\t\ttoken: payload.token,\r\n\t\t\t};\r\n\t\tcase LOGIN_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\ttoken: payload.token,\r\n\t\t\t};\r\n\t\tcase AUTH_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttoken: null,\r\n\t\t\t\tisAuthenticated: false,\r\n\t\t\t\tloggedUser: null,\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: payload ? payload : '',\r\n\t\t\t};\r\n\t\tcase PASSWORD_CHANGED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttoken: payload.token,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tloggedUser: payload.user,\r\n\t\t\t\tisAuthenticated: true,\r\n\t\t\t};\r\n\r\n\t\tcase SIGNUP_FAIL:\r\n\t\tcase LOGIN_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terror: payload,\r\n\t\t\t\tloading: false,\r\n\t\t\t\ttoken: null,\r\n\t\t\t\tisAuthenticated: false,\r\n\t\t\t\tloggedUser: null,\r\n\t\t\t};\r\n\t\tcase EMAIL_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terror: payload,\r\n\t\t\t\temailSent: false,\r\n\t\t\t};\r\n\t\tcase EMAIL_SENT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\temailSent: true,\r\n\t\t\t\terror: '',\r\n\t\t\t};\r\n\t\tcase LOGOUT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttoken: null,\r\n\t\t\t\tisAuthenticated: false,\r\n\t\t\t\tloggedUser: null,\r\n\t\t\t\tloading: true,\r\n\t\t\t\terror: '',\r\n\t\t\t};\r\n\t\tcase EMAIL_CLEARED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\temailSent: false,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default authReducer;\r\n","import { ALERT_SETTED, ALERT_REMOVED } from \"../actions/types\";\r\n\r\nconst initialState = [];\r\n\r\nconst alertReducer = (state = initialState, action) => {\r\n   const { type, payload } = action;\r\n   switch (type) {\r\n      case ALERT_SETTED:\r\n         return !state.some((item) => item.msg === payload.msg)\r\n            ? [...state, payload]\r\n            : state;\r\n      case ALERT_REMOVED:\r\n         return state.filter((alert) => alert.id !== payload);\r\n      default:\r\n         return state;\r\n   }\r\n};\r\n\r\nexport default alertReducer;\r\n","import {\r\n\tDAYAVAILABILITY_LOADED,\r\n\tMONTHAVAILABILITY_LOADED,\r\n\tDAY_DISABLED,\r\n\tDAY_ENABLED,\r\n\tDAYSAVAILABILITY_CLEARED,\r\n\tDAYSAVAILABILITY_ERROR,\r\n\tDAYS_DISABLED,\r\n\tDELETE_RESERVED_DAY,\r\n\tADD_RESERVED_DAY,\r\n\tADD_TIME_DISABLED_DAY,\r\n\tDELETE_TIME_DISABLED_DAY,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n\tloadingAvailableHours: true,\r\n\tloadingDisabledDays: true,\r\n\tavailableHours: [],\r\n\tdisabledDays: [],\r\n\treservedDays: [],\r\n\ttimeDisabledDays: [],\r\n\terror: {},\r\n};\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase MONTHAVAILABILITY_LOADED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingDisabledDays: false,\r\n\t\t\t\tdisabledDays: payload.disabledDays ? payload.disabledDays : payload,\r\n\t\t\t\t...(payload.reservedDays && { reservedDays: payload.reservedDays }),\r\n\t\t\t\t...(payload.timeDisabledDays && {\r\n\t\t\t\t\ttimeDisabledDays: payload.timeDisabledDays,\r\n\t\t\t\t}),\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase DAYAVAILABILITY_LOADED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingAvailableHours: false,\r\n\t\t\t\tavailableHours: payload,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase DAYSAVAILABILITY_CLEARED:\r\n\t\t\treturn initialState;\r\n\t\tcase DAYSAVAILABILITY_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tavailableHours: [],\r\n\t\t\t\tloadingAvailableHours: false,\r\n\t\t\t\terror: payload,\r\n\t\t\t};\r\n\t\tcase DAY_ENABLED:\r\n\t\tcase DELETE_RESERVED_DAY:\r\n\t\tcase DELETE_TIME_DISABLED_DAY:\r\n\t\t\tconst toDelete = new Date(payload.date);\r\n\t\t\tconst daysArray = state[payload.type].filter((item) => {\r\n\t\t\t\tconst oldDate = new Date(item);\r\n\t\t\t\treturn oldDate.getTime() !== toDelete.getTime();\r\n\t\t\t});\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[payload.type]: daysArray,\r\n\t\t\t};\r\n\t\tcase DAY_DISABLED:\r\n\t\tcase ADD_RESERVED_DAY:\r\n\t\tcase ADD_TIME_DISABLED_DAY:\r\n\t\tcase DAYS_DISABLED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[payload.type]: payload.dates\r\n\t\t\t\t\t? [...state[payload.type], ...payload.dates]\r\n\t\t\t\t\t: [...state[payload.type], payload.date],\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default userReducer;\r\n","import {\r\n\tFOOTER_HEIGHT_SETTED,\r\n\tLOADINGSPINNER_UPDATED,\r\n\tNAVBAR_HEIGHT_SETTED,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n\tloadingSpinner: false,\r\n\tfooter: 0,\r\n\tnavbar: 0,\r\n};\r\n\r\nconst globalReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase LOADINGSPINNER_UPDATED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingSpinner: payload,\r\n\t\t\t};\r\n\t\tcase NAVBAR_HEIGHT_SETTED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnavbar: payload,\r\n\t\t\t};\r\n\t\tcase FOOTER_HEIGHT_SETTED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfooter: payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default globalReducer;\r\n","import {\r\n\tJOB_LOADED,\r\n\tJOBS_LOADED,\r\n\tJOB_REGISTERED,\r\n\tJOB_UPDATED,\r\n\tJOB_DELETED,\r\n\tJOBS_ERROR,\r\n\tJOBS_CLEARED,\r\n\tJOB_CLEARED,\r\n\tJOB_ERROR,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n\tloading: true,\r\n\tloadingJob: true,\r\n\tjob: null,\r\n\tjobs: [],\r\n\terror: {},\r\n};\r\n\r\nconst jobReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase JOB_LOADED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingJob: false,\r\n\t\t\t\tjob: payload,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase JOBS_LOADED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tjobs: payload,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase JOB_REGISTERED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tjobs: [...state.jobs, payload],\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase JOB_UPDATED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tjob: payload,\r\n\t\t\t\tloadingJob: false,\r\n\t\t\t\tjobs: state.jobs.map((item) =>\r\n\t\t\t\t\titem.id !== payload.id ? item : payload\r\n\t\t\t\t),\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase JOB_DELETED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tjobs: state.jobs.filter((item) => item.id !== payload),\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase JOBS_CLEARED:\r\n\t\t\treturn initialState;\r\n\t\tcase JOB_CLEARED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tjob: null,\r\n\t\t\t\tloadingJob: true,\r\n\t\t\t};\r\n\t\tcase JOB_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tjob: null,\r\n\t\t\t\tloadingJob: false,\r\n\t\t\t\terror: payload,\r\n\t\t\t};\r\n\t\tcase JOBS_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tjobs: [],\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default jobReducer;\r\n","import { differenceInMilliseconds } from 'date-fns';\r\nimport {\r\n\tRESERVATION_LOADED,\r\n\tRESERVATIONS_LOADED,\r\n\tRESERVATION_REGISTERED,\r\n\tRESERVATION_UPDATED,\r\n\tRESERVATION_DELETED,\r\n\tRESERVATIONS_ERROR,\r\n\tRESERVATION_CLEARED,\r\n\tRESERVATIONS_CLEARED,\r\n\tPAYMENT_ERROR,\r\n\tRESERVATION_CANCELED,\r\n\tPAYMENT_STATUS_UPDATED,\r\n\tRESERVATION_ERROR,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n\tloading: true,\r\n\tloadingReservation: true,\r\n\treservation: null,\r\n\treservations: [],\r\n\terror: {},\r\n};\r\n\r\nconst reservationReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase RESERVATION_LOADED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingReservation: false,\r\n\t\t\t\treservation: payload,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase RESERVATIONS_LOADED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\treservations: payload,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase RESERVATION_REGISTERED:\r\n\t\t\tlet reservations = [...state.reservations, payload];\r\n\t\t\treservations = reservations.sort((a, b) =>\r\n\t\t\t\tdifferenceInMilliseconds(new Date(a.hourFrom), new Date(b.hourFrom))\r\n\t\t\t);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\treservations,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase RESERVATION_CANCELED:\r\n\t\tcase RESERVATION_UPDATED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingReservation: false,\r\n\t\t\t\treservations: state.reservations.map((item) =>\r\n\t\t\t\t\titem.id === payload.id ? payload : item\r\n\t\t\t\t),\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase PAYMENT_STATUS_UPDATED:\r\n\t\t\treturn payload\r\n\t\t\t\t? {\r\n\t\t\t\t\t\t...state,\r\n\t\t\t\t\t\tloadingReservation: false,\r\n\t\t\t\t\t\treservations: state.reservations.map((item) =>\r\n\t\t\t\t\t\t\titem.id === payload.id ? payload : item\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\terror: {},\r\n\t\t\t\t  }\r\n\t\t\t\t: state;\r\n\t\tcase RESERVATION_DELETED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\treservations: state.reservations.filter(\r\n\t\t\t\t\t(reservation) => reservation.id !== payload\r\n\t\t\t\t),\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase RESERVATIONS_CLEARED:\r\n\t\t\treturn initialState;\r\n\t\tcase RESERVATION_CLEARED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingReservation: true,\r\n\t\t\t\treservation: null,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase RESERVATION_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\treservation: null,\r\n\t\t\t\tloadingReservation: false,\r\n\t\t\t\terror: payload,\r\n\t\t\t};\r\n\t\tcase RESERVATIONS_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\treservations: [],\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: payload,\r\n\t\t\t};\r\n\t\tcase PAYMENT_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terror: payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default reservationReducer;\r\n","import {\r\n\tJOBSXRESERVATIONS_CLEARED,\r\n\tJOBSXRESERVATIONS_ERROR,\r\n\tJOBSXRESERVATIONS_LOADED,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n\tloading: true,\r\n\tjobsXreservations: [],\r\n\terror: {},\r\n};\r\n\r\nconst reservationReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase JOBSXRESERVATIONS_LOADED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tjobsXreservations: payload,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase JOBSXRESERVATIONS_CLEARED:\r\n\t\t\treturn initialState;\r\n\t\tcase JOBSXRESERVATIONS_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tjobsXreservations: [],\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default reservationReducer;\r\n","import {\r\n\tUSER_LOADED,\r\n\tUSERS_LOADED,\r\n\tUSER_UPDATED,\r\n\tUSER_DELETED,\r\n\tUSERS_ERROR,\r\n\tUSER_CLEARED,\r\n\tUSERS_CLEARED,\r\n\tUSER_ERROR,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n\tloading: true,\r\n\tloadingUser: true,\r\n\tuser: null,\r\n\tusers: [],\r\n\terror: {},\r\n};\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase USER_LOADED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingUser: false,\r\n\t\t\t\tuser: payload,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase USERS_LOADED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tusers: payload,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase USER_UPDATED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tusers: state.users.map((user) =>\r\n\t\t\t\t\tuser.id === payload.id ? payload : user\r\n\t\t\t\t),\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase USER_DELETED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: state.users.filter((user) => user._id !== payload),\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase USERS_CLEARED:\r\n\t\t\treturn initialState;\r\n\t\tcase USER_CLEARED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuser: null,\r\n\t\t\t\tloadingUser: true,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase USER_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuser: null,\r\n\t\t\t\tloadingUser: false,\r\n\t\t\t\terror: payload,\r\n\t\t\t};\r\n\t\tcase USERS_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: [],\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default userReducer;\r\n","import { combineReducers } from 'redux';\r\n\r\nimport auth from './auth';\r\nimport alert from './alert';\r\nimport day from './day';\r\nimport global from './global';\r\nimport job from './job';\r\nimport reservation from './reservation';\r\nimport jobsXreservation from './jobsXReservations';\r\nimport user from './user';\r\n\r\nexport default combineReducers({\r\n\talert,\r\n\tauth,\r\n\tday,\r\n\tglobal,\r\n\tjob,\r\n\treservation,\r\n\tjobsXreservation,\r\n\tuser,\r\n});\r\n","import { createBrowserHistory } from \"history\";\r\nexport default createBrowserHistory();\r\n","import { v4 as uuidv4 } from 'uuid';\r\n\r\nimport { ALERT_REMOVED, ALERT_SETTED } from './types';\r\n\r\nexport const setAlert =\r\n\t(msg, alertType, type = '1', code = 500) =>\r\n\t(dispatch) => {\r\n\t\tconst id = uuidv4();\r\n\t\tdispatch({\r\n\t\t\ttype: ALERT_SETTED,\r\n\t\t\tpayload: {\r\n\t\t\t\tid,\r\n\t\t\t\talertType,\r\n\t\t\t\tmsg,\r\n\t\t\t\ttype,\r\n\t\t\t\tcode,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tsetTimeout(\r\n\t\t\t() =>\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: ALERT_REMOVED,\r\n\t\t\t\t\tpayload: id,\r\n\t\t\t\t}),\r\n\t\t\t5000\r\n\t\t);\r\n\t};\r\n","import {\r\n\tFOOTER_HEIGHT_SETTED,\r\n\tLOADINGSPINNER_UPDATED,\r\n\tNAVBAR_HEIGHT_SETTED,\r\n} from './types';\r\n\r\nexport const updateLoadingSpinner = (bool) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: LOADINGSPINNER_UPDATED,\r\n\t\tpayload: bool,\r\n\t});\r\n};\r\n\r\nexport const setFooterHeight = (height) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: FOOTER_HEIGHT_SETTED,\r\n\t\tpayload: height,\r\n\t});\r\n};\r\n\r\nexport const setNavbarHeight = (height) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: NAVBAR_HEIGHT_SETTED,\r\n\t\tpayload: height,\r\n\t});\r\n};\r\n","import api from '../utils/api';\r\n\r\nimport {\r\n\tDAYAVAILABILITY_LOADED,\r\n\tMONTHAVAILABILITY_LOADED,\r\n\tDAY_DISABLED,\r\n\tDAY_ENABLED,\r\n\tDAYSAVAILABILITY_ERROR,\r\n\tDAYSAVAILABILITY_CLEARED,\r\n\tDAYS_DISABLED,\r\n\tADD_RESERVED_DAY,\r\n\tADD_TIME_DISABLED_DAY,\r\n\tDELETE_RESERVED_DAY,\r\n\tDELETE_TIME_DISABLED_DAY,\r\n} from './types';\r\n\r\nimport { setAlert } from './alert';\r\nimport { updateLoadingSpinner } from './global';\r\n\r\nexport const checkDayAvailability =\r\n\t(date, reservation_id, diff) => async (dispatch) => {\r\n\t\tdispatch(updateLoadingSpinner(true));\r\n\t\tlet error = false;\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await api.get(`/day/${date}/${reservation_id}/${diff}`);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: DAYAVAILABILITY_LOADED,\r\n\t\t\t\tpayload: res.data,\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tif (err.response.status !== 401) {\r\n\t\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t\t\tdispatch(setDaysError(DAYSAVAILABILITY_ERROR, err.response));\r\n\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t} else error = true;\r\n\t\t}\r\n\r\n\t\tif (!error) dispatch(updateLoadingSpinner(false));\r\n\t};\r\n\r\nexport const checkMonthAvailability =\r\n\t(month, year, reservation_id, diff) => async (dispatch) => {\r\n\t\tdispatch(updateLoadingSpinner(true));\r\n\t\tlet error = false;\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await api.get(\r\n\t\t\t\t`/day/${month}/${year}/${reservation_id}/${diff}`\r\n\t\t\t);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: MONTHAVAILABILITY_LOADED,\r\n\t\t\t\tpayload: res.data,\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tif (err.response.status !== 401) {\r\n\t\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t\t\tdispatch(setDaysError(DAYSAVAILABILITY_ERROR, err.response));\r\n\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t} else error = true;\r\n\t\t}\r\n\r\n\t\tif (!error) dispatch(updateLoadingSpinner(false));\r\n\t};\r\n\r\nexport const checkMonthSchedule = (month, year) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\ttry {\r\n\t\tconst res = await api.get(`/day/schedule/${month}/${year}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: MONTHAVAILABILITY_LOADED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t\tdispatch(setDaysError(DAYSAVAILABILITY_ERROR, err.response));\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t}\r\n\t\terror = true;\r\n\t}\r\n\r\n\tif (!error) dispatch(updateLoadingSpinner(false));\r\n};\r\n\r\nexport const disableDate = (date) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\ttry {\r\n\t\tawait api.post(`/day/${date}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: DAY_DISABLED,\r\n\t\t\tpayload: {\r\n\t\t\t\ttype: 'disabledDays',\r\n\t\t\t\tdate,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tdispatch(setAlert('Date successfully disabled', 'success', '2'));\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '2'));\r\n\t\t\tdispatch(setDaysError(DAYSAVAILABILITY_ERROR, err.response));\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t}\r\n\t\terror = true;\r\n\t}\r\n\tif (!error) {\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t}\r\n};\r\n\r\nexport const disableDateRange = (dateFrom, dateTo) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\r\n\ttry {\r\n\t\tconst res = await api.post(`/day/${dateFrom}/${dateTo}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: DAYS_DISABLED,\r\n\t\t\tpayload: {\r\n\t\t\t\ttype: 'disabledDays',\r\n\t\t\t\tdates: res.data,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tdispatch(setAlert('Dates successfully disabled', 'success', '2'));\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t\treturn true;\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '2'));\r\n\t\t\tdispatch(setDaysError(DAYSAVAILABILITY_ERROR, err.response));\r\n\t\t}\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\nexport const enableDate = (date) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\ttry {\r\n\t\tawait api.post(`/day/delete/${date}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: DAY_ENABLED,\r\n\t\t\tpayload: {\r\n\t\t\t\ttype: 'disabledDays',\r\n\t\t\t\tdate,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tdispatch(setAlert('Date successfully enabled', 'success', '2'));\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '2'));\r\n\t\t\tdispatch(setDaysError(DAYSAVAILABILITY_ERROR, err.response));\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) {\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t}\r\n};\r\n\r\nexport const addDate = (date, reservation) => async (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: reservation ? ADD_RESERVED_DAY : ADD_TIME_DISABLED_DAY,\r\n\t\tpayload: {\r\n\t\t\ttype: reservation ? 'reservedDays' : 'timeDisabledDays',\r\n\t\t\tdate,\r\n\t\t},\r\n\t});\r\n};\r\n\r\nexport const deleteDate = (date, reservation) => async (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: reservation ? DELETE_RESERVED_DAY : DELETE_TIME_DISABLED_DAY,\r\n\t\tpayload: {\r\n\t\t\ttype: reservation ? 'reservedDays' : 'timeDisabledDays',\r\n\t\t\tdate,\r\n\t\t},\r\n\t});\r\n};\r\n\r\nexport const clearDaysAvailability = () => (dispatch) => {\r\n\tdispatch({ type: DAYSAVAILABILITY_CLEARED });\r\n};\r\n\r\nconst setDaysError = (type, response) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: type,\r\n\t\tpayload: {\r\n\t\t\ttype: response.statusText,\r\n\t\t\tstatus: response.status,\r\n\t\t\tmsg: response.data.msg,\r\n\t\t},\r\n\t});\r\n};\r\n","import api from '../utils/api';\r\n\r\nimport {\r\n\tRESERVATIONS_CLEARED,\r\n\tRESERVATIONS_ERROR,\r\n\tRESERVATIONS_LOADED,\r\n\tRESERVATION_CANCELED,\r\n\tRESERVATION_DELETED,\r\n\tRESERVATION_LOADED,\r\n\tRESERVATION_REGISTERED,\r\n\tRESERVATION_UPDATED,\r\n\tRESERVATION_CLEARED,\r\n\tPAYMENT_ERROR,\r\n\tPAYMENT_SUCCESSFUL,\r\n\tPAYMENT_STATUS_UPDATED,\r\n\tRESERVATION_ERROR,\r\n} from './types';\r\n\r\nimport { setAlert } from './alert';\r\nimport { updateLoadingSpinner } from './global';\r\nimport { addDate, deleteDate } from './day';\r\n\r\nexport const loadReservation = (reservation_id) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\ttry {\r\n\t\tconst res = await api.get(`/reservation/${reservation_id}`);\r\n\t\tdispatch({\r\n\t\t\ttype: RESERVATION_LOADED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t\tdispatch(setReservationError(RESERVATION_ERROR, err.response));\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) dispatch(updateLoadingSpinner(false));\r\n};\r\n\r\nexport const loadReservations = (filterData, bulkLoad) => async (dispatch) => {\r\n\tif (!bulkLoad) dispatch(updateLoadingSpinner(true));\r\n\tif (bulkLoad) await dispatch(updateStatus());\r\n\tlet error = false;\r\n\r\n\tlet filter = '';\r\n\tconst filternames = Object.keys(filterData);\r\n\tfor (let x = 0; x < filternames.length; x++) {\r\n\t\tconst name = filternames[x];\r\n\t\tif (filterData[name] !== '') {\r\n\t\t\tif (filter !== '') filter = filter + '&';\r\n\t\t\tfilter = filter + filternames[x] + '=' + filterData[name];\r\n\t\t}\r\n\t}\r\n\ttry {\r\n\t\tconst res = await api.get(`/reservation?${filter}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: RESERVATIONS_LOADED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setReservationError(RESERVATIONS_ERROR, err.response));\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) dispatch(updateLoadingSpinner(false));\r\n};\r\n\r\nexport const makePayment = (formData) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\ttry {\r\n\t\tconst res = await api.post('/reservation/payment', formData);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PAYMENT_SUCCESSFUL,\r\n\t\t});\r\n\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t\treturn res.data;\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '2'));\r\n\t\t\tdispatch(setReservationError(PAYMENT_ERROR, err.response));\r\n\t\t\tdispatch(updateLoadingSpinner(false));\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport const updatePayment = (reservation_id, formData) => async (dispatch) => {\r\n\ttry {\r\n\t\tconst res = await api.post(\r\n\t\t\t`/reservation/payment/${reservation_id}`,\r\n\t\t\tformData\r\n\t\t);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PAYMENT_STATUS_UPDATED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\treturn true;\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '2'));\r\n\t\t\tdispatch(setReservationError(PAYMENT_ERROR, err.response));\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\nexport const updateStatus = () => async (dispatch) => {\r\n\ttry {\r\n\t\tawait api.post('/reservation/status/update');\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PAYMENT_STATUS_UPDATED,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '2'));\r\n\t\t\tdispatch(setReservationError(PAYMENT_ERROR, err.response));\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport const registerReservation = (formData) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\r\n\tlet reservation = {};\r\n\tfor (const prop in formData)\r\n\t\tif (formData[prop] !== '') reservation[prop] = formData[prop];\r\n\r\n\ttry {\r\n\t\tlet res = await api.post('/reservation', reservation);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: RESERVATION_REGISTERED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\tdispatch(setAlert('Reservation Registered', 'success', '1'));\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t\treturn true;\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setReservationError(RESERVATION_ERROR, err.response));\r\n\r\n\t\t\tif (err.response.data.errors)\r\n\t\t\t\terr.response.data.errors.forEach((error) => {\r\n\t\t\t\t\tdispatch(setAlert(error.msg, 'danger', '2'));\r\n\t\t\t\t});\r\n\t\t\telse dispatch(setAlert(err.response.data.msg, 'danger', '2'));\r\n\r\n\t\t\tdispatch(updateLoadingSpinner(false));\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\nexport const updateReservation = (formData) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\r\n\tlet reservation = {};\r\n\tfor (const prop in formData)\r\n\t\tif (formData[prop] !== '') reservation[prop] = formData[prop];\r\n\ttry {\r\n\t\tlet res = await api.post(`/reservation/${formData.id}`, reservation);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: RESERVATION_UPDATED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\tdispatch(setAlert('Reservation Updated', 'success', '1'));\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t\treturn true;\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setReservationError(RESERVATION_ERROR, err.response));\r\n\r\n\t\t\tif (err.response.data.errors)\r\n\t\t\t\terr.response.data.errors.forEach((error) => {\r\n\t\t\t\t\tdispatch(setAlert(error.msg, 'danger', '2'));\r\n\t\t\t\t});\r\n\t\t\telse dispatch(setAlert(err.response.data.msg, 'danger', '2'));\r\n\r\n\t\t\tdispatch(updateLoadingSpinner(false));\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\nexport const disableHourRange = (formData, date) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\r\n\tlet hourRange = {};\r\n\tfor (const prop in formData)\r\n\t\tif (formData[prop] !== '') hourRange[prop] = formData[prop];\r\n\r\n\ttry {\r\n\t\tlet res = await api.post('/reservation/disable', hourRange);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: RESERVATION_REGISTERED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\tdispatch(addDate(date, false));\r\n\r\n\t\tdispatch(setAlert('Time Range Disabled', 'success', '1'));\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t\treturn true;\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setReservationError(RESERVATION_ERROR, err.response));\r\n\r\n\t\t\tif (err.response.data.errors)\r\n\t\t\t\terr.response.data.errors.forEach((error) => {\r\n\t\t\t\t\tdispatch(setAlert(error.msg, 'danger', '2'));\r\n\t\t\t\t});\r\n\t\t\telse dispatch(setAlert(err.response.data.msg, 'danger', '2'));\r\n\r\n\t\t\tdispatch(updateLoadingSpinner(false));\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\nexport const cancelReservation =\r\n\t(reservation, formData) => async (dispatch) => {\r\n\t\tdispatch(updateLoadingSpinner(true));\r\n\r\n\t\tlet data = {};\r\n\t\tfor (const prop in formData)\r\n\t\t\tif (formData[prop] !== '') data[prop] = formData[prop];\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await api.post(`/reservation/cancel/${reservation.id}`, data);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:\r\n\t\t\t\t\tformData.amount && reservation.total !== formData.amount\r\n\t\t\t\t\t\t? RESERVATION_UPDATED\r\n\t\t\t\t\t\t: RESERVATION_CANCELED,\r\n\t\t\t\tpayload: res.data,\r\n\t\t\t});\r\n\r\n\t\t\tdispatch(\r\n\t\t\t\tsetAlert(\r\n\t\t\t\t\t`Reservation ${\r\n\t\t\t\t\t\tformData.amount && reservation.total !== formData.amount\r\n\t\t\t\t\t\t\t? 'Updated'\r\n\t\t\t\t\t\t\t: 'Canceled'\r\n\t\t\t\t\t}`,\r\n\t\t\t\t\t'success',\r\n\t\t\t\t\t'1'\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t\tdispatch(updateLoadingSpinner(false));\r\n\t\t\treturn true;\r\n\t\t} catch (err) {\r\n\t\t\tif (err.response.status !== 401) {\r\n\t\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '2'));\r\n\t\t\t\tdispatch(setReservationError(RESERVATION_ERROR, err.response));\r\n\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t\tdispatch(updateLoadingSpinner(false));\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\nexport const deleteReservation = (reservation, date) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\ttry {\r\n\t\tawait api.post(`/reservation/delete/${reservation.id}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: RESERVATION_DELETED,\r\n\t\t\tpayload: reservation.id,\r\n\t\t});\r\n\r\n\t\tconst isReservation = reservation.status !== 'hourRange';\r\n\r\n\t\tif (date) dispatch(deleteDate(date, isReservation));\r\n\r\n\t\tdispatch(setAlert('Reservation Deleted', 'success', '1'));\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t\tdispatch(setReservationError(RESERVATION_ERROR, err.response));\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) {\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t}\r\n};\r\n\r\nexport const clearReservation = () => (dispatch) => {\r\n\tdispatch({ type: RESERVATION_CLEARED });\r\n};\r\n\r\nexport const clearReservations = () => (dispatch) => {\r\n\tdispatch({ type: RESERVATIONS_CLEARED });\r\n};\r\n\r\nconst setReservationError = (type, response) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: type,\r\n\t\tpayload: response.data.errors\r\n\t\t\t? response.data.errors\r\n\t\t\t: {\r\n\t\t\t\t\ttype: response.statusText,\r\n\t\t\t\t\tstatus: response.status,\r\n\t\t\t\t\tmsg: response.data.msg,\r\n\t\t\t  },\r\n\t});\r\n};\r\n","import api from '../utils/api';\r\n\r\nimport {\r\n\tJOB_LOADED,\r\n\tJOBS_LOADED,\r\n\tJOB_REGISTERED,\r\n\tJOB_UPDATED,\r\n\tJOB_DELETED,\r\n\tJOBS_ERROR,\r\n\tJOBS_CLEARED,\r\n\tJOB_CLEARED,\r\n\tJOB_ERROR,\r\n} from './types';\r\n\r\nimport { setAlert } from './alert';\r\nimport { updateLoadingSpinner } from './global';\r\n\r\nexport const loadJob = (job_id) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\ttry {\r\n\t\tconst res = await api.get(`/job/${job_id}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: JOB_LOADED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setJobsError(JOB_ERROR, err.response));\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) dispatch(updateLoadingSpinner(false));\r\n};\r\n\r\nexport const loadJobs = (formData, bulkLoad) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\tlet filter = '';\r\n\tfor (const x in formData) {\r\n\t\tif (formData[x] !== '')\r\n\t\t\tfilter = `${filter !== '' ? `${filter}&` : ''}${x}=${formData[x]}`;\r\n\t}\r\n\r\n\ttry {\r\n\t\tconst res = await api.get(`/job?${filter}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: JOBS_LOADED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setJobsError(JOBS_ERROR, err.response));\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!bulkLoad && !error) dispatch(updateLoadingSpinner(false));\r\n};\r\n\r\nexport const registerUpdateJob = (formData, job_id) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\r\n\tlet job = {};\r\n\tfor (const prop in formData)\r\n\t\tif (formData[prop] !== '') job[prop] = formData[prop];\r\n\r\n\ttry {\r\n\t\tconst res = await api.post(`/job/${job_id ? job_id : '0'}`, job);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: job_id ? JOB_UPDATED : JOB_REGISTERED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\tdispatch(\r\n\t\t\tsetAlert(`Job ${job_id ? 'Updated' : 'Registered'}`, 'success', '1')\r\n\t\t);\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t\treturn true;\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setJobsError(JOB_ERROR, err.response));\r\n\t\t\tif (err.response.data.errors)\r\n\t\t\t\terr.response.data.errors.forEach((error) => {\r\n\t\t\t\t\tdispatch(setAlert(error.msg, 'danger', '2'));\r\n\t\t\t\t});\r\n\t\t\telse dispatch(setAlert(err.response.data.msg, 'danger', '2'));\r\n\t\t\tdispatch(updateLoadingSpinner(false));\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\nexport const deleteJob = (job_id) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\ttry {\r\n\t\tawait api.post(`/job/delete/${job_id}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: JOB_DELETED,\r\n\t\t\tpayload: job_id,\r\n\t\t});\r\n\r\n\t\tdispatch(setAlert('Job Deleted', 'success', '1'));\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t\tdispatch(setJobsError(JOB_ERROR, err.response));\r\n\t\t} else error = true;\r\n\t}\r\n\tif (!error) {\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t}\r\n};\r\n\r\nexport const clearJobs = () => (dispatch) => {\r\n\tdispatch({ type: JOBS_CLEARED });\r\n};\r\n\r\nexport const clearJob = () => (dispatch) => {\r\n\tdispatch({ type: JOB_CLEARED });\r\n};\r\n\r\nconst setJobsError = (type, response) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: type,\r\n\t\tpayload: response.data.errors\r\n\t\t\t? response.data.errors\r\n\t\t\t: {\r\n\t\t\t\t\ttype: response.statusText,\r\n\t\t\t\t\tstatus: response.status,\r\n\t\t\t\t\tmsg: response.data.msg,\r\n\t\t\t  },\r\n\t});\r\n};\r\n","import api from '../utils/api';\r\nimport history from '../utils/history';\r\n\r\nimport {\r\n\tAUTH_ERROR,\r\n\tLOGIN_FAIL,\r\n\tLOGIN_SUCCESS,\r\n\tLOGOUT,\r\n\tEMAIL_SENT,\r\n\tUSERAUTH_LOADED,\r\n\tSIGNUP_FAIL,\r\n\tSIGNUP_SUCCESS,\r\n\tPASSWORD_CHANGED,\r\n\tEMAIL_ERROR,\r\n\tEMAIL_CLEARED,\r\n} from './types';\r\n\r\nimport { setAlert } from './alert';\r\nimport { updateLoadingSpinner } from './global';\r\nimport { clearReservations } from './reservation';\r\nimport { clearJobs } from './jobs';\r\n\r\nexport const loadUser = (login) => async (dispatch) => {\r\n\ttry {\r\n\t\tconst res = await api.get('/user/info');\r\n\t\tdispatch({\r\n\t\t\ttype: USERAUTH_LOADED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\tif (login) {\r\n\t\t\tif (res.data.type === 'admin') {\r\n\t\t\t\tdispatch(clearReservations());\r\n\t\t\t\tdispatch(clearJobs());\r\n\t\t\t\thistory.push('/reservations-list');\r\n\t\t\t} else {\r\n\t\t\t\thistory.push('/');\r\n\t\t\t\tdispatch(updateLoadingSpinner(false));\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t\tdispatch(setAuthError(AUTH_ERROR, err.response));\r\n\t\t\tdispatch(updateLoadingSpinner(false));\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport const loginUser = (formData) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\tlet user = {};\r\n\tfor (const prop in formData)\r\n\t\tif (formData[prop] !== '') user[prop] = formData[prop];\r\n\r\n\ttry {\r\n\t\tconst res = await api.post('/auth', user);\r\n\t\tdispatch({\r\n\t\t\ttype: LOGIN_SUCCESS,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\tdispatch(loadUser(true));\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAuthError(LOGIN_FAIL, err.response));\r\n\r\n\t\t\tif (err.response.data.errors)\r\n\t\t\t\terr.response.data.errors.forEach((error) => {\r\n\t\t\t\t\tdispatch(setAlert(error.msg, 'danger', '1'));\r\n\t\t\t\t});\r\n\t\t\telse dispatch(setAlert(err.response.msg, 'danger', '1'));\r\n\t\t\tdispatch(updateLoadingSpinner(false));\r\n\t\t} else error = true;\r\n\t}\r\n\tif (!error) window.scrollTo(0, 0);\r\n};\r\n\r\nexport const facebookLogin = (fbkData) => async (dispatch) => {\r\n\tlet error = false;\r\n\ttry {\r\n\t\tconst res = await api.post('/auth/facebooklogin', fbkData);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: LOGIN_SUCCESS,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\tdispatch(loadUser(true));\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t\tdispatch(setAuthError(LOGIN_FAIL, err.response));\r\n\t\t\tdispatch(updateLoadingSpinner(false));\r\n\t\t} else error = true;\r\n\t}\r\n\tif (!error) window.scrollTo(0, 0);\r\n};\r\n\r\nexport const googleLogin = (googleData) => async (dispatch) => {\r\n\tlet error = false;\r\n\ttry {\r\n\t\tconst res = await api.post('/auth/googlelogin', googleData);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: LOGIN_SUCCESS,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\tdispatch(loadUser(true));\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t\tdispatch(setAuthError(LOGIN_FAIL, err.response));\r\n\t\t\tdispatch(updateLoadingSpinner(false));\r\n\t\t} else error = true;\r\n\t}\r\n\tif (!error) window.scrollTo(0, 0);\r\n};\r\n\r\nexport const signup = (formData) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\tlet user = {};\r\n\tfor (const prop in formData)\r\n\t\tif (formData[prop] !== '') user[prop] = formData[prop];\r\n\r\n\ttry {\r\n\t\tawait api.post('/auth/signup', user);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: EMAIL_SENT,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAuthError(SIGNUP_FAIL, err.response));\r\n\t\t\tif (err.response.data.errors)\r\n\t\t\t\terr.response.data.errors.forEach((error) => {\r\n\t\t\t\t\tdispatch(setAlert(error.msg, 'danger', '1'));\r\n\t\t\t\t});\r\n\t\t\telse dispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) dispatch(updateLoadingSpinner(false));\r\n};\r\n\r\nexport const sendPasswordLink = (email) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\ttry {\r\n\t\tconst res = await api.post('/auth/password', { email });\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: EMAIL_SENT,\r\n\t\t});\r\n\r\n\t\tdispatch(setAlert(res.data.msg, 'success', '1'));\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAuthError(AUTH_ERROR, err.response));\r\n\t\t\tif (err.response.data.errors)\r\n\t\t\t\terr.response.data.errors.forEach((error) => {\r\n\t\t\t\t\tdispatch(setAlert(error.msg, 'danger', '1'));\r\n\t\t\t\t});\r\n\t\t\telse dispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) {\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t}\r\n};\r\n\r\nexport const resetPassword = (formData) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\tlet user = {};\r\n\tfor (const prop in formData)\r\n\t\tif (formData[prop] !== '') user[prop] = formData[prop];\r\n\r\n\ttry {\r\n\t\tconst res = await api.post('/auth/reset-password', user);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PASSWORD_CHANGED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\tif (res.data.type === 'admin') history.push('/reservations-list');\r\n\t\telse history.push('/');\r\n\r\n\t\tdispatch(setAlert('Password successfully changed', 'success', '1'));\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAuthError(AUTH_ERROR, err.response));\r\n\t\t\tif (err.response.data.errors)\r\n\t\t\t\terr.response.data.errors.forEach((error) => {\r\n\t\t\t\t\tdispatch(setAlert(error.msg, 'danger', '1'));\r\n\t\t\t\t});\r\n\t\t\telse dispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) {\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t}\r\n};\r\n\r\nexport const activation = (token) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\ttry {\r\n\t\tconst res = await api.post('/auth/activation', { token });\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: SIGNUP_SUCCESS,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAuthError(SIGNUP_FAIL, err.response));\r\n\t\t}\r\n\t\terror = true;\r\n\t}\r\n\tif (!error) {\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t}\r\n};\r\n\r\nexport const sendEmail = (formData, outreach, stayDown) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\r\n\tlet data = {};\r\n\tfor (const prop in formData)\r\n\t\tif (formData[prop] !== '') data[prop] = formData[prop];\r\n\r\n\ttry {\r\n\t\tconst res = await api.post(\r\n\t\t\toutreach ? '/auth/outreach-email' : '/auth/send-email',\r\n\t\t\tdata\r\n\t\t);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: EMAIL_SENT,\r\n\t\t});\r\n\r\n\t\tdispatch(setAlert(res.data.msg, 'success', '1'));\r\n\t\tif (!stayDown) window.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t\treturn true;\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAuthError(EMAIL_ERROR, err.response));\r\n\r\n\t\t\tif (err.response.data.errors)\r\n\t\t\t\terr.response.data.errors.forEach((error) => {\r\n\t\t\t\t\tdispatch(setAlert(error.msg, 'danger', outreach ? '2' : '1'));\r\n\t\t\t\t});\r\n\t\t\telse\r\n\t\t\t\tdispatch(\r\n\t\t\t\t\tsetAlert(err.response.data.msg, 'danger', outreach ? '2' : '1')\r\n\t\t\t\t);\r\n\t\t}\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\nexport const clearEmailSent = () => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: EMAIL_CLEARED,\r\n\t});\r\n};\r\n\r\nexport const logOut = () => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: LOGOUT,\r\n\t});\r\n\thistory.push('/login');\r\n};\r\n\r\nexport const setAuthError = (type, response) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: type,\r\n\t\tpayload: response.data.errors\r\n\t\t\t? response.data.errors\r\n\t\t\t: {\r\n\t\t\t\t\ttype: response.statusText,\r\n\t\t\t\t\tstatus: response.status,\r\n\t\t\t\t\tmsg: response.data.msg,\r\n\t\t\t  },\r\n\t});\r\n};\r\n","import axios from 'axios';\r\nimport store from './store';\r\n\r\nimport { logOut, setAuthError } from '../actions/auth';\r\nimport { updateLoadingSpinner } from '../actions/global';\r\nimport { setAlert } from '../actions/alert';\r\nimport { AUTH_ERROR } from '../actions/types';\r\n\r\nconst api = axios.create({\r\n\tbaseURL: '/api',\r\n\theaders: {\r\n\t\t'Content-Type': 'application/json',\r\n\t},\r\n});\r\n\r\napi.interceptors.response.use(\r\n\t(res) => res,\r\n\t(err) => {\r\n\t\tif (\r\n\t\t\terr.response.status === 401 &&\r\n\t\t\t(store.getState().alert.length === 0 ||\r\n\t\t\t\t!store.getState().alert.some((item) => item.code === 401))\r\n\t\t) {\r\n\t\t\tstore.dispatch(logOut());\r\n\t\t\tstore.dispatch(setAlert(err.response.data.msg, 'danger', '1', 401));\r\n\t\t\tstore.dispatch(setAuthError(AUTH_ERROR, err.response));\r\n\t\t\tstore.dispatch(updateLoadingSpinner(false));\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t}\r\n\t\treturn Promise.reject(err);\r\n\t}\r\n);\r\n\r\nexport default api;\r\n","import api from './api';\r\n\r\nconst setAuthToken = (token) => {\r\n\tif (token) {\r\n\t\tapi.defaults.headers.common['auth-token'] = token;\r\n\t\tlocalStorage.setItem('token', token);\r\n\t} else {\r\n\t\tdelete api.defaults.headers.common['auth-token'];\r\n\t\tlocalStorage.removeItem('token');\r\n\t}\r\n};\r\n\r\nexport default setAuthToken;\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nimport rootReducer from '../reducers';\r\nimport setAuthToken from './setAuthToken';\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst composeEnhancers = composeWithDevTools({\r\n\ttrace: true,\r\n\ttraceLimit: 25,\r\n});\r\nconst store = createStore(\r\n\trootReducer,\r\n\tinitialState,\r\n\tcomposeEnhancers(applyMiddleware(...middleware))\r\n);\r\n\r\n// set up a store subscription listener\r\n// to store the users token in localStorage\r\n\r\n// prevent auth error on first run of subscription\r\nlet currentState = {\r\n\tauth: { token: null, isAuthenticated: null, loading: true, user: null },\r\n};\r\n\r\nstore.subscribe(() => {\r\n\t// keep track of the previous and current state to compare changes\r\n\tlet previousState = currentState;\r\n\tcurrentState = store.getState();\r\n\r\n\t// if the token changes set the value in localStorage and axios headers\r\n\tif (previousState.auth.token !== currentState.auth.token) {\r\n\t\tconst token = currentState.auth.token;\r\n\t\tsetAuthToken(token);\r\n\t}\r\n});\r\n\r\nexport default store;\r\n","import api from '../utils/api';\r\n\r\nimport {\r\n\tJOBSXRESERVATIONS_CLEARED,\r\n\tJOBSXRESERVATIONS_ERROR,\r\n\tJOBSXRESERVATIONS_LOADED,\r\n} from './types';\r\n\r\nimport { updateLoadingSpinner } from './global';\r\n\r\nexport const loadUserJobs = (user_id) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\ttry {\r\n\t\tconst res = await api.get(`/res/job/user/${user_id}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: JOBSXRESERVATIONS_LOADED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setJobsXReservationError(JOBSXRESERVATIONS_ERROR, err.response));\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) dispatch(updateLoadingSpinner(false));\r\n};\r\n\r\nexport const loadReservationJobs =\r\n\t(reservation_id, type) => async (dispatch) => {\r\n\t\tdispatch(updateLoadingSpinner(true));\r\n\t\tlet error = false;\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await api.get(\r\n\t\t\t\t`/res/job/reservation/${reservation_id}&${type ? '?type=' + type : ''}`\r\n\t\t\t);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: JOBSXRESERVATIONS_LOADED,\r\n\t\t\t\tpayload: res.data,\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tif (err.response.status !== 401) {\r\n\t\t\t\tdispatch(\r\n\t\t\t\t\tsetJobsXReservationError(JOBSXRESERVATIONS_ERROR, err.response)\r\n\t\t\t\t);\r\n\t\t\t} else error = true;\r\n\t\t}\r\n\r\n\t\tif (!error) dispatch(updateLoadingSpinner(false));\r\n\t};\r\n\r\nexport const loadJobUsers = (formData) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\tlet filter = '';\r\n\tfor (const x in formData) {\r\n\t\tif (\r\n\t\t\t(x === 'jobs' && formData[x].length > 0) ||\r\n\t\t\t(formData[x] !== '' && x !== 'jobs')\r\n\t\t)\r\n\t\t\tfilter = `${filter !== '' ? `${filter}&` : ''}${x}=${\r\n\t\t\t\tx === 'jobs' ? formData[x].map((item) => item) : formData[x]\r\n\t\t\t}`;\r\n\t}\r\n\r\n\ttry {\r\n\t\tconst res = await api.get(`/res/job/jobs?${filter}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: JOBSXRESERVATIONS_LOADED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setJobsXReservationError(JOBSXRESERVATIONS_ERROR, err.response));\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) dispatch(updateLoadingSpinner(false));\r\n};\r\n\r\nexport const clearJobsXReservations = () => (dispatch) => {\r\n\tdispatch({ type: JOBSXRESERVATIONS_CLEARED });\r\n};\r\n\r\nconst setJobsXReservationError = (type, response) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: type,\r\n\t\tpayload: {\r\n\t\t\ttype: response.statusText,\r\n\t\t\tstatus: response.status,\r\n\t\t\tmsg: response.data.msg,\r\n\t\t},\r\n\t});\r\n};\r\n","import api from '../utils/api';\r\nimport history from '../utils/history';\r\n\r\nimport {\r\n\tUSER_LOADED,\r\n\tUSERAUTH_LOADED,\r\n\tUSERS_LOADED,\r\n\tUSER_UPDATED,\r\n\tUSER_DELETED,\r\n\tUSERS_ERROR,\r\n\tUSER_CLEARED,\r\n\tUSERS_CLEARED,\r\n\tUSER_ERROR,\r\n} from './types';\r\n\r\nimport { setAlert } from './alert';\r\nimport { updateLoadingSpinner } from './global';\r\nimport { clearReservations } from './reservation';\r\n\r\nexport const loadUser = (user_id) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\ttry {\r\n\t\tconst res = await api.get(`/user/${user_id}`);\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOADED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t\tdispatch(setUserError(USER_ERROR, err.response));\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) dispatch(updateLoadingSpinner(false));\r\n};\r\n\r\nexport const loadUsers = (formData, search) => async (dispatch) => {\r\n\tif (!search) dispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\tlet filter = '';\r\n\tfor (const x in formData) {\r\n\t\tif (formData[x] !== '')\r\n\t\t\tfilter = `${filter !== '' ? `${filter}&` : ''}${x}=${formData[x]}`;\r\n\t}\r\n\r\n\ttry {\r\n\t\tconst res = await api.get(`/user?${filter}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USERS_LOADED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setUserError(USERS_ERROR, err.response));\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!search && !error) dispatch(updateLoadingSpinner(false));\r\n};\r\n\r\nexport const updateUser = (formData, self) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\tlet user = {};\r\n\tfor (const prop in formData)\r\n\t\tif (formData[prop] !== '') user[prop] = formData[prop];\r\n\r\n\ttry {\r\n\t\tconst res = await api.post(`/user/${formData.id}`, user);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: self ? USERAUTH_LOADED : USER_UPDATED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\tdispatch(\r\n\t\t\tsetAlert(\r\n\t\t\t\t`${self ? 'Profile' : 'User'} Successfully Updated`,\r\n\t\t\t\t'success',\r\n\t\t\t\t'1'\r\n\t\t\t)\r\n\t\t);\r\n\t\tif (!self) {\r\n\t\t\tdispatch(clearReservations());\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setUserError(USER_ERROR, err.response));\r\n\r\n\t\t\tif (err.response.data.errors)\r\n\t\t\t\terr.response.data.errors.forEach((error) => {\r\n\t\t\t\t\tdispatch(setAlert(error.msg, 'danger', '1'));\r\n\t\t\t\t});\r\n\t\t\telse dispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) {\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t}\r\n};\r\n\r\nexport const deleteUser = (user_id) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\ttry {\r\n\t\tawait api.post(`/user/delete/${user_id}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DELETED,\r\n\t\t\tpayload: user_id,\r\n\t\t});\r\n\r\n\t\tdispatch(setAlert('User Deleted', 'success', '1'));\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t\tdispatch(setUserError(USER_ERROR, err.response));\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) {\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t}\r\n};\r\n\r\nexport const clearUser = () => (dispatch) => {\r\n\tdispatch({ type: USER_CLEARED });\r\n};\r\n\r\nexport const clearUsers = () => (dispatch) => {\r\n\tdispatch({ type: USERS_CLEARED });\r\n};\r\n\r\nconst setUserError = (type, response) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: type,\r\n\t\tpayload: response.data.errors\r\n\t\t\t? response.data.errors\r\n\t\t\t: {\r\n\t\t\t\t\ttype: response.statusText,\r\n\t\t\t\t\tstatus: response.status,\r\n\t\t\t\t\tmsg: response.data.msg,\r\n\t\t\t  },\r\n\t});\r\n};\r\n","import React, { useState, useEffect, useRef, Fragment } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport { clearEmailSent, logOut } from '../../../actions/auth';\nimport { clearReservations } from '../../../actions/reservation';\nimport { clearJobsXReservations } from '../../../actions/jobsXReservations';\nimport { clearJobs } from '../../../actions/jobs';\nimport { clearUsers } from '../../../actions/user';\nimport { setNavbarHeight } from '../../../actions/global';\n\nimport './Navbar.scss';\n\nconst Navbar = ({\n\tlogOut,\n\tclearReservations,\n\tclearJobs,\n\tclearUsers,\n\tclearJobsXReservations,\n\tclearEmailSent,\n\tsetNavbarHeight,\n\tauth: { loggedUser, loading },\n}) => {\n\tconst [click, setClick] = useState(false);\n\tconst [button, setButton] = useState(true);\n\n\tconst handleClick = () => setClick(!click);\n\tconst closeMobileMenu = () => setClick(false);\n\n\tconst ref = useRef();\n\n\tuseEffect(() => {\n\t\tshowButton();\n\t\tsetTimeout(() => {\n\t\t\tsetNavbarHeight(ref.current.offsetHeight);\n\t\t}, 30);\n\t}, [setNavbarHeight]);\n\n\tconst showButton = () => {\n\t\tsetButton(window.innerWidth > 960);\n\t};\n\n\twindow.addEventListener('resize', showButton);\n\n\treturn (\n\t\t<nav\n\t\t\tref={ref}\n\t\t\tclassName='navbar'\n\t\t\tstyle={{\n\t\t\t\tjustifyContent: button ? 'space-between' : 'flex-end',\n\t\t\t\tpadding: button ? '1.8rem 0.5rem' : '1rem 1.2rem',\n\t\t\t}}\n\t\t\tid='top'\n\t\t>\n\t\t\t<div className='navbar-container'>\n\t\t\t\t<div className='menu-icon' onClick={handleClick}>\n\t\t\t\t\t<i className={click ? 'fas fa-times' : 'fas fa-bars'}></i>\n\t\t\t\t</div>\n\n\t\t\t\t<ul className={click ? 'nav-menu active' : 'nav-menu'}>\n\t\t\t\t\t{!loading && loggedUser && (\n\t\t\t\t\t\t<li className='nav-links-salute'>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto='/profile'\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tcloseMobileMenu();\n\t\t\t\t\t\t\t\t\tclearUsers();\n\t\t\t\t\t\t\t\t\tclearEmailSent();\n\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName='btn-link'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className='fas fa-user-alt'></i> Hi {loggedUser.name}!\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t)}\n\t\t\t\t\t<li\n\t\t\t\t\t\tclassName={`nav-item ${\n\t\t\t\t\t\t\tloggedUser && loggedUser.type === 'admin' ? 'hide' : ''\n\t\t\t\t\t\t}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto='/'\n\t\t\t\t\t\t\tclassName='nav-links'\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tcloseMobileMenu();\n\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tHome\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\n\t\t\t\t\t{!loading && loggedUser && loggedUser.type === 'admin' ? (\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto='/reservations-list'\n\t\t\t\t\t\t\t\t\tclassName='nav-links'\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tcloseMobileMenu();\n\t\t\t\t\t\t\t\t\t\tclearReservations();\n\t\t\t\t\t\t\t\t\t\tclearJobs();\n\t\t\t\t\t\t\t\t\t\tclearJobsXReservations();\n\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tReservations\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto='/schedule'\n\t\t\t\t\t\t\t\t\tclassName='nav-links'\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tcloseMobileMenu();\n\t\t\t\t\t\t\t\t\t\tclearReservations();\n\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tSchedule\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto='/users-list'\n\t\t\t\t\t\t\t\t\tclassName='nav-links'\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tcloseMobileMenu();\n\t\t\t\t\t\t\t\t\t\tclearUsers();\n\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tUsers\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto='/jobs-list'\n\t\t\t\t\t\t\t\t\tclassName='nav-links'\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tcloseMobileMenu();\n\t\t\t\t\t\t\t\t\t\tclearJobs();\n\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tJobs\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto='/outreach'\n\t\t\t\t\t\t\t\t\tclassName='nav-links'\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tcloseMobileMenu();\n\t\t\t\t\t\t\t\t\t\tclearJobs();\n\t\t\t\t\t\t\t\t\t\tclearJobsXReservations();\n\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tOutreach\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto='/servicesfull'\n\t\t\t\t\t\t\t\t\tclassName='nav-links'\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tcloseMobileMenu();\n\t\t\t\t\t\t\t\t\t\tclearJobs();\n\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tServices\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tclassName='nav-item'\n\t\t\t\t\t\t\t\tstyle={!loading && loggedUser ? { order: 5 } : null}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto='/portfolio'\n\t\t\t\t\t\t\t\t\tclassName='nav-links'\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tcloseMobileMenu();\n\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tPortfolio\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tclassName='nav-item'\n\t\t\t\t\t\t\t\tstyle={!loading && loggedUser ? { order: 4 } : null}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto={!loading && loggedUser ? '/reservation/0' : '/contact'}\n\t\t\t\t\t\t\t\t\tclassName='nav-links'\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tcloseMobileMenu();\n\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t\t\t\t\tif (!loading && loggedUser) {\n\t\t\t\t\t\t\t\t\t\t\tclearReservations();\n\t\t\t\t\t\t\t\t\t\t\tclearJobs();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{!loading && loggedUser ? 'Reservations' : 'Contact'}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<li\n\t\t\t\t\t\tclassName='nav-item'\n\t\t\t\t\t\tstyle={!loading && loggedUser ? { order: 6 } : null}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={!loading && loggedUser ? '/' : '/login'}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (!loading && loggedUser) logOut();\n\t\t\t\t\t\t\t\tcloseMobileMenu();\n\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName='nav-links-mobile btn btn-outline'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{!loading && loggedUser ? 'Log Out' : 'Log In'}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t{!loading && loggedUser && (\n\t\t\t\t<div className='nav-salute'>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto='/profile'\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t\tclearUsers();\n\t\t\t\t\t\t\tclearEmailSent();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName='btn-link'\n\t\t\t\t\t>\n\t\t\t\t\t\tHi {loggedUser.name}!\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{button && (\n\t\t\t\t<div className='nav-button'>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={!loading && loggedUser ? '/' : '/login'}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tif (!loading && loggedUser) logOut();\n\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName='btn btn-outline'\n\t\t\t\t\t>\n\t\t\t\t\t\t{!loading && loggedUser ? 'Log Out' : 'Log In'}\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</nav>\n\t);\n};\n\nconst mapStateToProps = (state) => ({\n\tauth: state.auth,\n});\n\nexport default connect(mapStateToProps, {\n\tlogOut,\n\tclearReservations,\n\tclearJobs,\n\tclearUsers,\n\tsetNavbarHeight,\n\tclearJobsXReservations,\n\tclearEmailSent,\n})(Navbar);\n","export default __webpack_public_path__ + \"static/media/logoDRONE-dark-cropped-final.b2f133be.png\";","import React, { useRef, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport { setFooterHeight } from '../../../actions/global';\n\nimport NavLogo from '../../../img/logoDRONE-dark-cropped-final.png';\n\nimport './Footer.scss';\n\nfunction Footer({ setFooterHeight }) {\n\tconst ref = useRef();\n\tconst time = new Date();\n\n\tuseEffect(() => {\n\t\tsetTimeout(() => {\n\t\t\tsetFooterHeight(ref.current.offsetHeight);\n\t\t}, 80);\n\t}, [setFooterHeight]);\n\n\treturn (\n\t\t<div className='footer-container' ref={ref}>\n\t\t\t<section className='social-media'>\n\t\t\t\t<div className='social-media-wrap'>\n\t\t\t\t\t<div className='social-media-wrap-section'>\n\t\t\t\t\t\t<big className='website-rights'>\n\t\t\t\t\t\t\tDRONE TAHOE © {time.getFullYear()}\n\t\t\t\t\t\t</big>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='social-media-wrap-section'>\n\t\t\t\t\t\t<div className='footer-logo'>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto='/'\n\t\t\t\t\t\t\t\tonClick={() => window.scrollTo(0, 0)}\n\t\t\t\t\t\t\t\tclassName='social-logo'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<img src={NavLogo} className='footer-logo' alt='' />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='social-media-wrap-section'>\n\t\t\t\t\t\t<div className='social-icon'>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tclassName='social-icon-link facebook'\n\t\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\t\tpathname:\n\t\t\t\t\t\t\t\t\t\t'https://www.facebook.com/profile.php?id=100054789366613',\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\taria-label='Facebook'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className='fab fa-facebook-f' />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tclassName='social-icon-link instagram'\n\t\t\t\t\t\t\t\tto={{ pathname: 'https://www.instagram.com/dronetahoe/' }}\n\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\taria-label='Instagram'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className='fab fa-instagram' />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tclassName='social-icon-link youtube'\n\t\t\t\t\t\t\t\tto={{ pathname: 'https://vimeo.com/user153997361' }}\n\t\t\t\t\t\t\t\t//to={{ pathname: 'https://www.youtube.com/user/laketahoeG' }}\n\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t//aria-label='Youtube'\n\t\t\t\t\t\t\t\taria-label='Vimeo'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className='fab fa-vimeo-v'></i>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tclassName='social-icon-link twitter'\n\t\t\t\t\t\t\t\tto={{ pathname: 'https://twitter.com/Drone_Tahoe' }}\n\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\taria-label='Twitter'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className='fab fa-twitter' />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t{/* <Link\n              className='social-icon-link twitter'\n              to='/'\n              target='_blank'\n              aria-label='LinkedIn'\n            >\n              <i className='fab fa-linkedin' />\n            </Link> */}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t</div>\n\t);\n}\n\nexport default connect(null, { setFooterHeight })(Footer);\n","export default __webpack_public_path__ + \"static/media/drone-tahoe-video.d4cc4c38.mp4\";","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport './HeroSection.scss';\n\n//import Logo from '../../img/logoDRONE-dark-cropped-final.png';\nimport HeroVideo from '../../img/glenn/drone-tahoe-video.mp4';\n//import HeroVideo from '../../img/glenn/landing-video.m4v';\n\nconst HeroSection = ({\n\tclearReservations,\n\tclearJobs,\n\tauth: { loggedUser },\n}) => {\n\treturn (\n\t\t<div className='hero-container'>\n\t\t\t<video\n\t\t\t\tclassName='hero-container-video'\n\t\t\t\tsrc={HeroVideo}\n\t\t\t\tautoPlay\n\t\t\t\tloop\n\t\t\t\tmuted\n\t\t\t\tplaysInline\n\t\t\t/>\n\t\t\t<div className='hero-container-image'></div>\n\t\t\t{/* <div className='hero-box'>\n\t\t\t\t<div className='hero-container-logo'>\n\t\t\t\t\t<img src={Logo} alt='' className='hero-container-logo-img' />\n\t\t\t\t</div>\n\t\t\t\t<p className='hero-subheading'>\n\t\t\t\t\tDrone Mapping, Inspection, and Walkthrough Services in North Lake\n\t\t\t\t\tTahoe\n\t\t\t\t</p>\n\t\t\t\t<div className='hero-button'>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={\n\t\t\t\t\t\t\t!loggedUser || (loggedUser && loggedUser.type !== 'admin')\n\t\t\t\t\t\t\t\t? '/reservation/0'\n\t\t\t\t\t\t\t\t: '/reservations-list'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tclearReservations();\n\t\t\t\t\t\t\tclearJobs();\n\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName='btn btn-primary'\n\t\t\t\t\t>\n\t\t\t\t\t\t{!loggedUser || (loggedUser && loggedUser.type !== 'admin')\n\t\t\t\t\t\t\t? 'Schedule Now'\n\t\t\t\t\t\t\t: 'Reservations'}\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</div> */}\n\t\t\t<div className='hero-bottom'>\n\t\t\t\t360 Virtual Walkthrough brings drone data + 360 videos and photos into\n\t\t\t\tone solution -{' '}\n\t\t\t\t<span>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto='/vrm'\n\t\t\t\t\t\tonClick={() => window.scrollTo(0, 0)}\n\t\t\t\t\t\tclassName='btn-link'\n\t\t\t\t\t>\n\t\t\t\t\t\tLearn More\n\t\t\t\t\t</Link>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = (state) => ({\n\tauth: state.auth,\n});\n\nexport default connect(mapStateToProps)(HeroSection);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport './About.scss';\n\nconst About = ({ clearReservations, clearJobs, auth: { loggedUser } }) => {\n\treturn (\n\t\t<section className='about' id='about'>\n\t\t\t<div className='about-text'>\n\t\t\t\t<h2 className='heading-secondary-gradient'>\n\t\t\t\t\tWE’RE DREAMERS, BELIEVERS, &#38; ACHIEVERS\n\t\t\t\t</h2>\n\t\t\t\t<p className='about-text-description'>\n\t\t\t\t\tOur dream of engineering, building and flying sUAS drones equipped w/\n\t\t\t\t\tFirst Person View (FPV) began in 1976. DRONE TAHOE now has over 50\n\t\t\t\t\tcombined years of career military & commercial aviation experience.\n\t\t\t\t</p>\n\t\t\t\t<p className='about-text-description'>Dreams do come true!</p>\n\n\t\t\t\t<div className='about-text-description'>\n\t\t\t\t\t<p>Credentials include:</p>\n\t\t\t\t\t<ul className='about-credentials'>\n\t\t\t\t\t\t<li className='about-credentials-item'>\n\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\tFAA sUAS Pilot Certification{' '}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='about-credentials-item'>\n\t\t\t\t\t\t\tNTSB Aviation Accident Investigation Certification\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className='about-text-link'>\n\t\t\t\t<Link\n\t\t\t\t\tto={\n\t\t\t\t\t\t!loggedUser || (loggedUser && loggedUser.type !== 'admin')\n\t\t\t\t\t\t\t? '/reservation/0'\n\t\t\t\t\t\t\t: '/reservations-list'\n\t\t\t\t\t}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tclearReservations();\n\t\t\t\t\t\tclearJobs();\n\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t}}\n\t\t\t\t\tclassName='btn'\n\t\t\t\t>\n\t\t\t\t\t{!loggedUser || (loggedUser && loggedUser.type !== 'admin')\n\t\t\t\t\t\t? 'Schedule Your Project Today'\n\t\t\t\t\t\t: 'Reservations'}\n\t\t\t\t</Link>\n\t\t\t</div>\n\n\t\t\t<div className='about-image'></div>\n\t\t</section>\n\t);\n};\n\nconst mapStateToProps = (state) => ({\n\tauth: state.auth,\n});\n\nexport default connect(mapStateToProps)(About);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport { clearReservations } from '../../../actions/reservation';\nimport { clearJobs } from '../../../actions/jobs';\n\nconst Services = ({\n\timage,\n\ttitle,\n\tdetails,\n\tjob,\n\tclearReservations,\n\tclearJobs,\n}) => {\n\treturn (\n\t\t<div className='services-section-item'>\n\t\t\t<img src={image} className='services-section-item-image' alt='' />\n\n\t\t\t<div className='services-section-item-text'>\n\t\t\t\t<h3 className='services-section-item-heading'>{title}</h3>\n\t\t\t\t<div className='services-section-item-sub'>\n\t\t\t\t\t<h5 className='services-section-item-sub-details'>{details}</h5>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={`/reservation/${job}`}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tclearReservations();\n\t\t\t\t\t\t\tclearJobs();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName='btn btn-tertiary'\n\t\t\t\t\t>\n\t\t\t\t\t\tBook Now\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default connect(null, { clearReservations, clearJobs })(Services);\n","export default __webpack_public_path__ + \"static/media/construction.664e6551.jpg\";","export default __webpack_public_path__ + \"static/media/inspection.843d2f0f.jpg\";","export default __webpack_public_path__ + \"static/media/elevation-map.17e190b0.jpg\";","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport ServicesItem from './ServicesItem';\nimport './ServicesSection.scss';\n\nimport Construction from '../../img/small/services/construction.jpg';\nimport Inspection from '../../img/small/services/inspection.jpg';\nimport Roofing from '../../img/small/services/elevation-map.jpg';\n\n// import FAA from \"../../img/faa-cropped.png\";\n// import Insurance from \"../../img/insurance-cropped.png\";\n\nconst ServicesSection = () => {\n\treturn (\n\t\t<div className='services-section' id='services'>\n\t\t\t<Link\n\t\t\t\tto='/servicesfull'\n\t\t\t\tonClick={() => window.scrollTo(0, 0)}\n\t\t\t\tclassName='services-heading-link'\n\t\t\t>\n\t\t\t\t<h2 className='services-heading'>Services</h2>\n\t\t\t</Link>\n\t\t\t<div className='services-section-items'>\n\t\t\t\t<ServicesItem\n\t\t\t\t\timage={Construction}\n\t\t\t\t\ttitle='Construction'\n\t\t\t\t\tdetails='Create accurate, high-resolution digital replicas with 3D models, real-time 2D maps, and 360 virtual tours for any construction site.'\n\t\t\t\t\tjob='3'\n\t\t\t\t/>\n\t\t\t\t<ServicesItem\n\t\t\t\t\timage={Inspection}\n\t\t\t\t\ttitle='Inspection'\n\t\t\t\t\tdetails='Commercial, Residential, Architecture, Legal, Resort, Tall Structures, Towers, Live View! (UHD)'\n\t\t\t\t\tjob='4'\n\t\t\t\t/>\n\t\t\t\t<ServicesItem\n\t\t\t\t\timage={Roofing}\n\t\t\t\t\ttitle='Mapping'\n\t\t\t\t\tdetails='Mapping of any size parcel. Accurate to 1”.'\n\t\t\t\t\tjob='1'\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<Link\n\t\t\t\t\tto='/servicesfull'\n\t\t\t\t\tonClick={() => window.scrollTo(0, 0)}\n\t\t\t\t\tclassName='btn'\n\t\t\t\t>\n\t\t\t\t\tSee All Services\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default ServicesSection;\n","export default __webpack_public_path__ + \"static/media/bruin.c3c4b2f1.jpg\";","export default __webpack_public_path__ + \"static/media/brassfield.d8a6f31e.jpg\";","export default __webpack_public_path__ + \"static/media/corteva.e0f1eadd.jpg\";","export default __webpack_public_path__ + \"static/media/mccarthy.abf978dd.jpg\";","export default __webpack_public_path__ + \"static/media/tahoenalu.140d5b2b.jpg\";","export default __webpack_public_path__ + \"static/media/tahoegal.1decac46.jpg\";","export default __webpack_public_path__ + \"static/media/tahoeyachtclub.81f2640c.jpg\";","export default __webpack_public_path__ + \"static/media/tgma.ad01854b.jpg\";","export default __webpack_public_path__ + \"static/media/eaa.ead83013.jpg\";","export default __webpack_public_path__ + \"static/media/greybluerealty.58255b7d.jpg\";","import React from 'react';\n\nimport './Testimonials.scss';\n\nimport Bruin from '../../img/glenn/partners/small/bruin.jpg';\nimport Brassfield from '../../img/glenn/partners/small/brassfield.jpg';\nimport Corteva from '../../img/glenn/partners/small/corteva.jpg';\nimport Mccarthy from '../../img/glenn/partners/small/mccarthy.jpg';\nimport TahoeNalu from '../../img/glenn/partners/tahoenalu.jpg';\nimport TahoeGal from '../../img/glenn/partners/tahoegal.jpg';\nimport TahoeYachtClub from '../../img/glenn/partners/tahoeyachtclub.jpg';\nimport TGMA from '../../img/glenn/partners/tgma.jpg';\nimport EAA from '../../img/glenn/partners/eaa.jpg';\nimport GreyBlue from '../../img/glenn/partners/greybluerealty.jpg';\n\nconst Testimonials = () => {\n\treturn (\n\t\t<div className='testimonials'>\n\t\t\t<div className='testimonials-clients'>\n\t\t\t\t<h2 className='testimonials-clients-heading'>Clients</h2>\n\t\t\t\t<p className='testimonials-clients-subheading'>\n\t\t\t\t\tWe have recently worked with the following satisfied clients:\n\t\t\t\t</p>\n\t\t\t\t<div className='testimonials-clients-group'>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={TahoeNalu}\n\t\t\t\t\t\talt='Tahoe Nalu'\n\t\t\t\t\t\tclassName='testimonials-clients-group-item gray'\n\t\t\t\t\t/>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={Brassfield}\n\t\t\t\t\t\talt='Brass Field'\n\t\t\t\t\t\tclassName='testimonials-clients-group-item'\n\t\t\t\t\t/>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={TahoeYachtClub}\n\t\t\t\t\t\talt='Tahoe Yacth Club'\n\t\t\t\t\t\tclassName='testimonials-clients-group-item gray'\n\t\t\t\t\t/>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={Mccarthy}\n\t\t\t\t\t\talt='Mccarthy'\n\t\t\t\t\t\tclassName='testimonials-clients-group-item'\n\t\t\t\t\t/>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={TahoeGal}\n\t\t\t\t\t\talt='Tahoe Gal'\n\t\t\t\t\t\tclassName='testimonials-clients-group-item gray'\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{/* <div className=\"testimonials-clients-group\"> */}\n\t\t\t\t{/* <img\n            src={DorrisEaton}\n            alt=\"\"\n            className=\"testimonials-clients-group-item gray\"\n          /> */}\n\t\t\t\t{/* </div> */}\n\t\t\t\t<div className='testimonials-clients-group'>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={EAA}\n\t\t\t\t\t\talt='EAA'\n\t\t\t\t\t\tclassName='testimonials-clients-group-item gray'\n\t\t\t\t\t/>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={GreyBlue}\n\t\t\t\t\t\talt='Grey Blue'\n\t\t\t\t\t\tclassName='testimonials-clients-group-item gray'\n\t\t\t\t\t/>\n\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={Corteva}\n\t\t\t\t\t\talt='Corteva'\n\t\t\t\t\t\tclassName='testimonials-clients-group-item'\n\t\t\t\t\t/>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={TGMA}\n\t\t\t\t\t\talt='TGMA'\n\t\t\t\t\t\tclassName='testimonials-clients-group-item gray'\n\t\t\t\t\t/>\n\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={Bruin}\n\t\t\t\t\t\talt='Bruin'\n\t\t\t\t\t\tclassName='testimonials-clients-group-item smaller'\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{/* <div>\n        <Link to=\"/clients\" className=\"testimonials-button\">\n          See All Clients\n        </Link>\n      </div> */}\n\n\t\t\t{/* <hr className=\"testimonials-line\" />\n      <p className=\"testimonials-text\">\n        \"Drone Tahoe did an amazing job with my project! Consectetur adipisicing\n        elit. Animi in quod recusandae obcaecati nihil at eaque! Velit ipsum\n        unde id ex cupiditate eligendi? At eaque unde, reprehenderit voluptates\n        ad quaerat veritatis temporibus quis, sed et magni excepturi nobis\n        repellendus perspiciatis officia ex animi accusantium ipsum rem maxime.\n        Possimus, saepe, minus doloribus deserunt repellat modi nobis rem nemo\n        cum minima temporibus!\"\n      </p>\n      <p className=\"testimonials-author\">-Joe Miller, BMI Construction</p>\n      <hr className=\"testimonials-line\" /> */}\n\t\t</div>\n\t);\n};\n\nexport default Testimonials;\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './Alert.scss';\r\n\r\nconst Alert = ({ alerts, type, classType }) =>\r\n\talerts !== null &&\r\n\talerts.map((alert) => (\r\n\t\t<React.Fragment key={alert.id}>\r\n\t\t\t{alert.type === type && (\r\n\t\t\t\t<div className={`alert alert-${alert.alertType} ${classType}`}>\r\n\t\t\t\t\t{alert.msg}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</React.Fragment>\r\n\t));\r\n\r\nAlert.propTypes = {\r\n\talerts: PropTypes.array.isRequired,\r\n\ttype: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\talerts: state.alert,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Alert);\r\n","export default __webpack_public_path__ + \"static/media/spinner.e2ffacc9.gif\";","import React, {Fragment} from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport spinner from '../../../img/spinner.gif';\r\n\r\nconst Loading = ({ global: { loadingSpinner } }) => {\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{loadingSpinner && (\r\n\t\t\t\t<div className='blurr-bg' style={{ zIndex: 1000 }}>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={spinner}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\twidth: '300px',\r\n\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\tmargin: '0 auto',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\talt=''\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tglobal: state.global,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Loading);\r\n","import React, { useState, Fragment, useRef } from 'react';\nimport { connect } from 'react-redux';\n\nimport { sendEmail } from '../../../actions/auth';\n\nimport Alert from '../../layouts/Alert';\nimport Loading from '../../layouts/Loading';\n\nimport './Booking.scss';\n\nconst Booking = ({ sendEmail, auth: { loggedUser } }) => {\n\tconst initialValues = {\n\t\tname: '',\n\t\tlastname: '',\n\t\tphone: '',\n\t\temail: '',\n\t\tcompany: '',\n\t\texperience: '',\n\t\tmessage: '',\n\t};\n\tconst container = useRef();\n\n\tconst [formData, setFormData] = useState(initialValues);\n\n\tconst { name, lastname, phone, email, company, experience, message } =\n\t\tformData;\n\n\tconst onChange = (e) => {\n\t\te.persist();\n\t\tif (e.target)\n\t\t\tsetFormData((prev) => ({ ...prev, [e.target.id]: e.target.value }));\n\t};\n\n\tconst onSubmit = async (e) => {\n\t\te.preventDefault();\n\t\tconst answer = await sendEmail(\n\t\t\t{\n\t\t\t\t...formData,\n\t\t\t\t...(loggedUser && {\n\t\t\t\t\tname: loggedUser.name,\n\t\t\t\t\tlastname: loggedUser.lastname,\n\t\t\t\t\tphone: loggedUser.cel,\n\t\t\t\t\temail: loggedUser.email,\n\t\t\t\t}),\n\t\t\t},\n\t\t\tfalse,\n\t\t\ttrue\n\t\t);\n\n\t\tif (answer) setFormData(initialValues);\n\n\t\tconst item = container.current.getBoundingClientRect();\n\t\tconst scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n\t\twindow.scrollTo(0, item.top + scrollTop);\n\t};\n\n\treturn (\n\t\t<div className='booking' id='booking'>\n\t\t\t<Loading />\n\t\t\t<section className='section-book' id='section-booking'>\n\t\t\t\t<div className='row'>\n\t\t\t\t\t<div className='book'>\n\t\t\t\t\t\t<div className='book__form' ref={container}>\n\t\t\t\t\t\t\t<form onSubmit={onSubmit} className='form' id='form'>\n\t\t\t\t\t\t\t\t<div className='u-margin-bottom-6 booking-title'>\n\t\t\t\t\t\t\t\t\t<h2 className='booking-title-heading'>Contact Us</h2>\n\t\t\t\t\t\t\t\t\t<h3 className='booking-title-subheading'>\n\t\t\t\t\t\t\t\t\t\tLet us know a little bit about your project and we'll take\n\t\t\t\t\t\t\t\t\t\tit from there.\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Alert type='1' />\n\t\t\t\t\t\t\t\t{!loggedUser && (\n\t\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t\t<div className='form__group'>\n\t\t\t\t\t\t\t\t\t\t\t<div className='form__group-sub'>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='form__group-sub-item'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='First Name'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid='name'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label htmlFor='name' className='form__label'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tFirst Name\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='form__group-sub-item'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={lastname}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Last Name'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid='lastname'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label htmlFor='lastname' className='form__label'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tLast Name\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className='form__group'>\n\t\t\t\t\t\t\t\t\t\t\t<div className='form__group-sub'>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='form__group-sub-item'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={phone}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Phone'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid='phone'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label htmlFor='phone' className='form__label'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tPhone\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='form__group-sub-item'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Email Address'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid='email'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label htmlFor='email' className='form__label'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tEmail Address\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t<div className='form__group'>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\tclassName='form__input'\n\t\t\t\t\t\t\t\t\t\tvalue={company}\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\tplaceholder='Company Name'\n\t\t\t\t\t\t\t\t\t\tid='company'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<label htmlFor='company' className='form__label'>\n\t\t\t\t\t\t\t\t\t\tCompany Name\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div style={{ width: '100%' }}>\n\t\t\t\t\t\t\t\t\t<label htmlFor='experience' className='form__label'>\n\t\t\t\t\t\t\t\t\t\tWhat's Your Experience With Drones?\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\tid='experience'\n\t\t\t\t\t\t\t\t\t\tclassName={`form__input space ${\n\t\t\t\t\t\t\t\t\t\t\texperience === '' ? 'empty' : ''\n\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\tvalue={experience}\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value=''>* Select your Experience</option>\n\t\t\t\t\t\t\t\t\t\t<option value='Own Drones'>Own Drones</option>\n\t\t\t\t\t\t\t\t\t\t<option value='Use Third Party Drone Services'>\n\t\t\t\t\t\t\t\t\t\t\tUse Third Party Drone Services\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t<option value='Interested in Using Drones'>\n\t\t\t\t\t\t\t\t\t\t\tInterested in Using Drones\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t<option value='Not Interested in Using Drones'>\n\t\t\t\t\t\t\t\t\t\t\tNot Interested in Using Drones\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='form__group'>\n\t\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\tvalue={message}\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\tclassName='form__input'\n\t\t\t\t\t\t\t\t\t\tplaceholder='Tell us About Your Project'\n\t\t\t\t\t\t\t\t\t\tid='message'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<label htmlFor='message' className='form__label'>\n\t\t\t\t\t\t\t\t\t\tTell us About Your Project\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className='form__group'>\n\t\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-secondary'>\n\t\t\t\t\t\t\t\t\t\tSubmit &rarr;\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t\t{/* <div id='confirmation'>\n\t\t\t\t<div id='status'>Thanks! Your message has been submitted.</div>\n\t\t\t\t<div id='error'>\n\t\t\t\t\tSorry! There was a problem with your message. Please try again.\n\t\t\t\t</div>\n\t\t\t</div>{' '}\n\t\t\t*/}\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = (state) => ({\n\tauth: state.auth,\n});\n\nexport default connect(mapStateToProps, { sendEmail })(Booking);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport HeroSection from '../../HeroSection';\nimport About from '../../About';\nimport ServicesSection from '../../Services';\nimport Testimonials from '../../Testimonials';\nimport Booking from '../Booking';\n\nimport { clearReservations } from '../../../actions/reservation';\nimport { clearJobs } from '../../../actions/jobs';\n\nconst Home = ({ clearReservations, clearJobs, auth: { loggedUser } }) => {\n\treturn (\n\t\t<div>\n\t\t\t<HeroSection\n\t\t\t\tclearJobs={clearJobs}\n\t\t\t\tclearReservations={clearReservations}\n\t\t\t/>\n\t\t\t<ServicesSection />\n\t\t\t<About clearJobs={clearJobs} clearReservations={clearReservations} />\n\t\t\t<Testimonials />\n\t\t\t{(!loggedUser || (loggedUser && loggedUser.type !== 'admin')) && (\n\t\t\t\t<Booking />\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = (state) => ({\n\tauth: state.auth,\n});\n\nexport default connect(mapStateToProps, { clearJobs, clearReservations })(Home);\n","import React from 'react';\nimport './Contact.scss';\n\nimport Booking from '../Booking';\n\nexport default function Contact() {\n\tReact.useEffect(() => {\n\t\twindow.scrollTo(0, 0);\n\t});\n\n\treturn (\n\t\t<div>\n\t\t\t<div className='contact'>\n\t\t\t\t<h1 className='contact-heading'>Get in Touch with Us.</h1>\n\t\t\t\t<h3 className='contact-subheading'>\n\t\t\t\t\tDo not hesitate to reach out with any questions. We'll be in touch.\n\t\t\t\t</h3>\n\t\t\t</div>\n\t\t\t<Booking />\n\t\t</div>\n\t);\n}\n","import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport { loadJobs } from '../../../actions/jobs';\n//import { servicesAll } from './data';\n\nimport Loading from '../../layouts/Loading';\n\nimport './ServicesFull.scss';\n\nconst ServicesFull = ({ loadJobs, job: { jobs, loading } }) => {\n\tuseEffect(() => {\n\t\tif (loading) loadJobs({});\n\t}, [loading, loadJobs]);\n\n\treturn (\n\t\t<div className='servicesfull' id='servicesfull'>\n\t\t\t<h2 className='heading-primary'>Our Services</h2>\n\t\t\t<Loading />\n\t\t\t<div className='card-services'>\n\t\t\t\t{!loading &&\n\t\t\t\t\tjobs.map((item, i) => (\n\t\t\t\t\t\t<div className='card' key={i}>\n\t\t\t\t\t\t\t<div className='card-inner'>\n\t\t\t\t\t\t\t\t<div className={`card-front card-front-${i + 1}`}>\n\t\t\t\t\t\t\t\t\t<h4 className={`card-heading card-heading-${i + 1}`}>\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tclassName={`card-heading-span card-heading-span-${i + 1}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{item.title}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={`card-back card-back-${i + 1}`}>\n\t\t\t\t\t\t\t\t\t<div className='card-cta'>\n\t\t\t\t\t\t\t\t\t\t<div className='card-price-box'>\n\t\t\t\t\t\t\t\t\t\t\t<p className='card-price-only'>{item.subtitle}</p>\n\t\t\t\t\t\t\t\t\t\t\t<p className='card-price-value'>{item.poptext}</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className='popup-button'>\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tto='/booking'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => window.scrollTo(0, 0)}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-quaternary'\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tContact Us\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = (state) => ({\n\tjob: state.job,\n});\n\nexport default connect(mapStateToProps, { loadJobs })(ServicesFull);\n","export default __webpack_public_path__ + \"static/media/global.fc9ea976.png\";","export default __webpack_public_path__ + \"static/media/progress.9a7ba162.png\";","export default __webpack_public_path__ + \"static/media/safety.c8723814.png\";","import React from 'react';\nimport './VRM.scss';\n\nimport Booking from '../Booking';\n\nimport img1 from '../../../img/glenn/Icons/global.png';\nimport img2 from '../../../img/glenn/Icons/progress.png';\nimport img3 from '../../../img/glenn/Icons/safety.png';\nimport Bruin from '../../../img/glenn/partners/small/bruin.jpg';\nimport Brassfield from '../../../img/glenn/partners/small/brassfield.jpg';\nimport Corteva from '../../../img/glenn/partners/small/corteva.jpg';\nimport Mccarthy from '../../../img/glenn/partners/small/mccarthy.jpg';\n\nconst VRM = () => {\n\treturn (\n\t\t<div>\n\t\t\t<div className='vrm-header' id='vrm'>\n\t\t\t\t<div className='vrm-header-section'>\n\t\t\t\t\t<h1 className='vrm-header-text'>\n\t\t\t\t\t\tVirtual Reality Management with 360 Virtual Walkthrough\n\t\t\t\t\t</h1>\n\t\t\t\t\t<h2 className='vrm-header-subtext'>\n\t\t\t\t\t\tUnlimited perspectives in one solution.\n\t\t\t\t\t</h2>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<section className='vrm-benefits'>\n\t\t\t\t<div className='vrm-benefits-item'>\n\t\t\t\t\t<img src={img2} className='vrm-benefits-item-image' alt='global' />\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className='vrm-benefits-item-heading'>\n\t\t\t\t\t\t\tComplete Site Documentation\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<h5 className='vrm-benefits-item-text'>\n\t\t\t\t\t\t\tDroneTahoe digitizes your entire site with drones and 360 cameras.\n\t\t\t\t\t\t</h5>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='vrm-benefits-item'>\n\t\t\t\t\t<img src={img1} className='vrm-benefits-item-image' alt='progress' />\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className='vrm-benefits-item-heading'>\n\t\t\t\t\t\t\tOne Solution for Entire Site Reality\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<h5 className='vrm-benefits-item-text'>\n\t\t\t\t\t\t\tAnalyze drone and 360 data on one mobile platform.\n\t\t\t\t\t\t</h5>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='vrm-benefits-item'>\n\t\t\t\t\t<img src={img3} className='vrm-benefits-item-image' alt='maps' />\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className='vrm-benefits-item-heading'>\n\t\t\t\t\t\t\tIncrease Safety, Decrease Rework\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<h5 className='vrm-benefits-item-text'>\n\t\t\t\t\t\t\tCatch issues earlier than ever with visual data.\n\t\t\t\t\t\t</h5>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t\t<section className='vrm-description'>\n\t\t\t\t<div className='vrm-description-img img1'></div>\n\n\t\t\t\t<p className='vrm-description-text'>\n\t\t\t\t\tDroneTahoe takes interior, exterior and aerial imagery of your job\n\t\t\t\t\tsite and digitizes it into Virtual Reality. Once digitized, your\n\t\t\t\t\tentire team can inspect, validate, and comprehend site progress – no\n\t\t\t\t\tmatter where they are in the world - with a 360° perspective.\n\t\t\t\t</p>\n\t\t\t\t<div className='vrm-group'>\n\t\t\t\t\t<img src={Bruin} alt='' className='vrm-group-item' />\n\t\t\t\t\t<img src={Brassfield} alt='' className='vrm-group-item' />\n\t\t\t\t\t<img src={Corteva} alt='' className='vrm-group-item' />\n\t\t\t\t\t<img src={Mccarthy} alt='' className='vrm-group-item' />\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t\t<Booking />\n\t\t</div>\n\t);\n};\n\nexport default VRM;\n","import React from 'react';\n\nimport './Portfolio.scss';\n\nconst Portfolio = () => {\n\treturn (\n\t\t<div className='portfolio'>\n\t\t\t<h1 className='heading-primary'>Portfolio</h1>\n\t\t\t<h2 className='heading-primary-subheading'>\n\t\t\t\tA few examples of our recent work:\n\t\t\t</h2>\n\t\t\t<div className='portfolio-group'>\n\t\t\t\t<div className='portfolio-group-item'>\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tclassName='portfolio-item'\n\t\t\t\t\t\tsrc='https://player.vimeo.com/video/630298172?h=481cc9d119&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479'\n\t\t\t\t\t\tframeborder='0'\n\t\t\t\t\t\tallow='autoplay; fullscreen; picture-in-picture'\n\t\t\t\t\t\tallowfullscreen\n\t\t\t\t\t\ttitle='Phoenix Rising'\n\t\t\t\t\t></iframe>\n\t\t\t\t\t<h2 className='portfolio-item-caption'>Phoenix Rising</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className='portfolio-group-item'>\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tclassName='portfolio-item'\n\t\t\t\t\t\tsrc='https://player.vimeo.com/video/631210506?h=b5af32c692&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479'\n\t\t\t\t\t\ttitle='Vimeo video player'\n\t\t\t\t\t\tframeBorder='0'\n\t\t\t\t\t\tallow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen'\n\t\t\t\t\t\tallowFullScreen\n\t\t\t\t\t></iframe>\n\t\t\t\t\t<h2 className='portfolio-item-caption'>Martis House Layout</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className='portfolio-group-item'>\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tclassName='portfolio-item'\n\t\t\t\t\t\tsrc='https://player.vimeo.com/video/643232672?h=ceaec90017&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479'\n\t\t\t\t\t\ttitle='Vimeo video player'\n\t\t\t\t\t\tframeBorder='0'\n\t\t\t\t\t\tallow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen'\n\t\t\t\t\t\tallowFullScreen\n\t\t\t\t\t></iframe>\n\t\t\t\t\t<h2 className='portfolio-item-caption'>Fannette Island 3D Model</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className='portfolio-group-item'>\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tclassName='portfolio-item'\n\t\t\t\t\t\tsrc='https://player.vimeo.com/video/643238467?h=a248a1f339&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479'\n\t\t\t\t\t\ttitle='Vimeo video player'\n\t\t\t\t\t\tframeBorder='0'\n\t\t\t\t\t\tallow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen'\n\t\t\t\t\t\tallowFullScreen\n\t\t\t\t\t></iframe>\n\t\t\t\t\t<h2 className='portfolio-item-caption'>\n\t\t\t\t\t\tEmerald Bay Teahouse Fantasy Full Moon\n\t\t\t\t\t</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className='portfolio-group-item'>\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tclassName='portfolio-item'\n\t\t\t\t\t\tsrc='https://player.vimeo.com/video/631124253?h=8cccc7bfec&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479'\n\t\t\t\t\t\ttitle='Vimeo video player'\n\t\t\t\t\t\tframeBorder='0'\n\t\t\t\t\t\tallow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen'\n\t\t\t\t\t\tallowFullScreen\n\t\t\t\t\t></iframe>\n\t\t\t\t\t<h2 className='portfolio-item-caption'>\n\t\t\t\t\t\tPhoenix Rising Roof Barcode\n\t\t\t\t\t</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className='portfolio-group-item'>\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tclassName='portfolio-item'\n\t\t\t\t\t\tsrc='https://player.vimeo.com/video/643418675?h=544a013c78&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479'\n\t\t\t\t\t\ttitle='Vimeo video player'\n\t\t\t\t\t\tframeBorder='0'\n\t\t\t\t\t\tallow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen'\n\t\t\t\t\t\tallowFullScreen\n\t\t\t\t\t></iframe>\n\t\t\t\t\t<h2 className='portfolio-item-caption'>Emerald Bay & Granite Lake</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className='portfolio-group-item'>\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tclassName='portfolio-item'\n\t\t\t\t\t\tsrc='https://player.vimeo.com/video/643385157?h=ae7d4a6f15&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479'\n\t\t\t\t\t\ttitle='Vimeo video player'\n\t\t\t\t\t\tframeBorder='0'\n\t\t\t\t\t\tallow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen'\n\t\t\t\t\t\tallowFullScreen\n\t\t\t\t\t></iframe>\n\t\t\t\t\t<h2 className='portfolio-item-caption'>Eagle Falls 2021</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className='portfolio-group-item'>\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tclassName='portfolio-item'\n\t\t\t\t\t\tsrc='https://player.vimeo.com/video/643244364?h=ebcd7c5215&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479'\n\t\t\t\t\t\ttitle='Vimeo video player'\n\t\t\t\t\t\tframeBorder='0'\n\t\t\t\t\t\tallow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen'\n\t\t\t\t\t\tallowFullScreen\n\t\t\t\t\t></iframe>\n\t\t\t\t\t<h2 className='portfolio-item-caption'>Lake Azure</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className='portfolio-group-item'>\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tclassName='portfolio-item'\n\t\t\t\t\t\tsrc='https://player.vimeo.com/video/643279221?h=25bb357e5c&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479'\n\t\t\t\t\t\ttitle='Vimeo video player'\n\t\t\t\t\t\tframeBorder='0'\n\t\t\t\t\t\tallow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen'\n\t\t\t\t\t\tallowFullScreen\n\t\t\t\t\t></iframe>\n\t\t\t\t\t<h2 className='portfolio-item-caption'>\n\t\t\t\t\t\tSouth Yuba River Running #1\n\t\t\t\t\t</h2>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Portfolio;\n","import React, { useState, Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { GoogleLogin } from 'react-google-login';\r\nimport FacebookLogin from 'react-facebook-login';\r\n\r\nimport {\r\n\tfacebookLogin,\r\n\tgoogleLogin,\r\n\tloginUser,\r\n\tsendPasswordLink,\r\n\tclearEmailSent,\r\n} from '../../../actions/auth';\r\nimport { setAlert } from '../../../actions/alert';\r\nimport { updateLoadingSpinner } from '../../../actions/global';\r\n\r\nimport Alert from '../../layouts/Alert';\r\nimport Loading from '../../layouts/Loading';\r\n\r\nimport './Login.scss';\r\n\r\nconst Login = ({\r\n\tfacebookLogin,\r\n\tgoogleLogin,\r\n\tloginUser,\r\n\tsetAlert,\r\n\tsendPasswordLink,\r\n\tupdateLoadingSpinner,\r\n\tclearEmailSent,\r\n}) => {\r\n\tconst [formData, setFormData] = useState({\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t});\r\n\r\n\tconst { email, password } = formData;\r\n\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\tforgotPassword: false,\r\n\t});\r\n\r\n\tconst { forgotPassword } = adminValues;\r\n\r\n\tconst onChange = (e) => {\r\n\t\te.persist();\r\n\t\tsetFormData({\r\n\t\t\t...formData,\r\n\t\t\t[e.target.id]: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\tconst onSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tif (forgotPassword) sendPasswordLink(email);\r\n\t\telse {\r\n\t\t\tloginUser(formData);\r\n\t\t}\r\n\t};\r\n\r\n\tconst responseSuccessGoogle = (response) => {\r\n\t\tgoogleLogin({ tokenId: response.tokenId });\r\n\t};\r\n\r\n\tconst responseErrorGoogle = (err) => {\r\n\t\tconsole.log(err.error);\r\n\t\tupdateLoadingSpinner(false);\r\n\t\tsetAlert('Error login in', 'danger', '2');\r\n\t};\r\n\r\n\tconst responseFacebook = (response) => {\r\n\t\tfacebookLogin({\r\n\t\t\taccessToken: response.accessToken,\r\n\t\t\tuserID: response.userID,\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='section-login'>\r\n\t\t\t<Loading />\r\n\t\t\t<div className='login'>\r\n\t\t\t\t<div className='login-card'>\r\n\t\t\t\t\t<form onSubmit={onSubmit} className='form'>\r\n\t\t\t\t\t\t<h2 className='heading-primary'>\r\n\t\t\t\t\t\t\t{forgotPassword ? 'Change Password' : 'Login'}\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t{forgotPassword ? (\r\n\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t<div className='form-section'>\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Email'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='email' className='form__label'>\r\n\t\t\t\t\t\t\t\t\t\t\tEmail\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='u-center-text'>\r\n\t\t\t\t\t\t\t\t\t<div className='login-btn'>\r\n\t\t\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary'>\r\n\t\t\t\t\t\t\t\t\t\t\tSend Link\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<p className='login-card-sign'>\r\n\t\t\t\t\t\t\t\t\t\tAn email will be sent to the email address so you can change\r\n\t\t\t\t\t\t\t\t\t\tthe password.\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p className='login-card-sign'>\r\n\t\t\t\t\t\t\t\t\t\tPlease, check your spam folder before resendig the email.\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='btn-link'\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\tforgotPassword: false,\r\n\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tGo Back\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t<div className='form-section'>\r\n\t\t\t\t\t\t\t\t\t<Alert type='1' />\r\n\t\t\t\t\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Email'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='email' className='form__label'>\r\n\t\t\t\t\t\t\t\t\t\t\tEmail\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\t\t\t\t\tid='password'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='password' className='form__label'>\r\n\t\t\t\t\t\t\t\t\t\t\tPassword\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='u-center-text'>\r\n\t\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary'>\r\n\t\t\t\t\t\t\t\t\t\tSign In\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t<p className='login-card-sign'>\r\n\t\t\t\t\t\t\t\t\t\tDon't have an account? &nbsp;\r\n\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn-link'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t\t\t\t\t\t\t\t\t\tclearEmailSent();\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tto='/signup'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tSign up\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p className='login-card-sign'>\r\n\t\t\t\t\t\t\t\t\t\tForgot password? &nbsp;\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn-link'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tforgotPassword: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tChange Password\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<div className='login-card-smedia'>\r\n\t\t\t\t\t\t\t\t\t\t<GoogleLogin\r\n\t\t\t\t\t\t\t\t\t\t\tclientId={process.env.REACT_APP_GOOGLE_KEY}\r\n\t\t\t\t\t\t\t\t\t\t\tbuttonText='Login'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn-google'\r\n\t\t\t\t\t\t\t\t\t\t\tonRequest={() => updateLoadingSpinner(true)}\r\n\t\t\t\t\t\t\t\t\t\t\tonSuccess={responseSuccessGoogle}\r\n\t\t\t\t\t\t\t\t\t\t\tonFailure={responseErrorGoogle}\r\n\t\t\t\t\t\t\t\t\t\t\tcookiePolicy={'single_host_origin'}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<span className='btn-facebook'>\r\n\t\t\t\t\t\t\t\t\t\t\t<FacebookLogin\r\n\t\t\t\t\t\t\t\t\t\t\t\tisMobile={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => updateLoadingSpinner(true)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tappId={process.env.REACT_APP_FACEBOOK_KEY}\r\n\t\t\t\t\t\t\t\t\t\t\t\tautoLoad={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttextButton={<i className='fab fa-facebook-f'></i>}\r\n\t\t\t\t\t\t\t\t\t\t\t\tcallback={responseFacebook}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<div className='login-img img'></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tfacebookLogin,\r\n\tgoogleLogin,\r\n\tloginUser,\r\n\tsetAlert,\r\n\tsendPasswordLink,\r\n\tupdateLoadingSpinner,\r\n\tclearEmailSent,\r\n})(Login);\r\n","import React, { Fragment } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Loading from '../../layouts/Loading';\r\n\r\nconst PrivateRoutes = ({\r\n\tcomponent: Component,\r\n\tauth: { loggedUser, loading, token },\r\n\ttypes,\r\n\tpath,\r\n}) => {\r\n\tif (!loading && token) {\r\n\t\tif (types.length === 0 || types.some((item) => item === loggedUser.type)) {\r\n\t\t\treturn (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<Loading />\r\n\t\t\t\t\t<Route exact path={path} component={Component} />\r\n\t\t\t\t</Fragment>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn <Redirect to='/' />;\r\n\t\t}\r\n\t} else {\r\n\t\tif (token === null) {\r\n\t\t\treturn <Redirect to='/login' />;\r\n\t\t} else {\r\n\t\t\treturn <Loading />;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoutes);\r\n","import React, {Fragment} from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Loading from '../../layouts/Loading';\r\n\r\nconst PublicRoutes = ({\r\n\tcomponent: Component,\r\n\tauth: { isAuthenticated, userLogged },\r\n\tpath,\r\n}) => {\r\n\tif (isAuthenticated) {\r\n\t\treturn (\r\n\t\t\t<Redirect\r\n\t\t\t\tto={\r\n\t\t\t\t\tuserLogged && userLogged.type === 'customer'\r\n\t\t\t\t\t\t? '/'\r\n\t\t\t\t\t\t: '/reservations-list'\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t);\r\n\t} else\r\n\t\treturn (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<Loading />\r\n\t\t\t\t<Route exact path={path} component={Component} />\r\n\t\t\t</ Fragment>\r\n\t\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(PublicRoutes);\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter, Link } from 'react-router-dom';\r\n\r\nimport { signup } from '../../../actions/auth';\r\nimport { loadUser, updateUser } from '../../../actions/user';\r\n\r\nimport Alert from '../../layouts/Alert';\r\n\r\nimport './EditUser.scss';\r\n\r\nconst EditUser = ({\r\n\tauth: { loggedUser, isAuthenticated, loading, emailSent },\r\n\tuser: { user, loadingUser },\r\n\tlocation,\r\n\tmatch,\r\n\tsignup,\r\n\tloadUser,\r\n\tupdateUser,\r\n}) => {\r\n\tconst isAdmin = loggedUser && loggedUser.type === 'admin';\r\n\tconst pathId = match.params.user_id;\r\n\r\n\tlet adminType = location.pathname.replace('/', '');\r\n\r\n\tif (pathId) adminType = adminType.replace(`/${pathId}`, '');\r\n\r\n\tconst [formData, setFormData] = useState({\r\n\t\tid: '',\r\n\t\tname: '',\r\n\t\tlastname: '',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tpasswordConf: '',\r\n\t\tcel: '',\r\n\t\ttype: '',\r\n\t});\r\n\r\n\tconst { name, lastname, email, password, cel, type, passwordConf } = formData;\r\n\r\n\tuseEffect(() => {\r\n\t\tlet userLoaded;\r\n\r\n\t\tif (\r\n\t\t\t(!userLoaded && adminType !== 'signup' && email === '') ||\r\n\t\t\t(adminType === 'profile' && email !== loggedUser.email)\r\n\t\t) {\r\n\t\t\tif (pathId) {\r\n\t\t\t\tif (loadingUser) loadUser(pathId);\r\n\t\t\t\telse userLoaded = user;\r\n\t\t\t} else userLoaded = loggedUser;\r\n\r\n\t\t\tif (userLoaded)\r\n\t\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t\t...prev,\r\n\t\t\t\t\tid: userLoaded.id,\r\n\t\t\t\t\tname: userLoaded.name,\r\n\t\t\t\t\tlastname: userLoaded.lastname,\r\n\t\t\t\t\ttype: userLoaded.type,\r\n\t\t\t\t\temail: userLoaded.email,\r\n\t\t\t\t\tcel: userLoaded.cel === '0' ? '' : userLoaded.cel,\r\n\t\t\t\t}));\r\n\t\t}\r\n\t}, [loggedUser, loadingUser, user, pathId, loadUser, email, adminType]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (emailSent) window.scrollTo(0, 0);\r\n\t}, [emailSent]);\r\n\r\n\tconst onChange = (e) => {\r\n\t\te.persist();\r\n\t\tsetFormData((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\t[e.target.id]: e.target.value,\r\n\t\t}));\r\n\t};\r\n\r\n\tconst saveUser = async (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tif (adminType === 'signup') signup(formData);\r\n\t\telse updateUser(formData, adminType === 'profile');\r\n\t};\r\n\r\n\tconst title = () => {\r\n\t\tswitch (adminType) {\r\n\t\t\tcase 'profile':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t<i className='fas fa-user-alt'></i>\r\n\t\t\t\t\t\t&nbsp;My Profile\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t);\r\n\t\t\tcase 'signup':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t<i className='fas fa-user-plus'></i>\r\n\t\t\t\t\t\t&nbsp;New account\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t);\r\n\t\t\tcase 'edit-user':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t<i className='fas fa-user-edit'></i>\r\n\t\t\t\t\t\t&nbsp;Edit User\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t);\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t(!isAuthenticated || !loading) && (\r\n\t\t\t<div className='user'>\r\n\t\t\t\t<h2 className='heading-primary'>\r\n\t\t\t\t\t{/* <FaUserPlus className=\"heading-icon\" /> */}\r\n\t\t\t\t\t{title()}\r\n\t\t\t\t</h2>\r\n\t\t\t\t{!emailSent ? (\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t<Alert type='1' />\r\n\t\t\t\t\t\t<form className='form' onSubmit={saveUser}>\r\n\t\t\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t\t\t<div className='form__group-sub'>\r\n\t\t\t\t\t\t\t\t\t<div className='form__group-sub-item'>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='First Name'\r\n\t\t\t\t\t\t\t\t\t\t\tid='name'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='name' className='form__label'>\r\n\t\t\t\t\t\t\t\t\t\t\tFirst Name\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='form__group-sub-item'>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Last Name'\r\n\t\t\t\t\t\t\t\t\t\t\tid='lastname'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={lastname}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='lastname' className='form__label'>\r\n\t\t\t\t\t\t\t\t\t\t\tLast Name\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\t\t\tdisabled={adminType !== 'signup'}\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\tplaceholder='Email'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label htmlFor='email' className='form__label'>\r\n\t\t\t\t\t\t\t\t\tEmail\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{isAdmin && (\r\n\t\t\t\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\tclassName={`form__input ${type === '' ? 'empty' : ''}`}\r\n\t\t\t\t\t\t\t\t\t\tname='type'\r\n\t\t\t\t\t\t\t\t\t\tid='type'\r\n\t\t\t\t\t\t\t\t\t\tvalue={type}\r\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<option value=''>* Select user type</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value='admin'>Admin</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value='customer'>Customer</option>\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\thtmlFor='type'\r\n\t\t\t\t\t\t\t\t\t\tclassName={`form__label ${type === '' ? 'hide' : ''}`}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tUser Type\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{adminType === 'signup' && (\r\n\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\t\t\tautoComplete='new-password'\r\n\t\t\t\t\t\t\t\t\t\t\tid='password'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='password' className='form__label'>\r\n\t\t\t\t\t\t\t\t\t\t\tPassword\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\t\t\tid='passwordConf'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={passwordConf}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Confirm Password'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='passwordConf' className='form__label'>\r\n\t\t\t\t\t\t\t\t\t\t\tConfirm Password\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tvalue={cel}\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\tid='cel'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Cellphone'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label htmlFor='cel' className='form__label'>\r\n\t\t\t\t\t\t\t\t\tCellphone\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className='btn-center'>\r\n\t\t\t\t\t\t\t\t<button className='btn btn-primary' type='submit'>\r\n\t\t\t\t\t\t\t\t\t{adminType === 'signup' ? 'Sign Up' : 'Save'}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{adminType === 'signup' && (\r\n\t\t\t\t\t\t\t\t<p className='user-login'>\r\n\t\t\t\t\t\t\t\t\tDo you already have an account? &nbsp;\r\n\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => window.scrollTo(0, 0)}\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn-link'\r\n\t\t\t\t\t\t\t\t\t\tto='/login'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className='user-email u-center-text'>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<i className='fas fa-envelope user-email-icon'></i>\r\n\t\t\t\t\t\t\t<h4 className='user-email-text'>\r\n\t\t\t\t\t\t\t\tWe've sent an email to{' '}\r\n\t\t\t\t\t\t\t\t<span className='user-email-text-email'>{email}</span>.\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\tClick the confirmation link in that email to start using our\r\n\t\t\t\t\t\t\t\tservices.\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t<div className='user-email-subtext'>\r\n\t\t\t\t\t\t\t\t<p>If you did not recieve the email,&nbsp;</p>\r\n\t\t\t\t\t\t\t\t<button type='button' onClick={saveUser} className='btn-link'>\r\n\t\t\t\t\t\t\t\t\tresend it.\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<p>Check the spam folder to be sure it was not sent.</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n\tuser: state.user,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tsignup,\r\n\tupdateUser,\r\n\tloadUser,\r\n})(withRouter(EditUser));\r\n","import React, { useEffect, useRef, useState, Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { activation } from '../../../actions/auth';\r\nimport { clearReservations } from '../../../actions/reservation';\r\nimport { clearJobs } from '../../../actions/jobs';\r\n\r\nimport './Activation.scss';\r\n\r\nconst Activation = ({\r\n\tmatch,\r\n\tauth: { loading, loggedUser, error },\r\n\tactivation,\r\n\tclearJobs,\r\n\tclearReservations,\r\n\tglobal: { footer, navbar },\r\n}) => {\r\n\tconst token = match.params.token;\r\n\tconst container = useRef();\r\n\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\tfloat: true,\r\n\t});\r\n\r\n\tconst { float } = adminValues;\r\n\r\n\tuseEffect(() => {\r\n\t\tactivation(token);\r\n\t}, [token, activation]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (container.current) {\r\n\t\t\tconst item = container.current.getBoundingClientRect();\r\n\r\n\t\t\tif (item.height + footer + navbar + 60 >= window.innerHeight)\r\n\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t...prev,\r\n\t\t\t\t\tfloat: false,\r\n\t\t\t\t}));\r\n\t\t}\r\n\t}, [footer, navbar]);\r\n\r\n\treturn (\r\n\t\t!loading && (\r\n\t\t\t<div ref={container} className={`activation ${float ? 'float' : ''}`}>\r\n\t\t\t\t{error !== '' ? (\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t<h2 className='activation-error-header'>\r\n\t\t\t\t\t\t\tUps... something went wrong!\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t<p className='activation-error-text'>{error.msg}</p>\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t) : (\r\n\t\t\t\t\tloggedUser !== null && (\r\n\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t<h2 className='heading-secondary-gradient'>\r\n\t\t\t\t\t\t\t\tWelcome {loggedUser.name + ' ' + loggedUser.lastname}!\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t<p className='activation-text'>\r\n\t\t\t\t\t\t\t\tWelcome to Drone Tahoe! You can start using our services now.\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div className='btn-center'>\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tto='/reservation/0'\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tclearJobs();\r\n\t\t\t\t\t\t\t\t\t\tclearReservations();\r\n\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName='btn btn-primary'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tBook now\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t)\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n\tglobal: state.global,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tactivation,\r\n\tclearJobs,\r\n\tclearReservations,\r\n})(Activation);\r\n","import React, { useState, useRef, useEffect, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { resetPassword } from '../../../actions/auth';\r\n\r\nimport Alert from '../../layouts/Alert';\r\n\r\nimport './ChangePassword.scss';\r\n\r\nconst ChangePassword = ({\r\n\tresetPassword,\r\n\tmatch,\r\n\tglobal: { footer, navbar },\r\n}) => {\r\n\tconst container = useRef();\r\n\r\n\tconst [formData, setFormData] = useState({\r\n\t\tpassword: '',\r\n\t\tpasswordConf: '',\r\n\t});\r\n\r\n\tconst { password, passwordConf } = formData;\r\n\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\tfloat: true,\r\n\t});\r\n\r\n\tconst { float } = adminValues;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (container.current) {\r\n\t\t\tconst item = container.current.getBoundingClientRect();\r\n\r\n\t\t\tif (item.height + footer + navbar + 60 >= window.innerHeight)\r\n\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t...prev,\r\n\t\t\t\t\tfloat: false,\r\n\t\t\t\t}));\r\n\t\t}\r\n\t}, [footer, navbar]);\r\n\r\n\tconst onSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tresetPassword({ ...formData, resetLink: match.params.token });\r\n\t};\r\n\r\n\tconst onChange = (e) => {\r\n\t\te.persist();\r\n\t\tsetFormData((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\t[e.target.id]: e.target.value,\r\n\t\t}));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t<div className={`changepassword ${float ? 'float' : ''}`} ref={container}>\r\n\t\t\t\t<h2 className='heading-primary'>Reset Password</h2>\r\n\t\t\t\t<form onSubmit={onSubmit} className='form'>\r\n\t\t\t\t\t<Alert type='1' />\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\tid='password'\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label htmlFor='password' className='form__label'>\r\n\t\t\t\t\t\t\tPassword\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\tid='passwordConf'\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\tvalue={passwordConf}\r\n\t\t\t\t\t\t\tplaceholder='Confirm Password'\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label htmlFor='passwordConf' className='form__label'>\r\n\t\t\t\t\t\t\tConfirm Password\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='u-center-text'>\r\n\t\t\t\t\t\t<button className='btn btn-primary'>Save</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tglobal: state.global,\r\n});\r\n\r\nexport default connect(mapStateToProps, { resetPassword })(ChangePassword);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Alert from '../layouts/Alert';\r\n\r\nconst HourRangeForm = ({\r\n\tconfirm,\r\n\treservation: { reservations },\r\n\tday: { availableHours, loadingAvailableHours },\r\n\tsetToggleModal,\r\n}) => {\r\n\tconst [formData, setFormData] = useState({\r\n\t\thourFrom: '',\r\n\t\thourTo: '',\r\n\t});\r\n\r\n\tconst { hourFrom, hourTo } = formData;\r\n\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\trangeFrom: [],\r\n\t\trangeTo: [],\r\n\t});\r\n\r\n\tconst { rangeFrom, rangeTo } = adminValues;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!loadingAvailableHours) {\r\n\t\t\tlet rangeFrom = [];\r\n\r\n\t\t\tlet unavailableRange = reservations.filter((item) => !item.jobId);\r\n\r\n\t\t\tunavailableRange = unavailableRange.map((item) => {\r\n\t\t\t\tconst date = new Date(item.hourTo);\r\n\t\t\t\treturn date.getUTCHours();\r\n\t\t\t});\r\n\r\n\t\t\tfor (let x = 0; x < availableHours.length; x++) {\r\n\t\t\t\tfor (let y = availableHours[x][0]; y < availableHours[x][1]; y++) {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tunavailableRange.length === 0 ||\r\n\t\t\t\t\t\tunavailableRange.some((item) => item !== y)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t\trangeFrom.push(y);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tsetAdminValues((prev) => ({ ...prev, rangeFrom }));\r\n\t\t}\r\n\t}, [loadingAvailableHours, availableHours, reservations]);\r\n\r\n\tconst onChange = (e) => {\r\n\t\te.persist();\r\n\t\tsetFormData((prev) => ({ ...prev, [e.target.id]: e.target.value }));\r\n\r\n\t\tif (e.target.id === 'hourFrom' && e.target.value !== '') {\r\n\t\t\tlet rangeTo = [];\r\n\r\n\t\t\tlet start = e.target.value;\r\n\t\t\tconst index = availableHours.findIndex(\r\n\t\t\t\t(item) => start >= item[0] && start <= item[1]\r\n\t\t\t);\r\n\r\n\t\t\tstart++;\r\n\r\n\t\t\twhile (start <= availableHours[index][1]) {\r\n\t\t\t\trangeTo.push(start);\r\n\t\t\t\tstart++;\r\n\t\t\t}\r\n\t\t\tsetAdminValues((prev) => ({ ...prev, rangeTo }));\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form\r\n\t\t\tclassName='form'\r\n\t\t\tonSubmit={(e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tconfirm(formData);\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<h3 className='heading-primary-subheading'>Disable Hour Range:</h3>\r\n\t\t\t<Alert type='2' />\r\n\t\t\t<div className='form__group'>\r\n\t\t\t\t<div className='form__group-sub'>\r\n\t\t\t\t\t<div className='form__group-sub-item'>\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclassName={`form__input ${hourFrom === '' ? 'empty' : ''}`}\r\n\t\t\t\t\t\t\tid='hourFrom'\r\n\t\t\t\t\t\t\tvalue={hourFrom}\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=''>* Start</option>\r\n\t\t\t\t\t\t\t{!loadingAvailableHours &&\r\n\t\t\t\t\t\t\t\trangeFrom.map((item, key) => (\r\n\t\t\t\t\t\t\t\t\t<option key={key} value={item}>\r\n\t\t\t\t\t\t\t\t\t\t{`${item % 12 !== 0 ? item % 12 : 12} ${\r\n\t\t\t\t\t\t\t\t\t\t\titem >= 12 ? 'pm' : 'am'\r\n\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\thtmlFor='hourFrom'\r\n\t\t\t\t\t\t\tclassName={`form__label ${hourFrom === '' ? 'hide' : ''}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tStart\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='form__group-sub-item'>\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclassName={`form__input ${hourTo === '' ? 'empty' : ''}`}\r\n\t\t\t\t\t\t\tid='hourTo'\r\n\t\t\t\t\t\t\tvalue={hourTo}\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\tdisabled={hourFrom === ''}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=''>* End</option>\r\n\t\t\t\t\t\t\t{rangeTo.map((item, key) => (\r\n\t\t\t\t\t\t\t\t<option key={key} value={item}>\r\n\t\t\t\t\t\t\t\t\t{`${item % 12 !== 0 ? item % 12 : 12} ${\r\n\t\t\t\t\t\t\t\t\t\titem >= 12 ? 'pm' : 'am'\r\n\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\thtmlFor='hourTo'\r\n\t\t\t\t\t\t\tclassName={`form__label ${hourTo === '' ? 'hide' : ''}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tEnd\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='popup-btns'>\r\n\t\t\t\t<button className='btn btn-success' type='submit'>\r\n\t\t\t\t\tSave\r\n\t\t\t\t</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype='button'\r\n\t\t\t\t\tclassName='btn btn-danger'\r\n\t\t\t\t\tonClick={setToggleModal}\r\n\t\t\t\t>\r\n\t\t\t\t\tCancel\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n\tday: state.day,\r\n\treservation: state.reservation,\r\n});\r\n\r\nexport default connect(mapStateToProps)(HourRangeForm);\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport Alert from '../layouts/Alert';\r\n\r\nconst JobForm = ({ job, setToggleModal, toggleModal, confirm }) => {\r\n\tconst [formData, setFormData] = useState({\r\n\t\tid: 0,\r\n\t\ttitle: '',\r\n\t\tsubtitle: '',\r\n\t\tpoptext: '',\r\n\t});\r\n\r\n\tconst { title, subtitle, poptext } = formData;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (job) {\r\n\t\t\tsetFormData((prev) => {\r\n\t\t\t\tif (prev.id !== job.id)\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tid: job.id,\r\n\t\t\t\t\t\ttitle: job.title,\r\n\t\t\t\t\t\tsubtitle: job.subtitle ? job.subtitle : '',\r\n\t\t\t\t\t\tpoptext: job.poptext ? job.poptext : '',\r\n\t\t\t\t\t};\r\n\t\t\t\telse return prev;\r\n\t\t\t});\r\n\t\t}\r\n\t}, [job]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!toggleModal)\r\n\t\t\tsetFormData({ id: 0, title: '', subtitle: '', poptext: '' });\r\n\t}, [toggleModal]);\r\n\r\n\tconst onChange = (e) => {\r\n\t\te.persist();\r\n\t\tsetFormData((prev) => ({ ...prev, [e.target.id]: e.target.value }));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form\r\n\t\t\tclassName='form'\r\n\t\t\tonSubmit={(e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tconfirm(formData);\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<h3 className='heading-primary-subheading'>\r\n\t\t\t\t{job ? 'Update' : 'New'} Job:\r\n\t\t\t</h3>\r\n\t\t\t<Alert type='2' />\r\n\t\t\t<div className='form__group'>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tvalue={title}\r\n\t\t\t\t\tid='title'\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tplaceholder='Title'\r\n\t\t\t\t/>\r\n\t\t\t\t<label htmlFor='title' className='form__label'>\r\n\t\t\t\t\tTitle\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<div className='form__group'>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tvalue={subtitle}\r\n\t\t\t\t\tid='subtitle'\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tplaceholder='Subtitle'\r\n\t\t\t\t/>\r\n\t\t\t\t<label htmlFor='subtitle' className='form__label'>\r\n\t\t\t\t\tSubtitle\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<div className='form__group'>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tclassName='form__input textarea'\r\n\t\t\t\t\tvalue={poptext}\r\n\t\t\t\t\trows='3'\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tplaceholder='Extra Info'\r\n\t\t\t\t\tid='poptext'\r\n\t\t\t\t/>\r\n\t\t\t\t<label htmlFor='poptext' className='form__label'>\r\n\t\t\t\t\tExtra Info\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='popup-btns'>\r\n\t\t\t\t<button type='submit' className='btn btn-success'>\r\n\t\t\t\t\tSave\r\n\t\t\t\t</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype='button'\r\n\t\t\t\t\tclassName='btn btn-danger'\r\n\t\t\t\t\tonClick={setToggleModal}\r\n\t\t\t\t>\r\n\t\t\t\t\tCancel\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default JobForm;\r\n","import React, { useState, useEffect, useCallback, Fragment } from 'react';\r\nimport Calendar from 'react-calendar';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n\tformat,\r\n\taddDays,\r\n\tgetHours,\r\n\taddYears,\r\n\tgetMonth,\r\n\tgetYear,\r\n} from 'date-fns';\r\n\r\nimport {\r\n\tcheckDayAvailability,\r\n\tcheckMonthAvailability,\r\n} from '../../actions/day';\r\nimport {\r\n\tupdateReservation,\r\n\tregisterReservation,\r\n} from '../../actions/reservation';\r\n\r\nimport Alert from '../layouts/Alert';\r\nimport PopUp from '../layouts/PopUp';\r\n\r\nimport './Schedule.scss';\r\n\r\nconst Schedule = ({\r\n\tauth: { loggedUser },\r\n\treservation,\r\n\tsetToggleModal,\r\n\tday: { availableHours, loadingAvailableHours, disabledDays },\r\n\tcheckMonthAvailability,\r\n\tcheckDayAvailability,\r\n\tupdateReservation,\r\n\tregisterReservation,\r\n}) => {\r\n\tconst today = addDays(new Date(), 1);\r\n\tconst disabled =\r\n\t\treservation.id !== 0 &&\r\n\t\treservation.status !== 'requested' &&\r\n\t\t((loggedUser.type === 'customer' && reservation.status === 'unpaid') ||\r\n\t\t\treservation.status !== 'unpaid');\r\n\r\n\tconst [formData, setFormData] = useState({\r\n\t\thourFrom: '',\r\n\t\thourTo: '',\r\n\t});\r\n\r\n\tconst { hourFrom, hourTo } = formData;\r\n\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\tdate: new Date(),\r\n\t\ttab: 0,\r\n\t\tdiff: 0,\r\n\t\ttoggleModal: false,\r\n\t\tmonth: getMonth(today),\r\n\t\tyear: getYear(today),\r\n\t});\r\n\r\n\tconst { date, tab, diff, toggleModal, month, year } = adminValues;\r\n\r\n\tuseEffect(() => {\r\n\t\tcheckMonthAvailability(month, year, reservation.id, disabled ? diff : 0);\r\n\t}, [checkMonthAvailability, month, year, reservation.id, disabled, diff]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (disabled) {\r\n\t\t\tconst hourFrom = getHours(new Date(reservation.hourFrom.slice(0, -1)));\r\n\t\t\tconst hourTo = getHours(new Date(reservation.hourTo.slice(0, -1)));\r\n\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\tdiff: hourTo - hourFrom,\r\n\t\t\t}));\r\n\t\t}\r\n\t}, [reservation, disabled]);\r\n\r\n\tconst onChangeDate = (changedDate) => {\r\n\t\tsetAdminValues((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\tdate: changedDate,\r\n\t\t\ttab: changedDate.getMonth() === month ? 1 : 0,\r\n\t\t}));\r\n\t\tcheckDayAvailability(\r\n\t\t\tformat(changedDate, \"yyyy-MM-dd'T00:00:00Z'\"),\r\n\t\t\treservation.id,\r\n\t\t\tdisabled ? diff : 0\r\n\t\t);\r\n\t};\r\n\r\n\tconst selectHour = (type, time) => {\r\n\t\tconst newDate = new Date(date);\r\n\t\tnewDate.setHours(time);\r\n\r\n\t\tlet newHourTo = null;\r\n\t\tif (disabled) {\r\n\t\t\tconst oldHourFrom = new Date(reservation.hourFrom);\r\n\t\t\tconst oldHourTo = new Date(reservation.hourTo);\r\n\t\t\tnewHourTo = new Date(date);\r\n\t\t\tnewHourTo.setHours(\r\n\t\t\t\ttime + (oldHourTo.getHours() - oldHourFrom.getHours())\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tsetFormData((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\t[type]: newDate,\r\n\t\t\t...(newHourTo && { hourTo: newHourTo }),\r\n\t\t}));\r\n\r\n\t\tsetAdminValues((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\ttab: type === 'hourFrom' && !newHourTo ? 2 : 3,\r\n\t\t}));\r\n\t};\r\n\r\n\tconst tileDisabled = useCallback(\r\n\t\t({ date, view }) => {\r\n\t\t\tif (view === 'month' && disabledDays.length > 0) {\r\n\t\t\t\t// Check if a date React-Calendar wants to check is on the list of disabled dates\r\n\t\t\t\treturn disabledDays.some(\r\n\t\t\t\t\t(disabledDay) =>\r\n\t\t\t\t\t\tformat(new Date(disabledDay.slice(0, -1)), 'MM-dd-yyyy') ===\r\n\t\t\t\t\t\tformat(date, 'MM-dd-yyyy')\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[disabledDays]\r\n\t);\r\n\r\n\tconst startTime = () => {\r\n\t\tlet posibleHours = [];\r\n\r\n\t\tlet minTime = disabled ? diff : 2;\r\n\r\n\t\tfor (let x = 0; x < availableHours.length; x++) {\r\n\t\t\tlet time =\r\n\t\t\t\tloggedUser.type === 'admin' || availableHours[x][0] === 8\r\n\t\t\t\t\t? availableHours[x][0]\r\n\t\t\t\t\t: availableHours[x][0] + 1;\r\n\r\n\t\t\twhile (availableHours[x][1] - time > minTime) {\r\n\t\t\t\tposibleHours.push(time);\r\n\t\t\t\ttime++;\r\n\t\t\t}\r\n\t\t\tif (availableHours[x][1] === 17) posibleHours.push(time);\r\n\t\t\telse if (\r\n\t\t\t\tloggedUser.type === 'admin' &&\r\n\t\t\t\tavailableHours[x][1] - time === minTime\r\n\t\t\t)\r\n\t\t\t\tposibleHours.push(time);\r\n\t\t}\r\n\r\n\t\treturn posibleHours.length > 0 ? (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<p className='schedule-details-title'>\r\n\t\t\t\t\t{disabled ? 'Hour Range' : 'Start Time'}:\r\n\t\t\t\t</p>{' '}\r\n\t\t\t\t{posibleHours.map((hour, i) => (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName='schedule-details-item'\r\n\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\tonClick={() => selectHour('hourFrom', hour)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{`${hour % 12 !== 0 ? hour % 12 : 12} ${hour >= 12 ? 'pm' : 'am'}`}{' '}\r\n\t\t\t\t\t\t{disabled &&\r\n\t\t\t\t\t\t\t' - ' +\r\n\t\t\t\t\t\t\t\t`${(hour + diff) % 12 !== 0 ? (hour + diff) % 12 : 12} ${\r\n\t\t\t\t\t\t\t\t\thour + diff >= 12 ? 'pm' : 'am'\r\n\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</Fragment>\r\n\t\t) : (\r\n\t\t\t<h2 className='schedule-details-main error'>\r\n\t\t\t\tNo availability on this day\r\n\t\t\t</h2>\r\n\t\t);\r\n\t};\r\n\r\n\tconst endTime = () => {\r\n\t\tlet time = getHours(hourFrom);\r\n\t\tlet posibleHours = [];\r\n\r\n\t\tconst usedRange = availableHours.filter(\r\n\t\t\t(item) => item[0] <= time && item[1] > time\r\n\t\t)[0];\r\n\r\n\t\ttime = time + 2;\r\n\r\n\t\twhile (time < usedRange[1]) {\r\n\t\t\tposibleHours.push(time);\r\n\t\t\ttime++;\r\n\t\t}\r\n\t\tif (usedRange[1] === 17) posibleHours.push(time);\r\n\t\telse if (loggedUser.type === 'admin' && time === usedRange[1])\r\n\t\t\tposibleHours.push(time);\r\n\r\n\t\treturn posibleHours.length > 0 ? (\r\n\t\t\t<Fragment>\r\n\t\t\t\t<p className='schedule-details-title'>End Time:</p>{' '}\r\n\t\t\t\t{posibleHours.map((hour, i) => (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName='schedule-details-item'\r\n\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\tonClick={() => selectHour('hourTo', hour)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{`${hour % 12 !== 0 ? hour % 12 : 12} ${hour >= 12 ? 'pm' : 'am'}`}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</Fragment>\r\n\t\t) : (\r\n\t\t\t<h2 className='schedule-details-main error'>\r\n\t\t\t\tNo availability on this day\r\n\t\t\t</h2>\r\n\t\t);\r\n\t};\r\n\r\n\tconst tabOpen = () => {\r\n\t\tswitch (tab) {\r\n\t\t\tcase 0:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t<h5 className='schedule-details-main'>\r\n\t\t\t\t\t\t\tPick up a Date and Time{' '}\r\n\t\t\t\t\t\t\t{loggedUser.type !== 'admin' && 'you are Available'}\r\n\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t);\r\n\t\t\tcase 1:\r\n\t\t\t\treturn !loadingAvailableHours && startTime();\r\n\t\t\tcase 2:\r\n\t\t\t\treturn hourFrom !== '' && endTime();\r\n\t\t\tcase 3:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t<p className='schedule-details-title'>Reservation Schedule:</p>\r\n\t\t\t\t\t\t<form\r\n\t\t\t\t\t\t\tclassName='form'\r\n\t\t\t\t\t\t\tonSubmit={async (e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\t\t\t\tif (reservation.id !== 0) {\r\n\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\ttoggleModal: !toggleModal,\r\n\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t//createReservation\r\n\t\t\t\t\t\t\t\t\tconst answer = await registerReservation({\r\n\t\t\t\t\t\t\t\t\t\t...reservation,\r\n\t\t\t\t\t\t\t\t\t\t...(loggedUser.type === 'customer' && {\r\n\t\t\t\t\t\t\t\t\t\t\tuser: loggedUser.id,\r\n\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\thourFrom: format(hourFrom, \"yyyy-MM-dd'T'HH':00:00Z'\"),\r\n\t\t\t\t\t\t\t\t\t\thourTo: format(hourTo, \"yyyy-MM-dd'T'HH':00:00Z'\"),\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tif (answer) setToggleModal();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Alert type='2' />\r\n\t\t\t\t\t\t\t<p className='schedule-details-info'>\r\n\t\t\t\t\t\t\t\t<span className='schedule-details-subtitle'>Date:</span> &nbsp;\r\n\t\t\t\t\t\t\t\t{format(hourFrom, 'MM/dd/yy')}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className='schedule-details-info'>\r\n\t\t\t\t\t\t\t\t<span className='schedule-details-subtitle'>Time:</span> &nbsp;\r\n\t\t\t\t\t\t\t\t{format(hourFrom, 'h aaa')} - {format(hourTo, 'h aaa')}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{loggedUser.type !== 'admin' && reservation.id === 0 && (\r\n\t\t\t\t\t\t\t\t<p className='text-warning'>\r\n\t\t\t\t\t\t\t\t\tAfter saving the reservation, we will set the price for the\r\n\t\t\t\t\t\t\t\t\tjob and send you an email confirming your appointment, so you\r\n\t\t\t\t\t\t\t\t\tcan proceed with its payment.\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t<div className='btn-center'>\r\n\t\t\t\t\t\t\t\t<button className='btn' type='submit'>\r\n\t\t\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t);\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='schedule'>\r\n\t\t\t<PopUp\r\n\t\t\t\ttype='confirmation'\r\n\t\t\t\ttoggleModal={toggleModal}\r\n\t\t\t\tsetToggleModal={() =>\r\n\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\ttoggleModal: !toggleModal,\r\n\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\t\t\t\tconfirm={async () => {\r\n\t\t\t\t\tconst answer = await updateReservation({\r\n\t\t\t\t\t\t...reservation,\r\n\t\t\t\t\t\thourFrom: format(hourFrom, \"yyyy-MM-dd'T'HH':00:00Z'\"),\r\n\t\t\t\t\t\thourTo: format(hourTo, \"yyyy-MM-dd'T'HH':00:00Z'\"),\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (answer) setToggleModal();\r\n\t\t\t\t}}\r\n\t\t\t\ttext='Are you sure you want to modify the reservation?'\r\n\t\t\t/>\r\n\r\n\t\t\t<div className='schedule-calendar'>\r\n\t\t\t\t<Calendar\r\n\t\t\t\t\tvalue={date}\r\n\t\t\t\t\tonChange={onChangeDate}\r\n\t\t\t\t\tminDate={today}\r\n\t\t\t\t\tmaxDate={addYears(today, 1)}\r\n\t\t\t\t\tonActiveStartDateChange={(e) => {\r\n\t\t\t\t\t\tif (e.view === 'month' || e.view === 'year') {\r\n\t\t\t\t\t\t\tconst month = getMonth(e.activeStartDate);\r\n\t\t\t\t\t\t\tconst year = getYear(e.activeStartDate);\r\n\t\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, month, year }));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttileDisabled={tileDisabled}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className='schedule-details'>{tabOpen()}</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n\tday: state.day,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tcheckDayAvailability,\r\n\tcheckMonthAvailability,\r\n\tupdateReservation,\r\n\tregisterReservation,\r\n})(Schedule);\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { loadUsers, clearUsers } from '../../actions/user';\r\n\r\nconst UserField = ({\r\n\tuser: { users, loading },\r\n\tselectFinalUser,\r\n\treservationUser,\r\n\tsearchDisplay,\r\n\tswitchDisplay,\r\n\tclearUsers,\r\n\tloadUsers,\r\n\tclear,\r\n\tcompleteClear,\r\n\tautoComplete,\r\n}) => {\r\n\tconst initialValue = {\r\n\t\temail: '',\r\n\t\tlockEmail: false,\r\n\t};\r\n\r\n\tconst [adminValues, setAdminValues] = useState(initialValue);\r\n\r\n\tconst { email, lockEmail } = adminValues;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (reservationUser) {\r\n\t\t\tif (reservationUser.email)\r\n\t\t\t\tsetAdminValues((prev) => ({ ...prev, email: reservationUser.email }));\r\n\t\t} else setAdminValues((prev) => ({ ...prev, email: '' }));\r\n\t}, [reservationUser]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (clear) {\r\n\t\t\tsetAdminValues({\r\n\t\t\t\temail: '',\r\n\t\t\t\tlockEmail: false,\r\n\t\t\t});\r\n\t\t\tcompleteClear();\r\n\t\t}\r\n\t}, [clear, completeClear]);\r\n\r\n\tconst selectUser = (user) => {\r\n\t\tsetAdminValues((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\temail: user.email,\r\n\t\t\tlockEmail: true,\r\n\t\t}));\r\n\t\tselectFinalUser(user);\r\n\t\tclearUsers();\r\n\t};\r\n\r\n\tconst cancelUser = () => {\r\n\t\tselectFinalUser();\r\n\t\tsetAdminValues(initialValue);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='form__group form-search'>\r\n\t\t\t<input\r\n\t\t\t\tclassName='form__input'\r\n\t\t\t\ttype='text'\r\n\t\t\t\tvalue={email}\r\n\t\t\t\tdisabled={reservationUser || lockEmail}\r\n\t\t\t\tname='email'\r\n\t\t\t\tid='email'\r\n\t\t\t\tautoComplete={autoComplete}\r\n\t\t\t\tonFocus={() => switchDisplay(true)}\r\n\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\te.persist();\r\n\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\temail: e.target.value,\r\n\t\t\t\t\t}));\r\n\t\t\t\t\tif (e.target.value.length > 1) {\r\n\t\t\t\t\t\tclearUsers();\r\n\t\t\t\t\t\tloadUsers(\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: 'customer',\r\n\t\t\t\t\t\t\t\temail: e.target.value,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tplaceholder=\"User's Email\"\r\n\t\t\t/>\r\n\t\t\t<label htmlFor='email' className='form__label'>\r\n\t\t\t\tUser's Email\r\n\t\t\t</label>\r\n\t\t\t{searchDisplay && email.length > 1 && !reservationUser && (\r\n\t\t\t\t<ul\r\n\t\t\t\t\tclassName={`form-search-display ${\r\n\t\t\t\t\t\tusers.length === 0 ? 'danger' : ''\r\n\t\t\t\t\t}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t{!loading && (\r\n\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t{users.length > 0 ? (\r\n\t\t\t\t\t\t\t\tusers.map((user) => (\r\n\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\tclassName='form-search-item'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => selectUser(user)}\r\n\t\t\t\t\t\t\t\t\t\tkey={user.id}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{user.email}\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<li className='bg-danger form-search-item'>\r\n\t\t\t\t\t\t\t\t\tNo matching results\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ul>\r\n\t\t\t)}\r\n\t\t\t{email.length > 1 && !reservationUser && (\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype='button'\r\n\t\t\t\t\tonClick={cancelUser}\r\n\t\t\t\t\tclassName='form-search-close'\r\n\t\t\t\t>\r\n\t\t\t\t\t<i className='far fa-times-circle'></i>\r\n\t\t\t\t</button>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tuser: state.user,\r\n});\r\n\r\nexport default connect(mapStateToProps, { loadUsers, clearUsers })(UserField);\r\n","import React, { useState, useEffect, useRef, Fragment } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { format } from 'date-fns';\r\n\r\nimport { updateReservation } from '../../actions/reservation';\r\nimport {\r\n\tloadReservationJobs,\r\n\tclearJobsXReservations,\r\n} from '../../actions/jobsXReservations';\r\n\r\nimport Schedule from '../Schedule';\r\nimport UserField from '../UserField';\r\nimport Alert from '../layouts/Alert';\r\n\r\nimport './ReservationForm.scss';\r\n\r\nconst ReservationForm = ({\r\n\treservation,\r\n\tsetToggleModal,\r\n\tmatch,\r\n\tlocation,\r\n\tjob: { jobs: jobsList },\r\n\tauth: { loggedUser },\r\n\tjobsXreservation: { jobsXreservations, loading },\r\n\tupdateReservation,\r\n\tloadReservationJobs,\r\n\tclearJobsXReservations,\r\n}) => {\r\n\tconst form = useRef();\r\n\tconst schedule = useRef();\r\n\tconst regex = /^[0-9]+(\\.([0-9]{1,2})?)?$/;\r\n\r\n\tconst disabled =\r\n\t\treservation &&\r\n\t\treservation.status !== 'requested' &&\r\n\t\treservation.status !== 'unpaid';\r\n\r\n\tconst [formData, setFormData] = useState({\r\n\t\tid: 0,\r\n\t\tjobs: [\r\n\t\t\t{\r\n\t\t\t\tid: 0,\r\n\t\t\t\tjobId:\r\n\t\t\t\t\tmatch.params.job_id && match.params.job_id !== '0'\r\n\t\t\t\t\t\t? match.params.job_id\r\n\t\t\t\t\t\t: '',\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tdiscount: null,\r\n\t\t\t},\r\n\t\t],\r\n\t\tuser: null,\r\n\t\taddress: '',\r\n\t\tcomments: null,\r\n\t\ttravelExpenses: null,\r\n\t\trefundReason: null,\r\n\t\ttotal: '',\r\n\t\thourFrom: '',\r\n\t\thourTo: '',\r\n\t});\r\n\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\tsearchDisplay: false,\r\n\t\tclear: false,\r\n\t\tchangeDate: false,\r\n\t\tpercentage: [null],\r\n\t});\r\n\r\n\tconst { searchDisplay, clear, changeDate, percentage } = adminValues;\r\n\tconst {\r\n\t\tid,\r\n\t\tjobs,\r\n\t\tuser,\r\n\t\taddress,\r\n\t\tcomments,\r\n\t\ttotal,\r\n\t\ttravelExpenses,\r\n\t\trefundReason,\r\n\t} = formData;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (reservation) {\r\n\t\t\tif (!reservation.jobs && loading) loadReservationJobs(reservation.id);\r\n\t\t\telse {\r\n\t\t\t\tif (id !== reservation.id) {\r\n\t\t\t\t\tsetFormData((prev) => {\r\n\t\t\t\t\t\tlet oldReservation = {};\r\n\t\t\t\t\t\tfor (const x in prev) {\r\n\t\t\t\t\t\t\toldReservation[x] = !reservation[x] ? prev[x] : reservation[x];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t...oldReservation,\r\n\t\t\t\t\t\t\tjobs: jobsXreservations.map((item) => {\r\n\t\t\t\t\t\t\t\treturn { ...item, value: item.value === 0 ? '' : item.value };\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\tpercentage: jobsXreservations.map((item) => {\r\n\t\t\t\t\t\t\tif (item.discount !== null) {\r\n\t\t\t\t\t\t\t\tconst value = (item.discount * 100) / item.value;\r\n\t\t\t\t\t\t\t\treturn Math.round((value + Number.EPSILON) * 100) / 100;\r\n\t\t\t\t\t\t\t} else return null;\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}, [reservation, id, loading, loadReservationJobs, jobsXreservations]);\r\n\r\n\tconst getTotal = (expence) => {\r\n\t\tconst total = jobs.reduce((sum, item) => {\r\n\t\t\tlet itemValue = Number(item.value);\r\n\t\t\tif (item.discount !== null) itemValue = itemValue - Number(item.discount);\r\n\t\t\treturn sum + itemValue;\r\n\t\t}, 0);\r\n\t\tlet value = expence !== null ? total + Number(expence) : total;\r\n\r\n\t\tvalue = Math.round((value + Number.EPSILON) * 100) / 100;\r\n\r\n\t\treturn value;\r\n\t};\r\n\r\n\tconst onChange = (e) => {\r\n\t\te.persist();\r\n\t\tif (e.target.id === 'travelExpenses') {\r\n\t\t\tif (regex.test(e.target.value) || e.target.value === '') {\r\n\t\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t\t...prev,\r\n\t\t\t\t\ttravelExpenses: e.target.value,\r\n\t\t\t\t\ttotal: getTotal(e.target.value),\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\t[e.target.id]: e.target.value,\r\n\t\t\t}));\r\n\t\t}\r\n\t};\r\n\r\n\tconst onChangeJobs = (e) => {\r\n\t\te.persist();\r\n\t\tif (\r\n\t\t\te.target.name === 'jobId' ||\r\n\t\t\te.target.value === '' ||\r\n\t\t\t(regex.test(e.target.value) &&\r\n\t\t\t\t(jobs[e.target.id].discount === null ||\r\n\t\t\t\t\tNumber(jobs[e.target.id].discount) <= Number(e.target.value)))\r\n\t\t)\r\n\t\t\tjobs[e.target.id][e.target.name] = e.target.value;\r\n\t\telse {\r\n\t\t\tif (regex.test(e.target.value)) jobs[e.target.id].value = e.target.value;\r\n\t\t\tjobs[e.target.id].discount = '';\r\n\t\t\tpercentage[e.target.id] = '';\r\n\t\t\tsetAdminValues((prev) => ({ ...prev, percentage }));\r\n\t\t}\r\n\r\n\t\tsetFormData((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\tjobs,\r\n\t\t\t...(e.target.name !== 'jobId' && { total: getTotal(travelExpenses) }),\r\n\t\t}));\r\n\t};\r\n\r\n\tconst onChangeJobsDiscount = (e) => {\r\n\t\te.persist();\r\n\t\tif (regex.test(e.target.value)) {\r\n\t\t\tif (\r\n\t\t\t\te.target.name === 'discount' &&\r\n\t\t\t\tNumber(jobs[e.target.id].value) >= Number(e.target.value)\r\n\t\t\t) {\r\n\t\t\t\tconst value =\r\n\t\t\t\t\t(Number(e.target.value) * 100) / Number(jobs[e.target.id].value);\r\n\r\n\t\t\t\tpercentage[e.target.id] =\r\n\t\t\t\t\tMath.round((value + Number.EPSILON) * 100) / 100;\r\n\t\t\t\tjobs[e.target.id].discount = e.target.value;\r\n\t\t\t} else {\r\n\t\t\t\tif (Number(e.target.value) <= 100) {\r\n\t\t\t\t\tconst value =\r\n\t\t\t\t\t\t(Number(e.target.value) * Number(jobs[e.target.id].value)) / 100;\r\n\r\n\t\t\t\t\tpercentage[e.target.id] = e.target.value;\r\n\t\t\t\t\tjobs[e.target.id].discount =\r\n\t\t\t\t\t\tMath.round((value + Number.EPSILON) * 100) / 100;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (e.target.value === '') {\r\n\t\t\tjobs[e.target.id].discount = '';\r\n\t\t\tpercentage[e.target.id] = '';\r\n\t\t}\r\n\r\n\t\tsetFormData((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\tjobs,\r\n\t\t\ttotal: getTotal(travelExpenses),\r\n\t\t}));\r\n\t\tsetAdminValues((prev) => ({ ...prev, percentage }));\r\n\t};\r\n\r\n\tconst jobListItem = (job, i) => {\r\n\t\tconst index = jobs.findIndex((j) => Number(j.jobId) === job.id);\r\n\r\n\t\tif (index === -1 || index === i)\r\n\t\t\treturn <option value={job.id}>{job.title}</option>;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`reservation-form ${\r\n\t\t\t\tloggedUser.type === 'customer' ? 'border' : ''\r\n\t\t\t}`}\r\n\t\t>\r\n\t\t\t<form\r\n\t\t\t\tref={form}\r\n\t\t\t\tonSubmit={async (e) => {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tconst answer = await updateReservation(formData);\r\n\t\t\t\t\tif (answer) {\r\n\t\t\t\t\t\tsetToggleModal();\r\n\t\t\t\t\t\tclearJobsXReservations();\r\n\t\t\t\t\t} else form.current.scrollIntoView();\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{loggedUser.type === 'customer' && (\r\n\t\t\t\t\t<div className='btn-top-right'>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='reservation-form-cancel'\r\n\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tsetToggleModal();\r\n\t\t\t\t\t\t\t\tclearJobsXReservations();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<i className='fas fa-times'></i>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className='reservation-form-inner'>\r\n\t\t\t\t\t<h4 className='heading-primary-subheading'>\r\n\t\t\t\t\t\t{!reservation\r\n\t\t\t\t\t\t\t? 'New'\r\n\t\t\t\t\t\t\t: reservation &&\r\n\t\t\t\t\t\t\t  reservation.status !== 'canceled' &&\r\n\t\t\t\t\t\t\t  reservation.status !== 'refunded' &&\r\n\t\t\t\t\t\t\t  reservation.status !== 'completed'\r\n\t\t\t\t\t\t\t? 'Update'\r\n\t\t\t\t\t\t\t: ''}{' '}\r\n\t\t\t\t\t\tReservation:\r\n\t\t\t\t\t</h4>\r\n\r\n\t\t\t\t\t{loggedUser.type !== 'admin' && !reservation && (\r\n\t\t\t\t\t\t<p className='text-warning'>\r\n\t\t\t\t\t\t\tEnter job site address and job type. Add additional jobs, if any,\r\n\t\t\t\t\t\t\tby clicking the ‘+ Job’ button. Once all jobs are entered, select\r\n\t\t\t\t\t\t\tyour desired date/time below.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{reservation && (\r\n\t\t\t\t\t\t<p className='heading-primary-subheading-update'>\r\n\t\t\t\t\t\t\t{format(new Date(reservation.hourFrom.slice(0, -1)), 'MM/dd/yy')}{' '}\r\n\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t{format(\r\n\t\t\t\t\t\t\t\tnew Date(reservation.hourFrom.slice(0, -1)),\r\n\t\t\t\t\t\t\t\t'h aaa'\r\n\t\t\t\t\t\t\t)} - {format(new Date(reservation.hourTo.slice(0, -1)), 'h aaa')}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{!changeDate && reservation && <Alert type='2' />}\r\n\t\t\t\t\t{reservation && loggedUser && loggedUser.type === 'admin' && (\r\n\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t<p className='reservation-form-item'>\r\n\t\t\t\t\t\t\t\t<span className='reservation-form-title'>Status:</span>{' '}\r\n\t\t\t\t\t\t\t\t{reservation.status.charAt(0).toUpperCase() +\r\n\t\t\t\t\t\t\t\t\treservation.status.slice(1)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{reservation.status !== 'unpaid' &&\r\n\t\t\t\t\t\t\t\treservation.status !== 'requested' && (\r\n\t\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t\t<p className='reservation-form-item'>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='reservation-form-title'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tPayment method:\r\n\t\t\t\t\t\t\t\t\t\t\t</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t{reservation.paymentId ? 'Paypal' : 'Cash'}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t{reservation.paymentId && (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className='reservation-form-item'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className='reservation-form-title'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tPayPal ID:\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{reservation.paymentId}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{loggedUser && loggedUser.type === 'admin' && (\r\n\t\t\t\t\t\t<UserField\r\n\t\t\t\t\t\t\tselectFinalUser={(user) => {\r\n\t\t\t\t\t\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\tuser: user ? user.id : null,\r\n\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\treservationUser={reservation ? user : null}\r\n\t\t\t\t\t\t\tsearchDisplay={searchDisplay}\r\n\t\t\t\t\t\t\tswitchDisplay={(show) =>\r\n\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, searchDisplay: show }))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclear={clear}\r\n\t\t\t\t\t\t\tcompleteClear={() =>\r\n\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, clear: false }))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tautoComplete='new-password'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvalue={address}\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\tid='address'\r\n\t\t\t\t\t\t\tplaceholder='Address'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label htmlFor='address' className='form__label'>\r\n\t\t\t\t\t\t\tAddress\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='jobs-list'>\r\n\t\t\t\t\t\t<p className='jobs-list-title'>Jobs List</p>\r\n\t\t\t\t\t\t{jobs.length > 0 &&\r\n\t\t\t\t\t\t\tjobs.map((item, i) => (\r\n\t\t\t\t\t\t\t\t<div className='jobs-list-item' key={i}>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName={`jobs-list-item-group ${disabled ? 'full' : ''}`}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<p className='jobs-list-item-title'>Job {i + 1}</p>\r\n\t\t\t\t\t\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`form__input ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.jobId === '' ? 'empty' : ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tid={i}\r\n\t\t\t\t\t\t\t\t\t\t\t\tname='jobId'\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.jobId}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsearchDisplay: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChangeJobs}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=''>* Type of Job</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{jobsList.length > 0 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tjobsList.map((job) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment key={`jl-${i}-${job.id}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{jobListItem(job, i)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\t\thtmlFor='item'\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`form__label ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.jobId === '' ? 'hide' : ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tType of Job\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{loggedUser.type === 'admin' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChangeJobs}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={i}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname='value'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Job Value'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label htmlFor={i} className='form__label'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tJob Value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`form__group ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.discount === null ? 'hide' : ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='form__group-sub'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='form__group-sub-item'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Discount'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname='discount'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={i}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChangeJobsDiscount}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.discount !== null ? item.discount : ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label htmlFor='discount' className='form__label'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDiscount\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='form__group-sub-item'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Percentage'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname='percentage'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={i}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChangeJobsDiscount}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.discount !== null ? percentage[i] : ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thtmlFor='percentage'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form__label'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPercentage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t{((reservation &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t(reservation.status === 'requested' ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treservation.status === 'unpaid')) ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!reservation) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='form__group switch'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form__label-switch'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thtmlFor='discountChk'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDiscount\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid='discountChk'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={item.discount !== null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.persist();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!e.target.checked) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjobs[i].discount = null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpercentage[i] = null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjobs[i].discount = '';\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpercentage[i] = '';\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjobs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...(jobs[i].discount == null && {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttotal: getTotal(travelExpenses),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}));\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpercentage,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form__input-switch'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\titem.value && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='jobs-list-item-price'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<table>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className='text-dark'>Value:</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>&nbsp;${item.value}&nbsp;</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.discount !== null && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className='text-dark'>Discount:</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${item.discount} ({percentage[i]}% off)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{!disabled && (\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\tjobs.splice(i, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\tpercentage.splice(i, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tjobs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttotal: getTotal(travelExpenses),\r\n\t\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, percentage }));\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-trash-alt'></i>\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t{!disabled && (\r\n\t\t\t\t\t\t\t<div className='btn-right'>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='btn btn-quaternary'\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\tjobs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t...jobs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid: 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tjobId: '',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: '',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdiscount: null,\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\tpercentage.push(null);\r\n\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, percentage }));\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-plus'></i> &nbsp; Job\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className={`form__group ${comments === null ? 'hide' : 'show'}`}>\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tclassName='form__input textarea'\r\n\t\t\t\t\t\t\tvalue={comments === null ? '' : comments}\r\n\t\t\t\t\t\t\tid='comments'\r\n\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\trows='3'\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\tplaceholder='Special Request'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label htmlFor='comments' className='form__label'>\r\n\t\t\t\t\t\t\tSpecial Request\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{(!reservation ||\r\n\t\t\t\t\t\t(reservation &&\r\n\t\t\t\t\t\t\t(reservation.status === 'requested' ||\r\n\t\t\t\t\t\t\t\treservation.status === 'unpaid'))) && (\r\n\t\t\t\t\t\t<div className='form__group switch'>\r\n\t\t\t\t\t\t\t<label className='form__label-switch' htmlFor='commentsChk'>\r\n\t\t\t\t\t\t\t\tSpecial Request\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tchecked={comments !== null}\r\n\t\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\t\tid='commentsChk'\r\n\t\t\t\t\t\t\t\tname='commentsChk'\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\te.persist();\r\n\t\t\t\t\t\t\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\tcomments: e.target.checked ? '' : null,\r\n\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tclassName='form__input-switch'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{(loggedUser.type === 'admin' ||\r\n\t\t\t\t\t\t(loggedUser.type === 'customer' && travelExpenses !== null)) && (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={`form__group ${\r\n\t\t\t\t\t\t\t\ttravelExpenses === null ? 'hide' : 'show'\r\n\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tvalue={travelExpenses !== null ? travelExpenses : ''}\r\n\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\tdisabled={disabled || loggedUser.type === 'customer'}\r\n\t\t\t\t\t\t\t\tid='travelExpenses'\r\n\t\t\t\t\t\t\t\tplaceholder='Travel Expenses'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<label htmlFor='travelExpenses' className='form__label'>\r\n\t\t\t\t\t\t\t\tTravel Expenses\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{loggedUser.type === 'admin' &&\r\n\t\t\t\t\t\t((reservation &&\r\n\t\t\t\t\t\t\t(reservation.status === 'requested' ||\r\n\t\t\t\t\t\t\t\treservation.status === 'unpaid')) ||\r\n\t\t\t\t\t\t\t!reservation) && (\r\n\t\t\t\t\t\t\t<div className='form__group switch'>\r\n\t\t\t\t\t\t\t\t<label className='form__label-switch' htmlFor='travelExpChk'>\r\n\t\t\t\t\t\t\t\t\tTravel Expenses\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tchecked={travelExpenses !== null}\r\n\t\t\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\t\t\tid='travelExpChk'\r\n\t\t\t\t\t\t\t\t\tname='travelExpChk'\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.persist();\r\n\t\t\t\t\t\t\t\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\ttravelExpenses: e.target.checked ? '' : null,\r\n\t\t\t\t\t\t\t\t\t\t\t...(!e.target.checked && { total: getTotal(null) }),\r\n\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName='form__input-switch'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t{refundReason !== null && (\r\n\t\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tclassName='form__input textarea'\r\n\t\t\t\t\t\t\t\tvalue={refundReason}\r\n\t\t\t\t\t\t\t\tid='refundReason'\r\n\t\t\t\t\t\t\t\trows='3'\r\n\t\t\t\t\t\t\t\tdisabled={loggedUser.type === 'customer'}\r\n\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\tplaceholder='Refund Reason'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<label htmlFor='refundReason' className='form__label'>\r\n\t\t\t\t\t\t\t\tRefund Reason\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{total !== '' && total !== 0 && (\r\n\t\t\t\t\t\t<h4 className='reservation-form-total'>\r\n\t\t\t\t\t\t\t<span className='reservation-form-total-title'>Total:</span> $\r\n\t\t\t\t\t\t\t{total}\r\n\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{reservation &&\r\n\t\t\t\t\t\treservation.status !== 'canceled' &&\r\n\t\t\t\t\t\treservation.status !== 'completed' && (\r\n\t\t\t\t\t\t\t<div className='btn-center'>\r\n\t\t\t\t\t\t\t\t{!changeDate &&\r\n\t\t\t\t\t\t\t\t\t(reservation.status !== 'paid' ||\r\n\t\t\t\t\t\t\t\t\t\t(refundReason !== null && loggedUser.type === 'admin')) && (\r\n\t\t\t\t\t\t\t\t\t\t<button className='btn' type='submit'>\r\n\t\t\t\t\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{location.pathname !== '/schedule' && (\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn'\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\tif (!changeDate) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tschedule.current.scrollIntoView(true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}, 30);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\tchangeDate: !changeDate,\r\n\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{changeDate ? 'Keep Date' : 'Change Date'}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t\t<div ref={schedule}>\r\n\t\t\t\t{(changeDate || !reservation) && (\r\n\t\t\t\t\t<Schedule setToggleModal={setToggleModal} reservation={formData} />\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tjob: state.job,\r\n\tauth: state.auth,\r\n\tjobsXreservation: state.jobsXreservation,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tupdateReservation,\r\n\tloadReservationJobs,\r\n\tclearJobsXReservations,\r\n})(withRouter(ReservationForm));\r\n","import React, { useEffect, Fragment } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { updatePayment, makePayment } from '../../actions/reservation';\r\nimport {\r\n\tloadReservationJobs,\r\n\tclearJobsXReservations,\r\n} from '../../actions/jobsXReservations';\r\n\r\nimport Alert from '../layouts/Alert';\r\n\r\nconst PayPal = ({\r\n\treservation,\r\n\tloadReservationJobs,\r\n\tclearJobsXReservations,\r\n\tupdatePayment,\r\n\tmakePayment,\r\n\tsetToggleModal,\r\n\tauth: { loggedUser },\r\n\tjobsXreservation: { jobsXreservations, loading },\r\n}) => {\r\n\tconst PayPalButton = window.paypal ? window.paypal.Buttons.driver('react', { React, ReactDOM }): undefined;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (loading && reservation) loadReservationJobs(reservation.id, 'full');\r\n\t}, [loading, reservation, loadReservationJobs]);\r\n\r\n\treturn (\r\n\t\t<div className='payment'>\r\n\t\t\t<h3 className='heading-primary-subheading'>\r\n\t\t\t\tReservation Payment: &nbsp; ${reservation && reservation.total}\r\n\t\t\t</h3>\r\n\t\t\t<Alert type='2' />\r\n\t\t\t{loggedUser && loggedUser.type === 'admin' && (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='btn btn-tertiary'\r\n\t\t\t\t\t\tonClick={async () => {\r\n\t\t\t\t\t\t\tconst answer = await updatePayment(reservation.id);\r\n\t\t\t\t\t\t\tif (answer) setToggleModal();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tPay Cash\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<p className='payment-text'>OR</p>\r\n\t\t\t\t</ Fragment>\r\n\t\t\t)}\r\n\r\n\t\t\t{ PayPalButton  && (<PayPalButton\r\n\t\t\t\tcreateOrder={async () => {\r\n\t\t\t\t\tconst jobs =\r\n\t\t\t\t\t\treservation.travelExpenses === null\r\n\t\t\t\t\t\t\t? jobsXreservations\r\n\t\t\t\t\t\t\t: [\r\n\t\t\t\t\t\t\t\t\t...jobsXreservations,\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tvalue: reservation.travelExpenses,\r\n\t\t\t\t\t\t\t\t\t\tjob: { title: 'Travel Expenses' },\r\n\t\t\t\t\t\t\t\t\t\tdiscount: null,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t  ];\r\n\t\t\t\t\tconst payment = await makePayment({\r\n\t\t\t\t\t\tjobs,\r\n\t\t\t\t\t\ttotal: reservation.total,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconsole.log(payment);\r\n\t\t\t\t\treturn payment.id;\r\n\t\t\t\t}}\r\n\t\t\t\tonApprove={async (data, actions) => {\r\n\t\t\t\t\tconst order = await actions.order.capture();\r\n\t\t\t\t\tconst answer = await updatePayment(reservation.id, {\r\n\t\t\t\t\t\tpaymentId: order.id,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (answer) {\r\n\t\t\t\t\t\tsetToggleModal();\r\n\t\t\t\t\t\tclearJobsXReservations();\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tonError={(err) => console.log(err)}\r\n\t\t\t/>)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n\tjobsXreservation: state.jobsXreservation,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tupdatePayment,\r\n\tmakePayment,\r\n\tloadReservationJobs,\r\n\tclearJobsXReservations,\r\n})(PayPal);\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport Alert from '../layouts/Alert';\r\n\r\nconst EmailForm = ({ setToggleModal, toggleModal, confirm, users }) => {\r\n\tconst [formData, setFormData] = useState({\r\n\t\tsubject: '',\r\n\t\tmessage: '',\r\n\t});\r\n\r\n\tconst { subject, message } = formData;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!toggleModal) setFormData({ subject: '', message: '' });\r\n\t}, [toggleModal]);\r\n\r\n\tconst onChange = (e) => {\r\n\t\te.persist();\r\n\t\tsetFormData((prev) => ({ ...prev, [e.target.id]: e.target.value }));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form\r\n\t\t\tclassName='form'\r\n\t\t\tonSubmit={(e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tconfirm({ ...formData, users });\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<h3 className='heading-primary-subheading'>Outreach Email:</h3>\r\n\t\t\t<Alert type='2' />\r\n\t\t\t<h5 className='popup-email-item'>\r\n\t\t\t\t<span className='popup-email-title'>To: </span>\r\n\t\t\t\t{users.map((email, i) =>\r\n\t\t\t\t\ti + 1 !== users.length ? email + ', ' : email + '.'\r\n\t\t\t\t)}\r\n\t\t\t</h5>\r\n\t\t\t<div className='form__group'>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tvalue={subject}\r\n\t\t\t\t\tid='subject'\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tplaceholder='Subject'\r\n\t\t\t\t/>\r\n\t\t\t\t<label htmlFor='subject' className='form__label'>\r\n\t\t\t\t\tSubject\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<div className='form__group'>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tclassName='form__input textarea'\r\n\t\t\t\t\tvalue={message}\r\n\t\t\t\t\trows='5'\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tplaceholder='Email Message'\r\n\t\t\t\t\tid='message'\r\n\t\t\t\t/>\r\n\t\t\t\t<label htmlFor='message' className='form__label'>\r\n\t\t\t\t\tEmail Message\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='popup-btns'>\r\n\t\t\t\t<button type='submit' className='btn btn-success'>\r\n\t\t\t\t\tSend\r\n\t\t\t\t</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype='button'\r\n\t\t\t\t\tclassName='btn btn-danger'\r\n\t\t\t\t\tonClick={setToggleModal}\r\n\t\t\t\t>\r\n\t\t\t\t\tCancel\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default EmailForm;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport Alert from '../layouts/Alert';\r\n\r\nconst RefundForm = ({ confirm, setToggleModal, reservation }) => {\r\n\tconst regex = /^[0-9]+(\\.([0-9]{1,2})?)?$/;\r\n\r\n\tconst [formData, setFormData] = useState({\r\n\t\tamount: '',\r\n\t\trefundReason: '',\r\n\t});\r\n\r\n\tconst { amount, refundReason } = formData;\r\n\r\n\tuseEffect(() => {\r\n\t\tsetFormData((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\tamount: '',\r\n\t\t\trefundReason: '',\r\n\t\t}));\r\n\t}, [confirm]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (reservation && reservation.refundReason !== null)\r\n\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\trefundReason: reservation.refundReason,\r\n\t\t\t}));\r\n\t}, [reservation]);\r\n\r\n\tconst onChange = (e) => {\r\n\t\te.persist();\r\n\t\tif (\r\n\t\t\te.target.id !== 'amount' ||\r\n\t\t\te.target.value === '' ||\r\n\t\t\t(regex.test(e.target.value) &&\r\n\t\t\t\treservation.total >= Number(e.target.value))\r\n\t\t)\r\n\t\t\tsetFormData((prev) => ({ ...prev, [e.target.id]: e.target.value }));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form\r\n\t\t\tclassName='form'\r\n\t\t\tonSubmit={(e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tconfirm(formData);\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<h3 className='heading-primary-subheading'>\r\n\t\t\t\tReservation Total: &nbsp; ${reservation && reservation.total}\r\n\t\t\t</h3>\r\n\t\t\t<Alert type='2' />\r\n\t\t\t<div className='form__group'>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tvalue={amount}\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tid='amount'\r\n\t\t\t\t\tplaceholder='Refund'\r\n\t\t\t\t/>\r\n\t\t\t\t<label htmlFor='amount' className='form__label'>\r\n\t\t\t\t\tRefund\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<div className='form__group'>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tclassName='form__input textarea'\r\n\t\t\t\t\tvalue={refundReason}\r\n\t\t\t\t\tid='refundReason'\r\n\t\t\t\t\trows='3'\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tplaceholder='Refund Reason'\r\n\t\t\t\t/>\r\n\t\t\t\t<label htmlFor='refundReason' className='form__label'>\r\n\t\t\t\t\tRefund Reason\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='popup-btns'>\r\n\t\t\t\t<button className='btn btn-success' type='submit'>\r\n\t\t\t\t\tRefund\r\n\t\t\t\t</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype='button'\r\n\t\t\t\t\tclassName='btn btn-danger'\r\n\t\t\t\t\tonClick={setToggleModal}\r\n\t\t\t\t>\r\n\t\t\t\t\tCancel\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default RefundForm;\r\n","import React from 'react';\r\n\r\nimport logo from '../../../img/logoDRONE-dark-cropped-final.png';\r\nimport HourRangeForm from '../../HourRangeForm';\r\nimport JobForm from '../../JobForm';\r\nimport ReservationForm from '../../ReservationForm';\r\nimport PayPal from '../../PayPal';\r\nimport EmailForm from '../../EmailForm';\r\nimport RefundForm from '../../RefundForm';\r\n\r\nimport './PopUp.scss';\r\n\r\nconst PopUp = ({\r\n\ttoggleModal,\r\n\tsetToggleModal,\r\n\tconfirm,\r\n\ttext,\r\n\tsubtext,\r\n\ttype,\r\n\ttoUpdate,\r\n\tclearJobs,\r\n}) => {\r\n\tconst selectType = () => {\r\n\t\tswitch (type) {\r\n\t\t\tcase 'confirmation':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className='popup-text'>\r\n\t\t\t\t\t\t<p>{text}</p>\r\n\t\t\t\t\t\t{subtext ? <p>{subtext}</p> : ''}\r\n\t\t\t\t\t\t<div className='popup-btns'>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName='btn btn-success'\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tconfirm();\r\n\t\t\t\t\t\t\t\t\tsetToggleModal();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tOK\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\tclassName='btn btn-danger'\r\n\t\t\t\t\t\t\t\tonClick={setToggleModal}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tcase 'schedule':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className='popup-schedule wrapper wrapper-popup'>\r\n\t\t\t\t\t\t<ReservationForm\r\n\t\t\t\t\t\t\treservation={toUpdate}\r\n\t\t\t\t\t\t\tsetToggleModal={setToggleModal}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tcase 'job':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className='popup-job wrapper wrapper-popup'>\r\n\t\t\t\t\t\t<JobForm\r\n\t\t\t\t\t\t\ttoggleModal={toggleModal}\r\n\t\t\t\t\t\t\tconfirm={confirm}\r\n\t\t\t\t\t\t\tjob={toUpdate}\r\n\t\t\t\t\t\t\tsetToggleModal={setToggleModal}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tcase 'hour':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className='popup-hour wrapper wrapper-popup'>\r\n\t\t\t\t\t\t<HourRangeForm setToggleModal={setToggleModal} confirm={confirm} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tcase 'payment':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className='popup-payment'>\r\n\t\t\t\t\t\t<PayPal reservation={toUpdate} setToggleModal={setToggleModal} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tcase 'email':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className='popup-email'>\r\n\t\t\t\t\t\t<EmailForm\r\n\t\t\t\t\t\t\ttoggleModal={toggleModal}\r\n\t\t\t\t\t\t\tconfirm={confirm}\r\n\t\t\t\t\t\t\tsetToggleModal={setToggleModal}\r\n\t\t\t\t\t\t\tusers={toUpdate}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tcase 'refund':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className='popup-refund'>\r\n\t\t\t\t\t\t<RefundForm\r\n\t\t\t\t\t\t\tconfirm={confirm}\r\n\t\t\t\t\t\t\tsetToggleModal={setToggleModal}\r\n\t\t\t\t\t\t\treservation={toUpdate}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={`blurr-bg popup ${!toggleModal ? 'hide' : ''}`}>\r\n\t\t\t<div className={`popup-content ${type}`}>\r\n\t\t\t\t<div className='popup-heading'>\r\n\t\t\t\t\t<img className='popup-heading-img' src={logo} alt='logo' />\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetToggleModal();\r\n\t\t\t\t\t\t\tif (clearJobs) clearJobs();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tclassName='popup-heading-btn'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<i className='fas fa-times'></i>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t{selectType()}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PopUp;\r\n","import React, { useEffect, useState, useRef, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { format } from 'date-fns';\r\n\r\nimport { loadJobs } from '../../../actions/jobs';\r\nimport {\r\n\tloadReservations,\r\n\tdeleteReservation,\r\n} from '../../../actions/reservation';\r\nimport { clearJobsXReservations } from '../../../actions/jobsXReservations';\r\n\r\nimport Alert from '../../layouts/Alert';\r\nimport Loading from '../../layouts/Loading';\r\nimport PopUp from '../../layouts/PopUp';\r\n\r\nimport './Reservation.scss';\r\nimport ReservationForm from '../../ReservationForm';\r\n\r\nconst Reservation = ({\r\n\tauth: { loggedUser, token },\r\n\treservation: { reservations, loading: loadingReservations },\r\n\tjob: { loading },\r\n\tloadJobs,\r\n\tloadReservations,\r\n\tdeleteReservation,\r\n\tclearJobsXReservations,\r\n\tmatch,\r\n}) => {\r\n\tconst list = useRef();\r\n\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\treservation: null,\r\n\t\ttoggleModal: false,\r\n\t\tposition: 0,\r\n\t\teditReservation:\r\n\t\t\tmatch.params.job_id && match.params.job_id !== '0' ? true : false,\r\n\t\tcheckout: false,\r\n\t});\r\n\r\n\tconst { reservation, toggleModal, position, editReservation, checkout } =\r\n\t\tadminValues;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (loading && token) loadJobs({}, true);\r\n\t\tif (loggedUser && loggedUser.type !== 'admin' && loadingReservations)\r\n\t\t\tloadReservations({ hourFrom: new Date(), user: loggedUser.id }, true);\r\n\t}, [\r\n\t\tloading,\r\n\t\tloadJobs,\r\n\t\tloggedUser,\r\n\t\tloadReservations,\r\n\t\tloadingReservations,\r\n\t\ttoken,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!loadingReservations) {\r\n\t\t\tconst item = list.current.getBoundingClientRect();\r\n\t\t\tconst scrollTop =\r\n\t\t\t\twindow.pageYOffset || document.documentElement.scrollTop;\r\n\r\n\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\tposition: item.bottom + scrollTop - 60,\r\n\t\t\t}));\r\n\t\t\tif (match.params.job_id && match.params.job_id !== '0')\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\twindow.scrollTo(0, item.bottom + scrollTop);\r\n\t\t\t\t}, 30);\r\n\t\t}\r\n\t}, [loadingReservations, match.params.job_id]);\r\n\r\n\treturn (\r\n\t\t<div className='reservation'>\r\n\t\t\t<Loading />\r\n\t\t\t<h2 className='heading-primary'>Reservations</h2>\r\n\t\t\t<PopUp\r\n\t\t\t\ttype='confirmation'\r\n\t\t\t\ttoggleModal={toggleModal}\r\n\t\t\t\tsetToggleModal={() =>\r\n\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\ttoggleModal: !toggleModal,\r\n\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\t\t\t\tconfirm={() => {\r\n\t\t\t\t\tdeleteReservation(reservation);\r\n\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, reservation: null }));\r\n\t\t\t\t}}\r\n\t\t\t\ttext={`Are you sure you want to ${\r\n\t\t\t\t\treservation && reservation.status !== 'paid' ? 'delete' : 'cancel'\r\n\t\t\t\t} the reservation?`}\r\n\t\t\t\tsubtext={\r\n\t\t\t\t\treservation && reservation.status === 'paid'\r\n\t\t\t\t\t\t? 'A refund will be placed through paypal.'\r\n\t\t\t\t\t\t: ''\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t{checkout && (\r\n\t\t\t\t<PopUp\r\n\t\t\t\t\ttype='payment'\r\n\t\t\t\t\ttoUpdate={reservation}\r\n\t\t\t\t\tsetToggleModal={() =>\r\n\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\tcheckout: false,\r\n\t\t\t\t\t\t\treservation: null,\r\n\t\t\t\t\t\t}))\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclearJobs={clearJobsXReservations}\r\n\t\t\t\t\ttoggleModal={checkout}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\r\n\t\t\t<Alert type='1' />\r\n\t\t\t{!loggedUser ? (\r\n\t\t\t\t<h5 className='heading-primary-subheading error'>\r\n\t\t\t\t\tYou need to be logged in to make a reservation. &nbsp;\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto='/login'\r\n\t\t\t\t\t\tonClick={() => window.scrollTo(0, 0)}\r\n\t\t\t\t\t\tclassName='btn-link'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tLogin\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</h5>\r\n\t\t\t) : (\r\n\t\t\t\tloggedUser.cel === '0' && (\r\n\t\t\t\t\t<h5 className='heading-primary-subheading error'>\r\n\t\t\t\t\t\tYou need to save your cellphone in your profile to make a\r\n\t\t\t\t\t\treservation. &nbsp;\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tto='/profile'\r\n\t\t\t\t\t\t\tonClick={() => window.scrollTo(0, 0)}\r\n\t\t\t\t\t\t\tclassName='btn-link'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tProfile\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</h5>\r\n\t\t\t\t)\r\n\t\t\t)}\r\n\t\t\t{loggedUser && (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t<div className='reservation-list' ref={list}>\r\n\t\t\t\t\t\t{!loadingReservations && reservations.length > 0 ? (\r\n\t\t\t\t\t\t\treservations.map((res, i) => (\r\n\t\t\t\t\t\t\t\t<div className='reservation-item' key={res.id}>\r\n\t\t\t\t\t\t\t\t\t<div className='reservation-item-date'>\r\n\t\t\t\t\t\t\t\t\t\t<span className='date'>\r\n\t\t\t\t\t\t\t\t\t\t\t{format(new Date(res.hourFrom.slice(0, -1)), 'MM/dd/yy')}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t{format(new Date(res.hourFrom.slice(0, -1)), 'h aaa')} -{' '}\r\n\t\t\t\t\t\t\t\t\t\t{format(new Date(res.hourTo.slice(0, -1)), 'h aaa')}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='reservation-item-status'>\r\n\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='reservation-item-title'>Address: </span>\r\n\t\t\t\t\t\t\t\t\t\t\t{res.address}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='reservation-item-title'>Value: </span>\r\n\t\t\t\t\t\t\t\t\t\t\t{res.total ? '$' + res.total : 'Pending'}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='reservation-item-title'>Status: </span>\r\n\t\t\t\t\t\t\t\t\t\t\t{res.status.charAt(0).toUpperCase() + res.status.slice(1)}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='reservation-item-icons'>\r\n\t\t\t\t\t\t\t\t\t\t{res.status === 'unpaid' && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='tooltip'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treservation: res,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcheckout: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-dollar-sign'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className='tooltiptext'>Pay</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t<div className='tooltip'>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treservation: res,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\teditReservation: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}));\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, position);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, 30);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res.status !== 'refunded' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tres.status !== 'canceled' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-edit'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-search'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='tooltiptext'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res.status !== 'refunded' && res.status !== 'canceled'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'Edit'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'See details'}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{(res.status === 'requested' ||\r\n\t\t\t\t\t\t\t\t\t\t\tres.status === 'unpaid') && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='tooltip'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoggleModal: !toggleModal,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treservation: res,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-trash-alt'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className='tooltiptext'>Delete</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<h2 className='heading-primary-subheading'>\r\n\t\t\t\t\t\t\t\tNo Reservations Made\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{!loading && loggedUser.cel !== '0' && (\r\n\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t{!editReservation ? (\r\n\t\t\t\t\t\t\t\t<div className='btn-right'>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\teditReservation: true,\r\n\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, position);\r\n\t\t\t\t\t\t\t\t\t\t\t}, 30);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-primary'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-plus'></i> &nbsp; Reservation\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<ReservationForm\r\n\t\t\t\t\t\t\t\t\treservation={reservation}\r\n\t\t\t\t\t\t\t\t\tsetToggleModal={() =>\r\n\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\treservation: null,\r\n\t\t\t\t\t\t\t\t\t\t\teditReservation: false,\r\n\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Fragment>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n\tjob: state.job,\r\n\treservation: state.reservation,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tloadJobs,\r\n\tloadReservations,\r\n\tdeleteReservation,\r\n\tclearJobsXReservations,\r\n})(Reservation);\r\n","import React from 'react';\r\n\r\nconst DatesFiled = ({ onChange, onFocus, hourFrom, hourTo }) => {\r\n\treturn (\r\n\t\t<div className='form__group'>\r\n\t\t\t<div className='form__group-sub'>\r\n\t\t\t\t<div className='form__group-sub-item'>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='date'\r\n\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\tplaceholder='YYYY/MM/DD'\r\n\t\t\t\t\t\tid='hourFrom'\r\n\t\t\t\t\t\tvalue={hourFrom}\r\n\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\tonFocus={onFocus}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label htmlFor='hourFrom' className='form__label'>\r\n\t\t\t\t\t\tFrom\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='form__group-sub-item'>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='date'\r\n\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\tid='hourTo'\r\n\t\t\t\t\t\tplaceholder='YYYY/MM/DD'\r\n\t\t\t\t\t\tmin={hourFrom !== '' ? hourFrom : null}\r\n\t\t\t\t\t\tonFocus={onFocus}\r\n\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\tvalue={hourTo}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label htmlFor='hourTo' className='form__label'>\r\n\t\t\t\t\t\tTo\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DatesFiled;\r\n","import React, { useEffect, useState, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { format } from 'date-fns';\r\n\r\nimport {\r\n\tloadReservations,\r\n\tdeleteReservation,\r\n\tcancelReservation,\r\n} from '../../../actions/reservation';\r\nimport { clearUsers } from '../../../actions/user';\r\nimport { loadJobs } from '../../../actions/jobs';\r\nimport { clearJobsXReservations } from '../../../actions/jobsXReservations';\r\n\r\nimport PopUp from '../../layouts/PopUp';\r\nimport Alert from '../../layouts/Alert';\r\n\r\nimport UserField from '../../UserField';\r\nimport DatesFiled from '../../DatesFiled';\r\n\r\nconst ReservationsList = ({\r\n\tdeleteReservation,\r\n\tloadReservations,\r\n\tcancelReservation,\r\n\tloadJobs,\r\n\treservation: { reservations, error, loading },\r\n\tclearUsers,\r\n\tclearJobsXReservations,\r\n}) => {\r\n\tconst initialValue = {\r\n\t\thourFrom: '',\r\n\t\thourTo: '',\r\n\t\tuser: '',\r\n\t\tstatus: '',\r\n\t};\r\n\tconst [formData, setFormData] = useState(initialValue);\r\n\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\ttoggleDeleteConf: false,\r\n\t\ttoggleReservation: false,\r\n\t\ttoggleRefund: false,\r\n\t\tshowFilter: false,\r\n\t\treservation: null,\r\n\t\tsearchDisplay: false,\r\n\t\tclear: false,\r\n\t\tcheckout: false,\r\n\t});\r\n\r\n\tconst { hourFrom, hourTo, status } = formData;\r\n\r\n\tconst {\r\n\t\ttoggleDeleteConf,\r\n\t\ttoggleReservation,\r\n\t\ttoggleRefund,\r\n\t\tshowFilter,\r\n\t\treservation,\r\n\t\tsearchDisplay,\r\n\t\tclear,\r\n\t\tcheckout,\r\n\t} = adminValues;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (loading) {\r\n\t\t\tloadJobs({}, true);\r\n\t\t\tloadReservations({ hourFrom: new Date() }, true);\r\n\t\t}\r\n\t}, [loading, loadReservations, loadJobs]);\r\n\r\n\tconst onChange = (e) => {\r\n\t\te.persist();\r\n\t\tsetFormData((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\t[e.target.id]: e.target.value,\r\n\t\t}));\r\n\t};\r\n\r\n\tconst onSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetFormData(initialValue);\r\n\t\tloadReservations(formData, false);\r\n\t\tsetAdminValues((prev) => ({ ...prev, clear: true }));\r\n\t};\r\n\r\n\tconst completeClear = () => {\r\n\t\tsetAdminValues((prev) => ({ ...prev, clear: false }));\r\n\t};\r\n\r\n\tconst setToggle = (type) => {\r\n\t\tsetAdminValues((prev) => ({ ...prev, [type]: ![type], reservation: null }));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='list'>\r\n\t\t\t<PopUp\r\n\t\t\t\ttype='refund'\r\n\t\t\t\ttoUpdate={reservation}\r\n\t\t\t\tconfirm={async (formData) => {\r\n\t\t\t\t\tconst answer = await cancelReservation(reservation, formData);\r\n\r\n\t\t\t\t\tif (answer)\r\n\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\ttoggleRefund: !toggleRefund,\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t}}\r\n\t\t\t\tsetToggleModal={() => setToggle('toggleRefund')}\r\n\t\t\t\ttoggleModal={toggleRefund}\r\n\t\t\t/>\r\n\t\t\t<PopUp\r\n\t\t\t\ttype='confirmation'\r\n\t\t\t\tconfirm={() => deleteReservation(reservation)}\r\n\t\t\t\tsetToggleModal={() => setToggle('toggleDeleteConf')}\r\n\t\t\t\ttoggleModal={toggleDeleteConf}\r\n\t\t\t\ttext='Are you sure you want to delete the reservation?'\r\n\t\t\t\tsubtext={\r\n\t\t\t\t\treservation &&\r\n\t\t\t\t\treservation.paymentId !== '' &&\r\n\t\t\t\t\treservation.status === 'paid' &&\r\n\t\t\t\t\t'A refund should be made before deleting it.'\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t{checkout && (\r\n\t\t\t\t<PopUp\r\n\t\t\t\t\ttype='payment'\r\n\t\t\t\t\tclearJobs={clearJobsXReservations}\r\n\t\t\t\t\ttoUpdate={reservation && reservation}\r\n\t\t\t\t\tsetToggleModal={() => setToggle('checkout')}\r\n\t\t\t\t\ttoggleModal={checkout}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\r\n\t\t\t{toggleReservation && (\r\n\t\t\t\t<PopUp\r\n\t\t\t\t\ttype='schedule'\r\n\t\t\t\t\tclearJobs={clearJobsXReservations}\r\n\t\t\t\t\ttoUpdate={reservation}\r\n\t\t\t\t\ttoggleModal={toggleReservation}\r\n\t\t\t\t\tsetToggleModal={() => setToggle('toggleReservation')}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\r\n\t\t\t<h2 className='heading-primary'>Reservations</h2>\r\n\r\n\t\t\t<Alert type='1' />\r\n\t\t\t<form className='form filter' onSubmit={onSubmit}>\r\n\t\t\t\t<p className='filter-title'>Filter</p>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='filter-icon'\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, showFilter: !showFilter }));\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{showFilter ? (\r\n\t\t\t\t\t\t<i className='fas fa-chevron-up'></i>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<i className='fas fa-chevron-down'></i>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</button>\r\n\t\t\t\t<div className={`filter-content ${!showFilter ? 'hide' : ''}`}>\r\n\t\t\t\t\t<DatesFiled\r\n\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\tsearchDisplay: false,\r\n\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\thourFrom={hourFrom}\r\n\t\t\t\t\t\thourTo={hourTo}\r\n\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<UserField\r\n\t\t\t\t\t\tselectFinalUser={(user) => {\r\n\t\t\t\t\t\t\tsetFormData((prev) => ({ ...prev, user: user ? user.id : '' }));\r\n\t\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, searchDisplay: false }));\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsearchDisplay={searchDisplay}\r\n\t\t\t\t\t\tswitchDisplay={(show) =>\r\n\t\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, searchDisplay: show }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tclear={clear}\r\n\t\t\t\t\t\tcompleteClear={completeClear}\r\n\t\t\t\t\t\tautoComplete='off'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclassName={`form__input ${status === '' ? 'empty' : ''}`}\r\n\t\t\t\t\t\t\tid='status'\r\n\t\t\t\t\t\t\tvalue={status}\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\tsearchDisplay: false,\r\n\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=''>* Status</option>\r\n\t\t\t\t\t\t\t<option value='requested'>Requested</option>\r\n\t\t\t\t\t\t\t<option value='unpaid'>Unpaid</option>\r\n\t\t\t\t\t\t\t<option value='pending'>Pending</option>\r\n\t\t\t\t\t\t\t<option value='paid'>Paid</option>\r\n\t\t\t\t\t\t\t<option value='completed'>Completed</option>\r\n\t\t\t\t\t\t\t<option value='canceled'>Canceled</option>\r\n\t\t\t\t\t\t\t<option value='refunded'>Refunded</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\thtmlFor='staus'\r\n\t\t\t\t\t\t\tclassName={`form__label ${status === '' ? 'hide' : ''}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tStatus\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button type='submit' className='btn btn-tertiary'>\r\n\t\t\t\t\t\t<i className='fas fa-search'></i>&nbsp; Search\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t\t{!loading && (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t{reservations.length > 0 ? (\r\n\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t<div className='wrapper'>\r\n\t\t\t\t\t\t\t\t<table className='icon-6'>\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Date</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>From</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>To</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>User</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Status</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t{reservations.map((res) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={res.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{format(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnew Date(res.hourFrom.slice(0, -1)),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'MM/dd/yy'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{format(new Date(res.hourFrom.slice(0, -1)), 'h aaa')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{format(new Date(res.hourTo.slice(0, -1)), 'h aaa')}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclearUsers();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-link text-dark'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/edit-user/${res.user.id}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>{`${res.user.name} ${res.user.lastname}`}</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{res.status.charAt(0).toUpperCase() +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.status.slice(1)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{res.status === 'unpaid' && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='tooltip'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcheckout: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treservation: res,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-dollar-sign'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className='tooltiptext'>Pay</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{res.status === 'paid' && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='tooltip'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoggleRefund: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treservation: res,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-redo-alt'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className='tooltiptext'>Refund</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='tooltip'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoggleReservation: !toggleReservation,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treservation: res,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.status !== 'refunded' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.status !== 'completed' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.status !== 'canceled' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-edit'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-search'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className='tooltiptext'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.status !== 'refunded' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.status !== 'completed' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.status !== 'canceled'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'Edit'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'See details'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='tooltip'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoggleDeleteConf: !toggleDeleteConf,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treservation: res,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-trash-alt'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className='tooltiptext'>Delete</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='list-total'>\r\n\t\t\t\t\t\t\t\t<span className='list-total-title text-dark'>Total:</span>\r\n\t\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t\t{reservations.length}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<h3 className='heading-primary-subheading u-center-text text-danger'>\r\n\t\t\t\t\t\t\t{error.msg}\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className='btn-right'>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\ttoggleReservation: !toggleReservation,\r\n\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName='btn btn-primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<i className='fas fa-plus'></i> &nbsp; Reservation\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Fragment>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\treservation: state.reservation,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tloadReservations,\r\n\tdeleteReservation,\r\n\tcancelReservation,\r\n\tclearUsers,\r\n\tloadJobs,\r\n\tclearJobsXReservations,\r\n})(ReservationsList);\r\n","import React, { useEffect, useState, Fragment } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { loadJobs, deleteJob, registerUpdateJob } from '../../../actions/jobs';\r\n\r\nimport PopUp from '../../layouts/PopUp';\r\nimport Alert from '../../layouts/Alert';\r\n\r\nconst JobsList = ({\r\n\tloadJobs,\r\n\tdeleteJob,\r\n\tregisterUpdateJob,\r\n\tjob: { jobs, loading, error },\r\n}) => {\r\n\tconst [formData, setFormData] = useState({\r\n\t\ttitle: '',\r\n\t});\r\n\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\ttoggleDeleteConf: false,\r\n\t\ttoggleJob: false,\r\n\t\tshowFilter: false,\r\n\t\tjob: null,\r\n\t\tupdate: false,\r\n\t});\r\n\r\n\tconst { title } = formData;\r\n\r\n\tconst { toggleDeleteConf, toggleJob, showFilter, update, job } = adminValues;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (loading) loadJobs({});\r\n\t}, [loading, loadJobs]);\r\n\r\n\tconst onChange = (e) => {\r\n\t\te.persist();\r\n\t\tsetFormData((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\t[e.target.id]: e.target.value,\r\n\t\t}));\r\n\t};\r\n\r\n\tconst onSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetFormData({\r\n\t\t\ttitle: '',\r\n\t\t});\r\n\t\tloadJobs(formData);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='list'>\r\n\t\t\t<PopUp\r\n\t\t\t\ttype='confirmation'\r\n\t\t\t\tconfirm={() => deleteJob(job.id)}\r\n\t\t\t\tsetToggleModal={() =>\r\n\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\ttoggleDeleteConf: !toggleDeleteConf,\r\n\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\t\t\t\ttoggleModal={toggleDeleteConf}\r\n\t\t\t\ttext='Are you sure you want to delete the job?'\r\n\t\t\t/>\r\n\t\t\t<PopUp\r\n\t\t\t\ttype='job'\r\n\t\t\t\ttoUpdate={update ? job : null}\r\n\t\t\t\tconfirm={async (jobData) => {\r\n\t\t\t\t\tconst answer = await registerUpdateJob(jobData, job ? job.id : 0);\r\n\t\t\t\t\tif (answer)\r\n\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\ttoggleJob: false,\r\n\t\t\t\t\t\t\tjob: null,\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t}}\r\n\t\t\t\ttoggleModal={toggleJob}\r\n\t\t\t\tsetToggleModal={() =>\r\n\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\ttoggleJob: !toggleJob,\r\n\t\t\t\t\t\tjob: null,\r\n\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<h2 className='heading-primary'>Jobs</h2>\r\n\r\n\t\t\t<Alert type='1' />\r\n\t\t\t<form className='form filter' onSubmit={onSubmit}>\r\n\t\t\t\t<p className='filter-title'>Filter</p>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='filter-icon'\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, showFilter: !showFilter }));\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{showFilter ? (\r\n\t\t\t\t\t\t<i className='fas fa-chevron-up'></i>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<i className='fas fa-chevron-down'></i>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</button>\r\n\t\t\t\t<div className={`filter-content ${!showFilter ? 'hide' : ''}`}>\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tid='title'\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\tplaceholder='Title'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label htmlFor='title' className='form__label'>\r\n\t\t\t\t\t\t\tTitle\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button type='submit' className='btn btn-tertiary'>\r\n\t\t\t\t\t\t<i className='fas fa-search'></i>&nbsp; Search\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t\t{!loading && (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t{jobs.length > 0 ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div className='wrapper'>\r\n\t\t\t\t\t\t\t\t<table className='icon-2'>\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Title</th>\r\n\t\t\t\t\t\t\t\t\t\t\t{/* <th>Subtitle</th> */}\r\n\t\t\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t{jobs.map((job) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={job.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{job.title}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/* <td>{job.subtitle}</td> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='tooltip'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoggleJob: !toggleJob,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjob,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdate: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-edit'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className='tooltiptext'>Edit</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='tooltip'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoggleDeleteConf: !toggleDeleteConf,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjob,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-trash-alt'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className='tooltiptext'>Delete</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<h3 className='heading-primary-subheading u-center-text text-danger'>\r\n\t\t\t\t\t\t\t{error.msg}\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className='btn-right'>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\tupdate: false,\r\n\t\t\t\t\t\t\t\t\ttoggleJob: !toggleJob,\r\n\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName='btn btn-primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<i className='fas fa-plus'></i> &nbsp; Job\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Fragment>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tjob: state.job,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tloadJobs,\r\n\tdeleteJob,\r\n\tregisterUpdateJob,\r\n})(JobsList);\r\n","import React, { useState, useCallback, useEffect, Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Calendar from 'react-calendar';\r\nimport { connect } from 'react-redux';\r\nimport { format, isBefore, setHours, addHours, addYears } from 'date-fns';\r\n\r\nimport {\r\n\tcheckMonthSchedule,\r\n\tcheckDayAvailability,\r\n\tdisableDate,\r\n\tdisableDateRange,\r\n\tenableDate,\r\n} from '../../../actions/day';\r\nimport {\r\n\tloadReservations,\r\n\tdeleteReservation,\r\n\tclearReservations,\r\n\tdisableHourRange,\r\n} from '../../../actions/reservation';\r\nimport { clearUsers } from '../../../actions/user';\r\nimport { loadJobs } from '../../../actions/jobs';\r\nimport { clearJobsXReservations } from '../../../actions/jobsXReservations';\r\n\r\nimport Alert from '../../layouts/Alert';\r\n\r\nimport './ManageSchedule.scss';\r\nimport PopUp from '../../layouts/PopUp';\r\n\r\nconst ManageSchedule = ({\r\n\tday: { disabledDays, reservedDays, timeDisabledDays },\r\n\treservation: { loading, reservations },\r\n\tauth: { loggedUser },\r\n\tjob: { loading: loadingJobs },\r\n\tcheckMonthSchedule,\r\n\tcheckDayAvailability,\r\n\tloadReservations,\r\n\tdeleteReservation,\r\n\tdisableHourRange,\r\n\tdisableDate,\r\n\tenableDate,\r\n\tdisableDateRange,\r\n\tclearReservations,\r\n\tclearUsers,\r\n\tclearJobsXReservations,\r\n\tloadJobs,\r\n}) => {\r\n\tconst today = new Date();\r\n\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\tdate: new Date(),\r\n\t\ttab: 0,\r\n\t\trange: false,\r\n\t\tmonth: today.getMonth(),\r\n\t\tyear: today.getFullYear(),\r\n\t\ttoggleModal: false,\r\n\t\ttoggleReservation: false,\r\n\t\treservation: null,\r\n\t});\r\n\r\n\tconst {\r\n\t\tdate,\r\n\t\ttab,\r\n\t\trange,\r\n\t\tmonth,\r\n\t\tyear,\r\n\t\ttoggleModal,\r\n\t\ttoggleReservation,\r\n\t\treservation,\r\n\t} = adminValues;\r\n\r\n\tuseEffect(() => {\r\n\t\tcheckMonthSchedule(month, year);\r\n\t}, [checkMonthSchedule, month, year]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (loadingJobs) loadJobs({}, true);\r\n\t}, [loadingJobs, loadJobs]);\r\n\r\n\tconst onChangeDate = (changedDate) => {\r\n\t\tlet loadRes;\r\n\r\n\t\tif (!range) {\r\n\t\t\tchangedDate.setHours(0, 0, 0, 0);\r\n\r\n\t\t\tloadRes =\r\n\t\t\t\treservedDays.some((item) => {\r\n\t\t\t\t\tconst pastDate = new Date(item);\r\n\t\t\t\t\treturn pastDate.getUTCDate() === changedDate.getDate();\r\n\t\t\t\t}) ||\r\n\t\t\t\ttimeDisabledDays.some((item) => {\r\n\t\t\t\t\tconst pastDate = new Date(item);\r\n\t\t\t\t\treturn pastDate.getUTCDate() === changedDate.getDate();\r\n\t\t\t\t});\r\n\r\n\t\t\tif (loadRes)\r\n\t\t\t\tloadReservations({\r\n\t\t\t\t\thourFrom: changedDate,\r\n\t\t\t\t\thourTo: changedDate,\r\n\t\t\t\t\ttype: 'all',\r\n\t\t\t\t\tavailable: true,\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\tsetAdminValues((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\tdate: changedDate,\r\n\t\t\ttab: range ? 3 : loadRes ? 1 : 2,\r\n\t\t}));\r\n\t};\r\n\r\n\tconst tileClassName = useCallback(\r\n\t\t(info) => {\r\n\t\t\tconst list = [reservedDays, disabledDays, timeDisabledDays];\r\n\t\t\tconst classes = ['reserved', 'disabled', 'time-disabled'];\r\n\r\n\t\t\tif (info.view === 'month')\r\n\t\t\t\tfor (let x = 0; x < list.length; x++) {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tlist[x].some(\r\n\t\t\t\t\t\t\t(item) =>\r\n\t\t\t\t\t\t\t\tformat(new Date(item.slice(0, -1)), 'dd/MM/yyyy') ===\r\n\t\t\t\t\t\t\t\tformat(info.date, 'dd/MM/yyyy')\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t\treturn classes[x];\r\n\t\t\t\t}\r\n\t\t},\r\n\t\t[disabledDays, reservedDays, timeDisabledDays]\r\n\t);\r\n\r\n\tconst tileDisabled = useCallback(({ date, view }) => {\r\n\t\tif (view === 'month') return date.getDay() === 6 || date.getDay() === 0;\r\n\t}, []);\r\n\r\n\tconst tabOpen = () => {\r\n\t\tswitch (tab) {\r\n\t\t\tcase 0:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t<h5 className='manage-schedule-details-title'>Select a Date</h5>\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t);\r\n\t\t\tcase 1:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t!loading && (\r\n\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t<Alert type='1' />\r\n\t\t\t\t\t\t\t<h5 className='manage-schedule-details-title'>\r\n\t\t\t\t\t\t\t\t{reservations.every((item) => item.status === 'hourRange')\r\n\t\t\t\t\t\t\t\t\t? 'Unavailable Time Ranges'\r\n\t\t\t\t\t\t\t\t\t: 'Reservations'}{' '}\r\n\t\t\t\t\t\t\t\t- {format(date, 'MM/dd/yy')}\r\n\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t<div className='manage-schedule-details-res'>\r\n\t\t\t\t\t\t\t\t{reservations.map((item) => (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName={`manage-schedule-details-item tooltip ${\r\n\t\t\t\t\t\t\t\t\t\t\titem.status === 'hourRange' && 'disabled'\r\n\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t{format(new Date(item.hourFrom.slice(0, -1)), 'h aaa')}\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp; - &nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t{format(\r\n\t\t\t\t\t\t\t\t\t\t\t\titem.status !== 'hourRange'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? new Date(item.hourTo.slice(0, -1))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: addHours(new Date(item.hourTo.slice(0, -1)), 1),\r\n\t\t\t\t\t\t\t\t\t\t\t\t'h aaa'\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tclearUsers();\r\n\t\t\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn-link'\r\n\t\t\t\t\t\t\t\t\t\t\tto={`/edit-user/${item.user.id}`}\r\n\t\t\t\t\t\t\t\t\t\t>{`${item.user.name} ${item.user.lastname}`}</Link>\r\n\t\t\t\t\t\t\t\t\t\t{item.status !== 'hourRange' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoggleReservation: !toggleReservation,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treservation: item,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-search'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (reservations.length === 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, tab: 2 }));\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteReservation(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treservations.length === 1 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tformat(date, \"yyyy-MM-dd'T00:00:00Z'\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-trash-alt'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{isBefore(today, date) && (\r\n\t\t\t\t\t\t\t\t<div className='btn-right'>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-quaternary'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoggleModal: !toggleModal,\r\n\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\tcheckDayAvailability(\r\n\t\t\t\t\t\t\t\t\t\t\t\tformat(date, \"yyyy-MM-dd'T00:00:00Z'\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-ban'></i> &nbsp; Hour Range\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\tcase 2:\r\n\t\t\t\tconst disable = disabledDays.some((item) => {\r\n\t\t\t\t\tconst pastDate = new Date(item);\r\n\t\t\t\t\treturn pastDate.getUTCDate() === date.getDate();\r\n\t\t\t\t});\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t<h5\r\n\t\t\t\t\t\t\tclassName={`manage-schedule-details-title ${\r\n\t\t\t\t\t\t\t\tdisable && 'text-danger'\r\n\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{format(date, 'MM/dd/yyyy')}\r\n\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t<div className='btn-center'>\r\n\t\t\t\t\t\t\t{isBefore(today, date) && (\r\n\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t{disable ? (\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tenableDate(format(date, \"yyyy-MM-dd'T00:00:00Z'\"))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-check-circle'></i> &nbsp; Date\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisableDate(format(date, \"yyyy-MM-dd'T00:00:00Z'\"))\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-ban'></i> &nbsp; Date\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoggleModal: !toggleModal,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (reservations.length > 0) clearReservations();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcheckDayAvailability(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tformat(date, \"yyyy-MM-dd'T00:00:00Z'\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-ban'></i> &nbsp; Hour Range\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Fragment>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t);\r\n\t\t\tcase 3:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t<h5 className='manage-schedule-details-title'>\r\n\t\t\t\t\t\t\t{format(date[0], 'MM/dd/yyyy')} - {format(date[1], 'MM/dd/yyyy')}\r\n\t\t\t\t\t\t</h5>\r\n\r\n\t\t\t\t\t\t<div className='btn-center'>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName='btn'\r\n\t\t\t\t\t\t\t\tonClick={async () => {\r\n\t\t\t\t\t\t\t\t\tconst answer = await disableDateRange(\r\n\t\t\t\t\t\t\t\t\t\tformat(date[0], \"yyyy-MM-dd'T00:00:00Z'\"),\r\n\t\t\t\t\t\t\t\t\t\tformat(date[1], \"yyyy-MM-dd'T23:59:59Z'\")\r\n\t\t\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\trange: !range,\r\n\t\t\t\t\t\t\t\t\t\tdate: answer ? date[0] : [date[0], date[0]],\r\n\t\t\t\t\t\t\t\t\t\ttab: 0,\r\n\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-ban'></i> &nbsp; Date Range\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t);\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='list manage-schedule'>\r\n\t\t\t{toggleReservation && (\r\n\t\t\t\t<PopUp\r\n\t\t\t\t\ttype='schedule'\r\n\t\t\t\t\tclearJobs={clearJobsXReservations}\r\n\t\t\t\t\ttoUpdate={reservation}\r\n\t\t\t\t\ttoggleModal={toggleReservation}\r\n\t\t\t\t\tsetToggleModal={() =>\r\n\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\ttoggleReservation: !toggleReservation,\r\n\t\t\t\t\t\t\treservation: null,\r\n\t\t\t\t\t\t}))\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<PopUp\r\n\t\t\t\ttype='hour'\r\n\t\t\t\ttoggleModal={toggleModal}\r\n\t\t\t\tconfirm={async ({ hourFrom, hourTo }) => {\r\n\t\t\t\t\tconst answer = await disableHourRange(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\thourFrom: format(\r\n\t\t\t\t\t\t\t\tsetHours(date, hourFrom),\r\n\t\t\t\t\t\t\t\t\"yyyy-MM-dd'T'HH':00:00Z'\"\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\thourTo: format(\r\n\t\t\t\t\t\t\t\tsetHours(date, hourTo - 1),\r\n\t\t\t\t\t\t\t\t\"yyyy-MM-dd'T'HH':00:00Z'\"\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\tuser: loggedUser.id,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\treservations.length === 0 && format(date, \"yyyy-MM-dd'T00:00:00Z'\")\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tif (answer)\r\n\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\ttab: 1,\r\n\t\t\t\t\t\t\ttoggleModal: !toggleModal,\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t}}\r\n\t\t\t\tsetToggleModal={() =>\r\n\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\ttoggleModal: !toggleModal,\r\n\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<h2 className='heading-primary'>Schedule</h2>\r\n\r\n\t\t\t<div className='manage-schedule-row'>\r\n\t\t\t\t<div className='manage-schedule-calendar'>\r\n\t\t\t\t\t<Calendar\r\n\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\tselectRange={range}\r\n\t\t\t\t\t\tonChange={onChangeDate}\r\n\t\t\t\t\t\ttileDisabled={tileDisabled}\r\n\t\t\t\t\t\tminDate={new Date(2021, 10, 1)}\r\n\t\t\t\t\t\tmaxDate={addYears(today, 1)}\r\n\t\t\t\t\t\tonActiveStartDateChange={(e) => {\r\n\t\t\t\t\t\t\tif (e.view === 'month' || e.view === 'year') {\r\n\t\t\t\t\t\t\t\tconst month = e.activeStartDate.getMonth();\r\n\t\t\t\t\t\t\t\tconst year = e.activeStartDate.getFullYear();\r\n\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, month, year }));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\ttileClassName={tileClassName}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className='form__group switch' id='range'>\r\n\t\t\t\t\t\t<label className='form__label-switch' htmlFor='range'>\r\n\t\t\t\t\t\t\tDate Range\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tchecked={range}\r\n\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\tonChange={() =>\r\n\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\trange: !range,\r\n\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName='form__input-switch'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='manage-schedule-color-guide'>\r\n\t\t\t\t\t\t<p className='manage-schedule-color-item '>\r\n\t\t\t\t\t\t\t<i className='fas fa-square reserved'></i> Reserved Days\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className='manage-schedule-color-item'>\r\n\t\t\t\t\t\t\t<i className='fas fa-square disabled'></i> Disabled Days\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className='manage-schedule-color-item'>\r\n\t\t\t\t\t\t\t<i className='fas fa-square partially-disabled'></i> Partially\r\n\t\t\t\t\t\t\tDisabled Days\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='manage-schedule-details'>\r\n\t\t\t\t\t<Alert type='2' />\r\n\t\t\t\t\t{tabOpen()}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tday: state.day,\r\n\treservation: state.reservation,\r\n\tauth: state.auth,\r\n\tjob: state.job,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tcheckMonthSchedule,\r\n\tcheckDayAvailability,\r\n\tloadReservations,\r\n\tdisableDate,\r\n\tenableDate,\r\n\tdisableDateRange,\r\n\tdisableHourRange,\r\n\tclearUsers,\r\n\tclearReservations,\r\n\tdeleteReservation,\r\n\tloadJobs,\r\n\tclearJobsXReservations,\r\n})(ManageSchedule);\r\n","import React, { Fragment, useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { clearEmailSent } from '../../../actions/auth';\r\nimport { clearUser, loadUsers } from '../../../actions/user';\r\n\r\nimport Alert from '../../layouts/Alert';\r\n\r\nconst ReservationsList = ({\r\n\tloadUsers,\r\n\tuser: { users, loading, error },\r\n\tauth: { loggedUser },\r\n\tclearUser,\r\n\tclearEmailSent,\r\n}) => {\r\n\tconst [formData, setFormData] = useState({\r\n\t\tname: '',\r\n\t\tlastname: '',\r\n\t\temail: '',\r\n\t\ttype: '',\r\n\t});\r\n\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\tshowFilter: false,\r\n\t});\r\n\r\n\tconst { name, lastname, email, type } = formData;\r\n\r\n\tconst { showFilter } = adminValues;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (loading) loadUsers({});\r\n\t}, [loading, loadUsers]);\r\n\r\n\tconst onChange = (e) => {\r\n\t\te.persist();\r\n\t\tsetFormData((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\t[e.target.id]: e.target.value,\r\n\t\t}));\r\n\t};\r\n\r\n\tconst onSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetFormData({\r\n\t\t\tname: '',\r\n\t\t\tlastname: '',\r\n\t\t\temail: '',\r\n\t\t\ttype: '',\r\n\t\t});\r\n\t\tloadUsers(formData);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='list'>\r\n\t\t\t<h2 className='heading-primary'>Users</h2>\r\n\r\n\t\t\t<Alert type='1' />\r\n\t\t\t<form className='form filter' onSubmit={onSubmit}>\r\n\t\t\t\t<p className='filter-title'>Filter</p>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='filter-icon'\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, showFilter: !showFilter }));\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{showFilter ? (\r\n\t\t\t\t\t\t<i className='fas fa-chevron-up'></i>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<i className='fas fa-chevron-down'></i>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</button>\r\n\t\t\t\t<div className={`filter-content ${!showFilter ? 'hide' : ''}`}>\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<div className='form__group-sub'>\r\n\t\t\t\t\t\t\t<div className='form__group-sub-item'>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Name'\r\n\t\t\t\t\t\t\t\t\tid='name'\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label htmlFor='name' className='form__label'>\r\n\t\t\t\t\t\t\t\t\tName\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form__group-sub-item'>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Last Name'\r\n\t\t\t\t\t\t\t\t\tid='lastname'\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\tvalue={lastname}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label htmlFor='lastname' className='form__label'>\r\n\t\t\t\t\t\t\t\t\tLast Name\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\tplaceholder='Email'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label htmlFor='email' className='form__label'>\r\n\t\t\t\t\t\t\tEmail\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclassName={`form__input ${type === '' ? 'empty' : ''}`}\r\n\t\t\t\t\t\t\tid='type'\r\n\t\t\t\t\t\t\tvalue={type}\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=''>* Type of User</option>\r\n\t\t\t\t\t\t\t<option value='admin'>Admin</option>\r\n\t\t\t\t\t\t\t<option value='customer'>Customer</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\thtmlFor='type'\r\n\t\t\t\t\t\t\tclassName={`form__label ${type === '' ? 'hide' : ''}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tType of User\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button type='submit' className='btn btn-tertiary'>\r\n\t\t\t\t\t\t<i className='fas fa-search'></i>&nbsp; Search\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t\t{!loading && (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t{users.length > 0 ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div className='wrapper'>\r\n\t\t\t\t\t\t\t\t<table className='icon-5'>\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Email</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Type</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Cellphone</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t{users.map((user) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={user.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{user.name} {user.lastname}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{user.email}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{user.type.charAt(0).toUpperCase() +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuser.type.slice(1)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{user.cel}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='tooltip'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloggedUser.id === user.id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '/profile'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: `/edit-user/${user.id}`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclearUser();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclearEmailSent();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-edit'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className='tooltiptext'>Edit</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='list-total'>\r\n\t\t\t\t\t\t\t\t<span className='list-total-title text-dark'>Total:</span>\r\n\t\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t\t{users.length}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<h3 className='heading-primary-subheading u-center-text text-danger'>\r\n\t\t\t\t\t\t\t{error.msg}\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Fragment>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tuser: state.user,\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tclearUser,\r\n\tloadUsers,\r\n\tclearEmailSent,\r\n})(ReservationsList);\r\n","import React, { useState, useEffect, Fragment } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { loadJobs } from '../../../actions/jobs';\r\nimport { loadJobUsers } from '../../../actions/jobsXReservations';\r\nimport { clearUser } from '../../../actions/user';\r\nimport { sendEmail } from '../../../actions/auth';\r\n\r\nimport Alert from '../../layouts/Alert';\r\nimport PopUp from '../../layouts/PopUp';\r\nimport DatesFiled from '../../DatesFiled';\r\n\r\nimport './Outreach.scss';\r\n\r\nconst Outreach = ({\r\n\tloadJobs,\r\n\tloadJobUsers,\r\n\tclearUser,\r\n\tsendEmail,\r\n\tjob: { loading: loadingJobs, jobs: jobsList },\r\n\tjobsXreservation: { loading, error, jobsXreservations },\r\n}) => {\r\n\tconst initialValues = {\r\n\t\thourFrom: '',\r\n\t\thourTo: '',\r\n\t\ttotal: '',\r\n\t\tjobs: [],\r\n\t};\r\n\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\tshowFilter: true,\r\n\t\tusers: [],\r\n\t\ttoggleEmail: false,\r\n\t});\r\n\r\n\tconst [formData, setFormData] = useState(initialValues);\r\n\r\n\tconst { showFilter, users, toggleEmail } = adminValues;\r\n\r\n\tconst { hourFrom, hourTo, total, jobs } = formData;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (loadingJobs) loadJobs({});\r\n\t}, [loadingJobs, loadJobs]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (jobsXreservations.length > 0)\r\n\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\tusers: jobsXreservations.map((item) => item.reservation.user.email),\r\n\t\t\t}));\r\n\t}, [jobsXreservations]);\r\n\r\n\tconst onSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tloadJobUsers(formData);\r\n\t};\r\n\r\n\tconst onChange = (e, job) => {\r\n\t\te.persist();\r\n\t\tif (\r\n\t\t\te.target.id !== 'total' ||\r\n\t\t\t(e.target.id === 'total' &&\r\n\t\t\t\t(Number(e.target.value) || e.target.value === ''))\r\n\t\t)\r\n\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\t...(job\r\n\t\t\t\t\t? {\r\n\t\t\t\t\t\t\tjobs: e.target.checked\r\n\t\t\t\t\t\t\t\t? [...jobs, Number(e.target.value)]\r\n\t\t\t\t\t\t\t\t: jobs.filter((item) => item !== job.id),\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t: { [e.target.id]: e.target.value }),\r\n\t\t\t}));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='outreach list'>\r\n\t\t\t<PopUp\r\n\t\t\t\ttype='email'\r\n\t\t\t\tconfirm={async (emailData) => {\r\n\t\t\t\t\tconst answer = await sendEmail(emailData, true);\r\n\t\t\t\t\tif (answer) {\r\n\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\ttoggleEmail: false,\r\n\t\t\t\t\t\t\tusers: [],\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t\tsetFormData(initialValues);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\ttoUpdate={users}\r\n\t\t\t\ttoggleModal={toggleEmail}\r\n\t\t\t\tsetToggleModal={() =>\r\n\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\ttoggleEmail: !toggleEmail,\r\n\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<h2 className='heading-primary'>Outreach</h2>\r\n\t\t\t<Alert type='1' />\r\n\t\t\t<form className='form filter' onSubmit={onSubmit}>\r\n\t\t\t\t<p className='filter-title'>Filter</p>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='filter-icon'\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, showFilter: !showFilter }));\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{showFilter ? (\r\n\t\t\t\t\t\t<i className='fas fa-chevron-up'></i>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<i className='fas fa-chevron-down'></i>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<div className={`filter-content ${!showFilter ? 'hide' : ''}`}>\r\n\t\t\t\t\t<DatesFiled hourFrom={hourFrom} onChange={onChange} hourTo={hourTo} />\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvalue={total}\r\n\t\t\t\t\t\t\tid='total'\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\tplaceholder='Minimal Total'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label htmlFor='total' className='form__label'>\r\n\t\t\t\t\t\t\tMinimal Total\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='outreach-jobs-list'>\r\n\t\t\t\t\t\t{!loadingJobs &&\r\n\t\t\t\t\t\t\tjobsList.map((job) => (\r\n\t\t\t\t\t\t\t\t<div className='outreach-jobs-item' key={job.id}>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\t\t\t\tvalue={job.id}\r\n\t\t\t\t\t\t\t\t\t\tclassName='form__input-chk'\r\n\t\t\t\t\t\t\t\t\t\tid={`chk-${job.id}`}\r\n\t\t\t\t\t\t\t\t\t\tname='jobs'\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => onChange(e, job)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<label className='form__label-chk' htmlFor={`chk-${job.id}`}>\r\n\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t<svg width='12px' height='9px' viewBox='0 0 12 9'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<polyline points='1 5 4 8 11 1'></polyline>\r\n\t\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t<span>{job.title}</span>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button type='submit' className='btn btn-tertiary'>\r\n\t\t\t\t\t\t<i className='fas fa-search'></i>&nbsp; Search\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t\t{!loading && (\r\n\t\t\t\t<Fragment>\r\n\t\t\t\t\t{jobsXreservations.length > 0 ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div className='wrapper'>\r\n\t\t\t\t\t\t\t\t<table>\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Email</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Job</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t{jobsXreservations.map((item) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={item.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-link'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/edit-user/${item.reservation.userId}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclearUser();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.reservation.user.name}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.reservation.user.lastname}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{item.reservation.user.email}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.jobs\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? item.jobs.map((job) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`jb-${job.id}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='outreach-list-jobs'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{job.title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: item.job.title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.reservation.user.email}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form__input-chk'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={`user-${item.id}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={users.some(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(email) => email === item.reservation.user.email\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.persist();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (e.target.checked)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tusers: [...users, e.target.value],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tusers: users.filter(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(item) => item !== e.target.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form__label-chk'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thtmlFor={`user-${item.id}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg width='12px' height='9px' viewBox='0 0 12 9'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<polyline points='1 5 4 8 11 1'></polyline>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='list-total'>\r\n\t\t\t\t\t\t\t\t<span className='list-total-title text-dark'>Total:</span>\r\n\t\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t\t{jobsXreservations.length}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<h3 className='heading-primary-subheading u-center-text text-danger'>\r\n\t\t\t\t\t\t\t{error.msg}\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{users.length > 0 && (\r\n\t\t\t\t\t\t<div className='btn-right'>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\ttoggleEmail: !toggleEmail,\r\n\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tclassName='btn btn-primary'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-paper-plane'></i> &nbsp; Email\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Fragment>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tjob: state.job,\r\n\tjobsXreservation: state.jobsXreservation,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tloadJobs,\r\n\tclearUser,\r\n\tloadJobUsers,\r\n\tsendEmail,\r\n})(Outreach);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport PrivateRoutes from '../PrivateRoutes';\r\nimport PublicRoutes from '../PublicRoutes';\r\n\r\nimport EditUser from '../../pages/EditUser';\r\nimport Activation from '../../pages/Activation';\r\nimport ChangePassword from '../../pages/ChangePassword';\r\nimport Reservation from '../../pages/Reservation';\r\nimport ReservationsList from '../../pages/ReservationsList';\r\nimport JobsList from '../../pages/JobsList';\r\nimport ManageSchedule from '../../pages/ManageSchedule';\r\nimport UsersList from '../../pages/UsersList';\r\nimport Outreach from '../../pages/Outreach';\r\n\r\nconst Routes = ({ global: { navbar, footer } }) => {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName='container'\r\n\t\t\tstyle={{\r\n\t\t\t\tminHeight: `calc(100vh - ${footer}px - ${navbar}px)`,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Switch>\r\n\t\t\t\t<PublicRoutes path='/signup' component={EditUser} />\r\n\t\t\t\t<PublicRoutes path='/resetpassword/:token' component={ChangePassword} />\r\n\t\t\t\t<Route exact path='/reservation/:job_id' component={Reservation} />\r\n\t\t\t\t<Route path='/activation/:token' component={Activation} />\r\n\t\t\t\t<PrivateRoutes\r\n\t\t\t\t\tpath='/profile'\r\n\t\t\t\t\tcomponent={EditUser}\r\n\t\t\t\t\ttypes={['admin', 'customer']}\r\n\t\t\t\t/>\r\n\t\t\t\t<PrivateRoutes\r\n\t\t\t\t\tpath='/edit-user/:user_id'\r\n\t\t\t\t\tcomponent={EditUser}\r\n\t\t\t\t\ttypes={['admin']}\r\n\t\t\t\t/>\r\n\t\t\t\t<PrivateRoutes\r\n\t\t\t\t\tpath='/reservations-list'\r\n\t\t\t\t\tcomponent={ReservationsList}\r\n\t\t\t\t\ttypes={['admin']}\r\n\t\t\t\t/>\r\n\t\t\t\t<PrivateRoutes\r\n\t\t\t\t\tpath='/jobs-list'\r\n\t\t\t\t\tcomponent={JobsList}\r\n\t\t\t\t\ttypes={['admin']}\r\n\t\t\t\t/>\r\n\t\t\t\t<PrivateRoutes\r\n\t\t\t\t\tpath='/schedule'\r\n\t\t\t\t\tcomponent={ManageSchedule}\r\n\t\t\t\t\ttypes={['admin']}\r\n\t\t\t\t/>\r\n\t\t\t\t<PrivateRoutes\r\n\t\t\t\t\tpath='/users-list'\r\n\t\t\t\t\tcomponent={UsersList}\r\n\t\t\t\t\ttypes={['admin']}\r\n\t\t\t\t/>\r\n\t\t\t\t<PrivateRoutes\r\n\t\t\t\t\tpath='/outreach'\r\n\t\t\t\t\tcomponent={Outreach}\r\n\t\t\t\t\ttypes={['admin']}\r\n\t\t\t\t/>\r\n\t\t\t</Switch>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tglobal: state.global,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Routes);\r\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Router, Switch, Route } from 'react-router-dom';\n\nimport './sass/main.scss';\n\nimport setAuthToken from './utils/setAuthToken';\nimport history from './utils/history';\n\nimport { loadUser } from './actions/auth';\n\nimport Navbar from './components/layouts/Navbar';\nimport Footer from './components/layouts/Footer';\nimport Home from './components/pages/Home';\nimport Contact from './components/pages/Contact';\nimport ServicesFull from './components/pages/ServicesFull';\nimport VRM from './components/pages/VRM';\nimport Portfolio from './components/pages/Portfolio';\nimport Booking from './components/pages/Booking';\nimport Login from './components/pages/Login';\nimport Routes from './components/routing/Routes';\n\nconst App = ({ global: { navbar }, loadUser }) => {\n\tuseEffect(() => {\n\t\tif (localStorage.token) {\n\t\t\tsetAuthToken(localStorage.token);\n\t\t\tloadUser();\n\t\t}\n\t}, [loadUser]);\n\n\treturn (\n\t\t<Router history={history}>\n\t\t\t<Navbar />\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\t/* minHeight: `calc(100vh - ${footer}px)`, */\n\t\t\t\t\tpaddingTop: `${navbar}px`,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path='/' exact component={Home} />\n\t\t\t\t\t<Route path='/portfolio' exact component={Portfolio} />\n\t\t\t\t\t<Route path='/contact' exact component={Contact} />\n\t\t\t\t\t<Route path='/servicesfull' exact component={ServicesFull} />\n\t\t\t\t\t<Route path='/vrm' component={VRM} />\n\t\t\t\t\t<Route path='/booking' component={Booking} />\n\t\t\t\t\t<Route path='/login' component={Login} />\n\t\t\t\t\t<Routes />\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t\t<Footer />\n\t\t</Router>\n\t);\n};\n\nconst mapStateToProps = (state) => ({\n\tglobal: state.global,\n});\n\nexport default connect(mapStateToProps, { loadUser })(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\n//Redux\nimport store from './utils/store';\nimport { Provider } from 'react-redux';\n\nimport App from './App';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}