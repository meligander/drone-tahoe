(this["webpackJsonpyt-website"]=this["webpackJsonpyt-website"]||[]).push([[0],{66:function(e,t,s){},67:function(e,t,s){},71:function(e,t,s){},72:function(e,t,s){},73:function(e,t,s){},74:function(e,t,s){},75:function(e,t,s){},76:function(e,t,s){},77:function(e,t,s){},78:function(e,t,s){},79:function(e,t,s){},80:function(e,t,s){},81:function(e,t,s){},82:function(e,t,s){},83:function(e,t,s){},84:function(e,t,s){},85:function(e,t,s){},86:function(e,t,s){},87:function(e,t,s){},88:function(e,t,s){},89:function(e,t,s){},90:function(e,t,s){},91:function(e,t,s){},92:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s.n(a),r=s(15),l=s.n(r),n=s(16),o=s(36),i=s(34);const d="LOADINGSPINNER_UPDATED",j="FOOTER_HEIGHT_SETTED",m="NAVBAR_HEIGHT_SETTED",b="USERAUTH_LOADED",u="LOGIN_SUCCESS",h="LOGIN_FAIL",p="LOGOUT",g="AUTH_ERROR",O="SIGNUP_FAIL",x="SIGNUP_SUCCESS",v="EMAIL_SENT",f="EMAIL_ERROR",y="EMAIL_CLEARED",N="PASSWORD_CHANGED",w="ALERT_REMOVED",_="ALERT_SETTED",D="USER_LOADED",E="USERS_LOADED",R="USER_UPDATED",T="USER_DELETED",k="USER_ERROR",C="USERS_ERROR",S="USER_CLEARED",F="USERS_CLEARED",M="RESERVATION_LOADED",A="RESERVATIONS_LOADED",U="RESERVATION_REGISTERED",I="RESERVATION_UPDATED",L="RESERVATION_DELETED",J="RESERVATION_CANCELED",P="RESERVATIONS_CLEARED",H="RESERVATION_CLEARED",B="RESERVATION_ERROR",V="RESERVATIONS_ERROR",Y="JOBSXRESERVATIONS_LOADED",X="JOBSXRESERVATIONS_CLEARED",q="JOBSXRESERVATIONS_ERROR",G="MONTHAVAILABILITY_LOADED",Z="DAYAVAILABILITY_LOADED",W="DAY_ENABLED",z="DAY_DISABLED",$="DAYS_DISABLED",K="ADD_RESERVED_DAY",Q="DELETE_RESERVED_DAY",ee="ADD_TIME_DISABLED_DAY",te="DELETE_TIME_DISABLED_DAY",se="DAYSAVAILABILITY_CLEARED",ae="DAYSAVAILABILITY_ERROR",ce="JOB_LOADED",re="JOBS_LOADED",le="JOB_REGISTERED",ne="JOB_UPDATED",oe="JOB_DELETED",ie="JOB_ERROR",de="JOBS_ERROR",je="JOB_CLEARED",me="JOBS_CLEARED",be="PAYMENT_STATUS_UPDATED",ue="PAYMENT_ERROR",he={token:localStorage.getItem("token"),loggedUser:null,loading:!0,isAuthenticated:!1,error:"",emailSent:!1};var pe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;const{type:s,payload:a}=t;switch(s){case b:return{...e,loading:!1,loggedUser:a,isAuthenticated:!0};case x:return{...e,loading:!1,loggedUser:a.user,isAuthenticated:!0,token:a.token};case u:return{...e,loading:!1,token:a.token};case g:return{...e,token:null,isAuthenticated:!1,loggedUser:null,loading:!1,error:a||""};case N:return{...e,token:a.token,loading:!1,loggedUser:a.user,isAuthenticated:!0};case O:case h:return{...e,error:a,loading:!1,token:null,isAuthenticated:!1,loggedUser:null};case f:return{...e,error:a,emailSent:!1};case v:return{...e,emailSent:!0,error:""};case p:return{...e,token:null,isAuthenticated:!1,loggedUser:null,loading:!0,error:""};case y:return{...e,emailSent:!1};default:return e}};const ge=[];var Oe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;const{type:s,payload:a}=t;switch(s){case _:return e.some((e=>e.msg===a.msg))?e:[...e,a];case w:return e.filter((e=>e.id!==a));default:return e}};const xe={loadingAvailableHours:!0,loadingDisabledDays:!0,availableHours:[],disabledDays:[],reservedDays:[],timeDisabledDays:[],error:{}};var ve=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;const{type:s,payload:a}=t;switch(s){case G:return{...e,loadingDisabledDays:!1,disabledDays:a.disabledDays?a.disabledDays:a,...a.reservedDays&&{reservedDays:a.reservedDays},...a.timeDisabledDays&&{timeDisabledDays:a.timeDisabledDays},error:{}};case Z:return{...e,loadingAvailableHours:!1,availableHours:a,error:{}};case se:return xe;case ae:return{...e,availableHours:[],loadingAvailableHours:!1,error:a};case W:case Q:case te:const t=new Date(a.date),s=e[a.type].filter((e=>new Date(e).getTime()!==t.getTime()));return{...e,[a.type]:s};case z:case K:case ee:case $:return{...e,[a.type]:a.dates?[...e[a.type],...a.dates]:[...e[a.type],a.date]};default:return e}};const fe={loadingSpinner:!1,footer:0,navbar:0};var ye=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;const{type:s,payload:a}=t;switch(s){case d:return{...e,loadingSpinner:a};case m:return{...e,navbar:a};case j:return{...e,footer:a};default:return e}};const Ne={loading:!0,loadingJob:!0,job:null,jobs:[],error:{}};var we=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne,t=arguments.length>1?arguments[1]:void 0;const{type:s,payload:a}=t;switch(s){case ce:return{...e,loadingJob:!1,job:a,error:{}};case re:return{...e,loading:!1,jobs:a,error:{}};case le:return{...e,loading:!1,jobs:[...e.jobs,a],error:{}};case ne:return{...e,loading:!1,job:a,loadingJob:!1,jobs:e.jobs.map((e=>e.id!==a.id?e:a)),error:{}};case oe:return{...e,jobs:e.jobs.filter((e=>e.id!==a)),loading:!1,error:{}};case me:return Ne;case je:return{...e,job:null,loadingJob:!0};case ie:return{...e,job:null,loadingJob:!1,error:a};case de:return{...e,jobs:[],loading:!1,error:a};default:return e}},_e=s(94);const De={loading:!0,loadingReservation:!0,reservation:null,reservations:[],error:{}};var Ee=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,t=arguments.length>1?arguments[1]:void 0;const{type:s,payload:a}=t;switch(s){case M:return{...e,loadingReservation:!1,reservation:a,error:{}};case A:return{...e,loading:!1,reservations:a,error:{}};case U:let t=[...e.reservations,a];return t=t.sort(((e,t)=>Object(_e.a)(new Date(e.hourFrom),new Date(t.hourFrom)))),{...e,loading:!1,reservations:t,error:{}};case J:case I:return{...e,loadingReservation:!1,reservations:e.reservations.map((e=>e.id===a.id?a:e)),error:{}};case be:return a?{...e,loadingReservation:!1,reservations:e.reservations.map((e=>e.id===a.id?a:e)),error:{}}:e;case L:return{...e,reservations:e.reservations.filter((e=>e.id!==a)),loading:!1,error:{}};case P:return De;case H:return{...e,loadingReservation:!0,reservation:null,error:{}};case B:return{...e,reservation:null,loadingReservation:!1,error:a};case V:return{...e,reservations:[],loading:!1,error:a};case ue:return{...e,error:a};default:return e}};const Re={loading:!0,jobsXreservations:[],error:{}};var Te=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;const{type:s,payload:a}=t;switch(s){case Y:return{...e,loading:!1,jobsXreservations:a,error:{}};case X:return Re;case q:return{...e,jobsXreservations:[],loading:!1,error:a};default:return e}};const ke={loading:!0,loadingUser:!0,user:null,users:[],error:{}};var Ce=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;const{type:s,payload:a}=t;switch(s){case D:return{...e,loadingUser:!1,user:a,error:{}};case E:return{...e,loading:!1,users:a,error:{}};case R:return{...e,loading:!1,users:e.users.map((e=>e.id===a.id?a:e)),error:{}};case T:return{...e,users:e.users.filter((e=>e._id!==a)),loading:!1,error:{}};case F:return ke;case S:return{...e,user:null,loadingUser:!0,error:{}};case k:return{...e,user:null,loadingUser:!1,error:a};case C:return{...e,users:[],loading:!1,error:a};default:return e}},Se=Object(n.combineReducers)({alert:Oe,auth:pe,day:ve,global:ye,job:we,reservation:Ee,jobsXreservation:Te,user:Ce}),Fe=s(35),Me=s.n(Fe),Ae=s(10),Ue=Object(Ae.a)(),Ie=s(103);const Le=function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"1",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500;return c=>{const r=Object(Ie.a)();c({type:_,payload:{id:r,alertType:t,msg:e,type:s,code:a}}),setTimeout((()=>c({type:w,payload:r})),5e3)}},Je=e=>t=>{t({type:d,payload:e})},Pe=(e,t,s)=>async a=>{a(Je(!0));let c=!1;try{const c=await at.get("/day/".concat(e,"/").concat(t,"/").concat(s));a({type:Z,payload:c.data})}catch(r){401!==r.response.status?(a(Le(r.response.data.msg,"danger","1")),a(He(ae,r.response)),window.scrollTo(0,0)):c=!0}c||a(Je(!1))},He=(e,t)=>s=>{s({type:e,payload:{type:t.statusText,status:t.status,msg:t.data.msg}})},Be=(e,t)=>async s=>{t||s(Je(!0)),t&&await s(Ve());let a=!1,c="";const r=Object.keys(e);for(let t=0;t<r.length;t++){const s=r[t];""!==e[s]&&(""!==c&&(c+="&"),c=c+r[t]+"="+e[s])}try{const e=await at.get("/reservation?".concat(c));s({type:A,payload:e.data})}catch(l){401!==l.response.status?s(Ge(V,l.response)):a=!0}a||s(Je(!1))},Ve=()=>async e=>{try{await at.post("/reservation/status/update"),e({type:be})}catch(t){401!==t.response.status&&(e(Le(t.response.data.msg,"danger","2")),e(Ge(ue,t.response)))}},Ye=e=>async t=>{t(Je(!0));let s={};for(const c in e)""!==e[c]&&(s[c]=e[c]);try{let a=await at.post("/reservation/".concat(e.id),s);return t({type:I,payload:a.data}),t(Le("Reservation Updated","success","1")),window.scrollTo(0,0),t(Je(!1)),!0}catch(a){return 401!==a.response.status&&(t(Ge(B,a.response)),a.response.data.errors?a.response.data.errors.forEach((e=>{t(Le(e.msg,"danger","2"))})):t(Le(a.response.data.msg,"danger","2")),t(Je(!1))),!1}},Xe=(e,t)=>async s=>{s(Je(!0));let a=!1;try{await at.post("/reservation/delete/".concat(e.id)),s({type:L,payload:e.id});const a="hourRange"!==e.status;t&&s(((e,t)=>async s=>{s({type:t?Q:te,payload:{type:t?"reservedDays":"timeDisabledDays",date:e}})})(t,a)),s(Le("Reservation Deleted","success","1"))}catch(c){401!==c.response.status?(s(Le(c.response.data.msg,"danger","1")),s(Ge(B,c.response))):a=!0}a||(window.scrollTo(0,0),s(Je(!1)))},qe=()=>e=>{e({type:P})},Ge=(e,t)=>s=>{s({type:e,payload:t.data.errors?t.data.errors:{type:t.statusText,status:t.status,msg:t.data.msg}})},Ze=(e,t)=>async s=>{s(Je(!0));let a=!1,c="";for(const t in e)""!==e[t]&&(c="".concat(""!==c?"".concat(c,"&"):"").concat(t,"=").concat(e[t]));try{const e=await at.get("/job?".concat(c));s({type:re,payload:e.data})}catch(r){401!==r.response.status?s(ze(de,r.response)):a=!0}t||a||s(Je(!1))},We=()=>e=>{e({type:me})},ze=(e,t)=>s=>{s({type:e,payload:t.data.errors?t.data.errors:{type:t.statusText,status:t.status,msg:t.data.msg}})},$e=e=>async t=>{try{const s=await at.get("/user/info");t({type:b,payload:s.data}),e&&("admin"===s.data.type?(t(qe()),t(We()),Ue.push("/reservations-list")):(Ue.push("/"),t(Je(!1))))}catch(s){401!==s.response.status&&(t(Le(s.response.data.msg,"danger","1")),t(tt(g,s.response)),t(Je(!1)))}},Ke=(e,t,s)=>async a=>{a(Je(!0));let c={};for(const t in e)""!==e[t]&&(c[t]=e[t]);try{const e=await at.post(t?"/auth/outreach-email":"/auth/send-email",c);return a({type:v}),a(Le(e.data.msg,"success","1")),s||window.scrollTo(0,0),a(Je(!1)),!0}catch(r){return 401!==r.response.status&&(a(tt(f,r.response)),r.response.data.errors?r.response.data.errors.forEach((e=>{a(Le(e.msg,"danger",t?"2":"1"))})):a(Le(r.response.data.msg,"danger",t?"2":"1"))),a(Je(!1)),!1}},Qe=()=>e=>{e({type:y})},et=()=>e=>{e({type:p}),Ue.push("/login")},tt=(e,t)=>s=>{s({type:e,payload:t.data.errors?t.data.errors:{type:t.statusText,status:t.status,msg:t.data.msg}})},st=Me.a.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});st.interceptors.response.use((e=>e),(e=>(401!==e.response.status||0!==it.getState().alert.length&&it.getState().alert.some((e=>401===e.code))||(it.dispatch(et()),it.dispatch(Le(e.response.data.msg,"danger","1",401)),it.dispatch(tt(g,e.response)),it.dispatch(Je(!1)),window.scrollTo(0,0)),Promise.reject(e))));var at=st;var ct=e=>{e?(at.defaults.headers.common["auth-token"]=e,localStorage.setItem("token",e)):(delete at.defaults.headers.common["auth-token"],localStorage.removeItem("token"))};const rt=[o.a],lt=Object(i.composeWithDevTools)({trace:!0,traceLimit:25}),nt=Object(n.createStore)(Se,{},lt(Object(n.applyMiddleware)(...rt)));let ot={auth:{token:null,isAuthenticated:null,loading:!0,user:null}};nt.subscribe((()=>{let e=ot;if(ot=nt.getState(),e.auth.token!==ot.auth.token){const e=ot.auth.token;ct(e)}}));var it=nt,dt=s(3),jt=s(9),mt=(s(66),s(4));const bt=(e,t)=>async s=>{s(Je(!0));let a=!1;try{const a=await at.get("/res/job/reservation/".concat(e,"&").concat(t?"?type="+t:""));s({type:Y,payload:a.data})}catch(c){401!==c.response.status?s(ht(q,c.response)):a=!0}a||s(Je(!1))},ut=()=>e=>{e({type:X})},ht=(e,t)=>s=>{s({type:e,payload:{type:t.statusText,status:t.status,msg:t.data.msg}})},pt=(e,t)=>async s=>{t||s(Je(!0));let a=!1,c="";for(const t in e)""!==e[t]&&(c="".concat(""!==c?"".concat(c,"&"):"").concat(t,"=").concat(e[t]));try{const e=await at.get("/user?".concat(c));s({type:E,payload:e.data})}catch(r){401!==r.response.status?s(xt(C,r.response)):a=!0}t||a||s(Je(!1))},gt=()=>e=>{e({type:S})},Ot=()=>e=>{e({type:F})},xt=(e,t)=>s=>{s({type:e,payload:t.data.errors?t.data.errors:{type:t.statusText,status:t.status,msg:t.data.msg}})};s(67);var vt=s(0);var ft=Object(dt.b)((e=>({auth:e.auth})),{logOut:et,clearReservations:qe,clearJobs:We,clearUsers:Ot,setNavbarHeight:e=>t=>{t({type:m,payload:e})},clearJobsXReservations:ut,clearEmailSent:Qe})((e=>{let{logOut:t,clearReservations:s,clearJobs:c,clearUsers:r,clearJobsXReservations:l,clearEmailSent:n,setNavbarHeight:o,auth:{loggedUser:i,loading:d}}=e;const[j,m]=Object(a.useState)(!1),[b,u]=Object(a.useState)(!0),h=()=>m(!1),p=Object(a.useRef)();Object(a.useEffect)((()=>{g(),setTimeout((()=>{o(p.current.offsetHeight)}),30)}),[o]);const g=()=>{u(window.innerWidth>960)};return window.addEventListener("resize",g),Object(vt.jsxs)("nav",{ref:p,className:"navbar",style:{justifyContent:b?"space-between":"flex-end",padding:b?"1.8rem 0.5rem":"1rem 1.2rem"},id:"top",children:[Object(vt.jsxs)("div",{className:"navbar-container",children:[Object(vt.jsx)("div",{className:"menu-icon",onClick:()=>m(!j),children:Object(vt.jsx)("i",{className:j?"fas fa-times":"fas fa-bars"})}),Object(vt.jsxs)("ul",{className:j?"nav-menu active":"nav-menu",children:[!d&&i&&Object(vt.jsx)("li",{className:"nav-links-salute",children:Object(vt.jsxs)(mt.a,{to:"/profile",onClick:()=>{h(),r(),n(),window.scrollTo(0,0)},className:"btn-link",children:[Object(vt.jsx)("i",{className:"fas fa-user-alt"})," Hi ",i.name,"!"]})}),Object(vt.jsx)("li",{className:"nav-item ".concat(i&&"admin"===i.type?"hide":""),children:Object(vt.jsx)(mt.a,{to:"/",className:"nav-links",onClick:()=>{h(),window.scrollTo(0,0)},children:"Home"})}),!d&&i&&"admin"===i.type?Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsx)("li",{className:"nav-item",children:Object(vt.jsx)(mt.a,{to:"/reservations-list",className:"nav-links",onClick:()=>{h(),s(),c(),l(),window.scrollTo(0,0)},children:"Reservations"})}),Object(vt.jsx)("li",{className:"nav-item",children:Object(vt.jsx)(mt.a,{to:"/schedule",className:"nav-links",onClick:()=>{h(),s(),window.scrollTo(0,0)},children:"Schedule"})}),Object(vt.jsx)("li",{className:"nav-item",children:Object(vt.jsx)(mt.a,{to:"/users-list",className:"nav-links",onClick:()=>{h(),r(),window.scrollTo(0,0)},children:"Users"})}),Object(vt.jsx)("li",{className:"nav-item",children:Object(vt.jsx)(mt.a,{to:"/jobs-list",className:"nav-links",onClick:()=>{h(),c(),window.scrollTo(0,0)},children:"Jobs"})}),Object(vt.jsx)("li",{className:"nav-item",children:Object(vt.jsx)(mt.a,{to:"/outreach",className:"nav-links",onClick:()=>{h(),c(),l(),window.scrollTo(0,0)},children:"Outreach"})})]}):Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsx)("li",{className:"nav-item",children:Object(vt.jsx)(mt.a,{to:"/servicesfull",className:"nav-links",onClick:()=>{h(),c(),window.scrollTo(0,0)},children:"Services"})}),Object(vt.jsx)("li",{className:"nav-item",style:!d&&i?{order:5}:null,children:Object(vt.jsx)(mt.a,{to:"/portfolio",className:"nav-links",onClick:()=>{h(),window.scrollTo(0,0)},children:"Portfolio"})}),Object(vt.jsx)("li",{className:"nav-item",style:!d&&i?{order:4}:null,children:Object(vt.jsx)(mt.a,{to:!d&&i?"/reservation/0":"/contact",className:"nav-links",onClick:()=>{h(),window.scrollTo(0,0),!d&&i&&(s(),c())},children:!d&&i?"Reservations":"Contact"})})]}),Object(vt.jsx)("li",{className:"nav-item",style:!d&&i?{order:6}:null,children:Object(vt.jsx)(mt.a,{to:!d&&i?"/":"/login",onClick:()=>{!d&&i&&t(),h(),window.scrollTo(0,0)},className:"nav-links-mobile btn btn-outline",children:!d&&i?"Log Out":"Log In"})})]})]}),!d&&i&&Object(vt.jsx)("div",{className:"nav-salute",children:Object(vt.jsxs)(mt.a,{to:"/profile",onClick:()=>{window.scrollTo(0,0),r(),n()},className:"btn-link",children:["Hi ",i.name,"!"]})}),b&&Object(vt.jsx)("div",{className:"nav-button",children:Object(vt.jsx)(mt.a,{to:!d&&i?"/":"/login",onClick:()=>{!d&&i&&t(),window.scrollTo(0,0)},className:"btn btn-outline",children:!d&&i?"Log Out":"Log In"})})]})})),yt=s.p+"static/media/logoDRONE-dark-cropped-final.b2f133be.png";s(71);var Nt=Object(dt.b)(null,{setFooterHeight:e=>t=>{t({type:j,payload:e})}})((function(e){let{setFooterHeight:t}=e;const s=Object(a.useRef)(),c=new Date;return Object(a.useEffect)((()=>{setTimeout((()=>{t(s.current.offsetHeight)}),80)}),[t]),Object(vt.jsx)("div",{className:"footer-container",ref:s,children:Object(vt.jsx)("section",{className:"social-media",children:Object(vt.jsxs)("div",{className:"social-media-wrap",children:[Object(vt.jsx)("div",{className:"social-media-wrap-section",children:Object(vt.jsxs)("big",{className:"website-rights",children:["DRONE TAHOE \xa9 ",c.getFullYear()]})}),Object(vt.jsx)("div",{className:"social-media-wrap-section",children:Object(vt.jsx)("div",{className:"footer-logo",children:Object(vt.jsx)(mt.a,{to:"/",onClick:()=>window.scrollTo(0,0),className:"social-logo",children:Object(vt.jsx)("img",{src:yt,className:"footer-logo",alt:""})})})}),Object(vt.jsx)("div",{className:"social-media-wrap-section",children:Object(vt.jsxs)("div",{className:"social-icon",children:[Object(vt.jsx)(mt.a,{className:"social-icon-link facebook",to:{pathname:"https://www.facebook.com/profile.php?id=100054789366613"},target:"_blank","aria-label":"Facebook",children:Object(vt.jsx)("i",{className:"fab fa-facebook-f"})}),Object(vt.jsx)(mt.a,{className:"social-icon-link instagram",to:{pathname:"https://www.instagram.com/dronetahoe/"},target:"_blank","aria-label":"Instagram",children:Object(vt.jsx)("i",{className:"fab fa-instagram"})}),Object(vt.jsx)(mt.a,{className:"social-icon-link youtube",to:{pathname:"https://vimeo.com/user153997361"},target:"_blank","aria-label":"Vimeo",children:Object(vt.jsx)("i",{className:"fab fa-vimeo-v"})}),Object(vt.jsx)(mt.a,{className:"social-icon-link twitter",to:{pathname:"https://twitter.com/Drone_Tahoe"},target:"_blank","aria-label":"Twitter",children:Object(vt.jsx)("i",{className:"fab fa-twitter"})})]})})]})})})})),wt=(s(72),s.p+"static/media/landing-video.a3b6255a.m4v");var _t=Object(dt.b)((e=>({auth:e.auth})))((e=>{let{clearReservations:t,clearJobs:s,auth:{loggedUser:a}}=e;return Object(vt.jsxs)("div",{className:"hero-container",children:[Object(vt.jsx)("video",{className:"hero-container-video",src:wt,autoPlay:!0,loop:!0,muted:!0,playsInline:!0}),Object(vt.jsx)("div",{className:"hero-container-image"}),Object(vt.jsxs)("div",{className:"hero-box",children:[Object(vt.jsx)("div",{className:"hero-container-logo",children:Object(vt.jsx)("img",{src:yt,alt:"",className:"hero-container-logo-img"})}),Object(vt.jsx)("p",{className:"hero-subheading",children:"Drone Mapping, Inspection, and Walkthrough Services in North Lake Tahoe"}),Object(vt.jsx)("div",{className:"hero-button",children:Object(vt.jsx)(mt.a,{to:!a||a&&"admin"!==a.type?"/reservation/0":"/reservations-list",onClick:()=>{t(),s(),window.scrollTo(0,0)},className:"btn btn-primary",children:!a||a&&"admin"!==a.type?"Schedule Now":"Reservations"})})]}),Object(vt.jsxs)("div",{className:"hero-bottom",children:["360 Virtual Walkthrough brings drone data + 360 videos and photos into one solution -"," ",Object(vt.jsx)("span",{children:Object(vt.jsx)(mt.a,{to:"/vrm",onClick:()=>window.scrollTo(0,0),className:"btn-link",children:"Learn More"})})]})]})}));s(73);var Dt=Object(dt.b)((e=>({auth:e.auth})))((e=>{let{clearReservations:t,clearJobs:s,auth:{loggedUser:a}}=e;return Object(vt.jsxs)("section",{className:"about",id:"about",children:[Object(vt.jsxs)("div",{className:"about-text",children:[Object(vt.jsx)("h2",{className:"heading-secondary-gradient",children:"WE\u2019RE DREAMERS, BELIEVERS, & ACHIEVERS"}),Object(vt.jsx)("p",{className:"about-text-description",children:"Our dream of engineering, building and flying sUAS drones equipped w/ First Person View (FPV) began in 1976. DRONE TAHOE now has over 50 combined years of career military & commercial aviation experience."}),Object(vt.jsx)("p",{className:"about-text-description",children:"Dreams do come true!"}),Object(vt.jsxs)("div",{className:"about-text-description",children:[Object(vt.jsx)("p",{children:"Credentials include:"}),Object(vt.jsxs)("ul",{className:"about-credentials",children:[Object(vt.jsxs)("li",{className:"about-credentials-item",children:[" ","FAA sUAS Pilot Certification"," "]}),Object(vt.jsx)("li",{className:"about-credentials-item",children:"NTSB Aviation Accident Investigation Certification"})]})]})]}),Object(vt.jsx)("div",{className:"about-text-link",children:Object(vt.jsx)(mt.a,{to:!a||a&&"admin"!==a.type?"/reservation/0":"/reservations-list",onClick:()=>{t(),s(),window.scrollTo(0,0)},className:"btn",children:!a||a&&"admin"!==a.type?"Schedule Your Project Today":"Reservations"})}),Object(vt.jsx)("div",{className:"about-image"})]})}));var Et=Object(dt.b)(null,{clearReservations:qe,clearJobs:We})((e=>{let{image:t,title:s,details:a,job:c,clearReservations:r,clearJobs:l}=e;return Object(vt.jsxs)("div",{className:"services-section-item",children:[Object(vt.jsx)("img",{src:t,className:"services-section-item-image",alt:""}),Object(vt.jsxs)("div",{className:"services-section-item-text",children:[Object(vt.jsx)("h3",{className:"services-section-item-heading",children:s}),Object(vt.jsxs)("div",{className:"services-section-item-sub",children:[Object(vt.jsx)("h5",{className:"services-section-item-sub-details",children:a}),Object(vt.jsx)(mt.a,{to:"/reservation/".concat(c),onClick:()=>{r(),l()},className:"btn btn-tertiary",children:"Book Now"})]})]})]})})),Rt=(s(74),s.p+"static/media/construction.664e6551.jpg"),Tt=s.p+"static/media/inspection.843d2f0f.jpg",kt=s.p+"static/media/elevation-map.17e190b0.jpg";var Ct=()=>Object(vt.jsxs)("div",{className:"services-section",id:"services",children:[Object(vt.jsx)(mt.a,{to:"/servicesfull",onClick:()=>window.scrollTo(0,0),className:"services-heading-link",children:Object(vt.jsx)("h2",{className:"services-heading",children:"Services"})}),Object(vt.jsxs)("div",{className:"services-section-items",children:[Object(vt.jsx)(Et,{image:Rt,title:"Construction",details:"Create accurate, high-resolution digital replicas with 3D models, real-time 2D maps, and 360 virtual tours for any construction site.",job:"3"}),Object(vt.jsx)(Et,{image:Tt,title:"Inspection",details:"Commercial, Residential, Architecture, Legal, Resort, Tall Structures, Towers, Live View! (UHD)",job:"4"}),Object(vt.jsx)(Et,{image:kt,title:"Mapping",details:"Mapping of any size parcel. Accurate to 1\u201d.",job:"1"})]}),Object(vt.jsx)("div",{children:Object(vt.jsx)(mt.a,{to:"/servicesfull",onClick:()=>window.scrollTo(0,0),className:"btn",children:"See All Services"})})]}),St=(s(75),s.p+"static/media/bruin.c3c4b2f1.jpg"),Ft=s.p+"static/media/brassfield.d8a6f31e.jpg",Mt=s.p+"static/media/corteva.e0f1eadd.jpg",At=s.p+"static/media/mccarthy.abf978dd.jpg",Ut=s.p+"static/media/tahoenalu.140d5b2b.jpg",It=s.p+"static/media/tahoegal.1decac46.jpg",Lt=s.p+"static/media/tahoeyachtclub.81f2640c.jpg",Jt=s.p+"static/media/tgma.ad01854b.jpg",Pt=s.p+"static/media/eaa.ead83013.jpg",Ht=s.p+"static/media/greybluerealty.58255b7d.jpg";var Bt=()=>Object(vt.jsx)("div",{className:"testimonials",children:Object(vt.jsxs)("div",{className:"testimonials-clients",children:[Object(vt.jsx)("h2",{className:"testimonials-clients-heading",children:"Clients"}),Object(vt.jsx)("p",{className:"testimonials-clients-subheading",children:"We have recently worked with the following satisfied clients:"}),Object(vt.jsxs)("div",{className:"testimonials-clients-group",children:[Object(vt.jsx)("img",{src:Ut,alt:"Tahoe Nalu",className:"testimonials-clients-group-item gray"}),Object(vt.jsx)("img",{src:Ft,alt:"Brass Field",className:"testimonials-clients-group-item"}),Object(vt.jsx)("img",{src:Lt,alt:"Tahoe Yacth Club",className:"testimonials-clients-group-item gray"}),Object(vt.jsx)("img",{src:At,alt:"Mccarthy",className:"testimonials-clients-group-item"}),Object(vt.jsx)("img",{src:It,alt:"Tahoe Gal",className:"testimonials-clients-group-item gray"})]}),Object(vt.jsxs)("div",{className:"testimonials-clients-group",children:[Object(vt.jsx)("img",{src:Pt,alt:"EAA",className:"testimonials-clients-group-item gray"}),Object(vt.jsx)("img",{src:Ht,alt:"Grey Blue",className:"testimonials-clients-group-item gray"}),Object(vt.jsx)("img",{src:Mt,alt:"Corteva",className:"testimonials-clients-group-item"}),Object(vt.jsx)("img",{src:Jt,alt:"TGMA",className:"testimonials-clients-group-item gray"}),Object(vt.jsx)("img",{src:St,alt:"Bruin",className:"testimonials-clients-group-item smaller"})]})]})});s(76);var Vt=Object(dt.b)((e=>({alerts:e.alert})))((e=>{let{alerts:t,type:s,classType:a}=e;return null!==t&&t.map((e=>Object(vt.jsx)(c.a.Fragment,{children:e.type===s&&Object(vt.jsx)("div",{className:"alert alert-".concat(e.alertType," ").concat(a),children:e.msg})},e.id)))})),Yt=s.p+"static/media/spinner.e2ffacc9.gif";var Xt=Object(dt.b)((e=>({global:e.global})))((e=>{let{global:{loadingSpinner:t}}=e;return Object(vt.jsx)(a.Fragment,{children:t&&Object(vt.jsx)("div",{className:"blurr-bg",style:{zIndex:1e3},children:Object(vt.jsx)("img",{src:Yt,style:{width:"300px",display:"flex",margin:"0 auto"},alt:""})})})}));s(77);var qt=Object(dt.b)((e=>({auth:e.auth})),{sendEmail:Ke})((e=>{let{sendEmail:t,auth:{loggedUser:s}}=e;const c={name:"",lastname:"",phone:"",email:"",company:"",experience:"",message:""},r=Object(a.useRef)(),[l,n]=Object(a.useState)(c),{name:o,lastname:i,phone:d,email:j,company:m,experience:b,message:u}=l,h=e=>{e.persist(),e.target&&n((t=>({...t,[e.target.id]:e.target.value})))};return Object(vt.jsxs)("div",{className:"booking",id:"booking",children:[Object(vt.jsx)(Xt,{}),Object(vt.jsx)("section",{className:"section-book",id:"section-booking",children:Object(vt.jsx)("div",{className:"row",children:Object(vt.jsx)("div",{className:"book",children:Object(vt.jsx)("div",{className:"book__form",ref:r,children:Object(vt.jsxs)("form",{onSubmit:async e=>{e.preventDefault();await t({...l,...s&&{name:s.name,lastname:s.lastname,phone:s.cel,email:s.email}},!1,!0)&&n(c);const a=r.current.getBoundingClientRect(),o=window.pageYOffset||document.documentElement.scrollTop;window.scrollTo(0,a.top+o)},className:"form",id:"form",children:[Object(vt.jsxs)("div",{className:"u-margin-bottom-6 booking-title",children:[Object(vt.jsx)("h2",{className:"booking-title-heading",children:"Contact Us"}),Object(vt.jsx)("h3",{className:"booking-title-subheading",children:"Let us know a little bit about your project and we'll take it from there."})]}),Object(vt.jsx)(Vt,{type:"1"}),!s&&Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsx)("div",{className:"form__group",children:Object(vt.jsxs)("div",{className:"form__group-sub",children:[Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",value:o,onChange:h,placeholder:"First Name",id:"name",required:!0}),Object(vt.jsx)("label",{htmlFor:"name",className:"form__label",children:"First Name"})]}),Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",value:i,onChange:h,placeholder:"Last Name",id:"lastname",required:!0}),Object(vt.jsx)("label",{htmlFor:"lastname",className:"form__label",children:"Last Name"})]})]})}),Object(vt.jsx)("div",{className:"form__group",children:Object(vt.jsxs)("div",{className:"form__group-sub",children:[Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",value:d,onChange:h,placeholder:"Phone",id:"phone",required:!0}),Object(vt.jsx)("label",{htmlFor:"phone",className:"form__label",children:"Phone"})]}),Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"email",className:"form__input",placeholder:"Email Address",value:j,onChange:h,id:"email",required:!0}),Object(vt.jsx)("label",{htmlFor:"email",className:"form__label",children:"Email Address"})]})]})})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",value:m,onChange:h,placeholder:"Company Name",id:"company"}),Object(vt.jsx)("label",{htmlFor:"company",className:"form__label",children:"Company Name"})]}),Object(vt.jsxs)("div",{style:{width:"100%"},children:[Object(vt.jsx)("label",{htmlFor:"experience",className:"form__label",children:"What's Your Experience With Drones?"}),Object(vt.jsxs)("select",{id:"experience",className:"form__input space ".concat(""===b?"empty":""),value:b,onChange:h,children:[Object(vt.jsx)("option",{value:"",children:"* Select your Experience"}),Object(vt.jsx)("option",{value:"Own Drones",children:"Own Drones"}),Object(vt.jsx)("option",{value:"Use Third Party Drone Services",children:"Use Third Party Drone Services"}),Object(vt.jsx)("option",{value:"Interested in Using Drones",children:"Interested in Using Drones"}),Object(vt.jsx)("option",{value:"Not Interested in Using Drones",children:"Not Interested in Using Drones"})]})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("textarea",{type:"text",value:u,onChange:h,className:"form__input",placeholder:"Tell us About Your Project",id:"message"}),Object(vt.jsx)("label",{htmlFor:"message",className:"form__label",children:"Tell us About Your Project"})]}),Object(vt.jsx)("div",{className:"form__group",children:Object(vt.jsx)("button",{type:"submit",className:"btn btn-secondary",children:"Submit \u2192"})})]})})})})})]})}));var Gt=Object(dt.b)((e=>({auth:e.auth})),{clearJobs:We,clearReservations:qe})((e=>{let{clearReservations:t,clearJobs:s,auth:{loggedUser:a}}=e;return Object(vt.jsxs)("div",{children:[Object(vt.jsx)(_t,{clearJobs:s,clearReservations:t}),Object(vt.jsx)(Ct,{}),Object(vt.jsx)(Dt,{clearJobs:s,clearReservations:t}),Object(vt.jsx)(Bt,{}),(!a||a&&"admin"!==a.type)&&Object(vt.jsx)(qt,{})]})}));s(78);function Zt(){return c.a.useEffect((()=>{window.scrollTo(0,0)})),Object(vt.jsxs)("div",{children:[Object(vt.jsxs)("div",{className:"contact",children:[Object(vt.jsx)("h1",{className:"contact-heading",children:"Get in Touch with Us."}),Object(vt.jsx)("h3",{className:"contact-subheading",children:"Do not hesitate to reach out with any questions. We'll be in touch."})]}),Object(vt.jsx)(qt,{})]})}s(79);var Wt=Object(dt.b)((e=>({job:e.job})),{loadJobs:Ze})((e=>{let{loadJobs:t,job:{jobs:s,loading:c}}=e;return Object(a.useEffect)((()=>{c&&t({})}),[c,t]),Object(vt.jsxs)("div",{className:"servicesfull",id:"servicesfull",children:[Object(vt.jsx)("h2",{className:"heading-primary",children:"Our Services"}),Object(vt.jsx)(Xt,{}),Object(vt.jsx)("div",{className:"card-services",children:!c&&s.map(((e,t)=>Object(vt.jsx)("div",{className:"card",children:Object(vt.jsxs)("div",{className:"card-inner",children:[Object(vt.jsx)("div",{className:"card-front card-front-".concat(t+1),children:Object(vt.jsx)("h4",{className:"card-heading card-heading-".concat(t+1),children:Object(vt.jsx)("span",{className:"card-heading-span card-heading-span-".concat(t+1),children:e.title})})}),Object(vt.jsx)("div",{className:"card-back card-back-".concat(t+1),children:Object(vt.jsxs)("div",{className:"card-cta",children:[Object(vt.jsxs)("div",{className:"card-price-box",children:[Object(vt.jsx)("p",{className:"card-price-only",children:e.subtitle}),Object(vt.jsx)("p",{className:"card-price-value",children:e.poptext})]}),Object(vt.jsx)("div",{className:"popup-button",children:Object(vt.jsx)(mt.a,{to:"/booking",onClick:()=>window.scrollTo(0,0),className:"btn btn-quaternary",children:"Contact Us"})})]})})]})},t)))})]})})),zt=(s(80),s.p+"static/media/global.fc9ea976.png"),$t=s.p+"static/media/progress.9a7ba162.png",Kt=s.p+"static/media/safety.c8723814.png";var Qt=()=>Object(vt.jsxs)("div",{children:[Object(vt.jsx)("div",{className:"vrm-header",id:"vrm",children:Object(vt.jsxs)("div",{className:"vrm-header-section",children:[Object(vt.jsx)("h1",{className:"vrm-header-text",children:"Virtual Reality Management with 360 Virtual Walkthrough"}),Object(vt.jsx)("h2",{className:"vrm-header-subtext",children:"Unlimited perspectives in one solution."})]})}),Object(vt.jsxs)("section",{className:"vrm-benefits",children:[Object(vt.jsxs)("div",{className:"vrm-benefits-item",children:[Object(vt.jsx)("img",{src:$t,className:"vrm-benefits-item-image",alt:"global"}),Object(vt.jsxs)("div",{children:[Object(vt.jsx)("h3",{className:"vrm-benefits-item-heading",children:"Complete Site Documentation"}),Object(vt.jsx)("h5",{className:"vrm-benefits-item-text",children:"DroneTahoe digitizes your entire site with drones and 360 cameras."})]})]}),Object(vt.jsxs)("div",{className:"vrm-benefits-item",children:[Object(vt.jsx)("img",{src:zt,className:"vrm-benefits-item-image",alt:"progress"}),Object(vt.jsxs)("div",{children:[Object(vt.jsx)("h3",{className:"vrm-benefits-item-heading",children:"One Solution for Entire Site Reality"}),Object(vt.jsx)("h5",{className:"vrm-benefits-item-text",children:"Analyze drone and 360 data on one mobile platform."})]})]}),Object(vt.jsxs)("div",{className:"vrm-benefits-item",children:[Object(vt.jsx)("img",{src:Kt,className:"vrm-benefits-item-image",alt:"maps"}),Object(vt.jsxs)("div",{children:[Object(vt.jsx)("h3",{className:"vrm-benefits-item-heading",children:"Increase Safety, Decrease Rework"}),Object(vt.jsx)("h5",{className:"vrm-benefits-item-text",children:"Catch issues earlier than ever with visual data."})]})]})]}),Object(vt.jsxs)("section",{className:"vrm-description",children:[Object(vt.jsx)("div",{className:"vrm-description-img img1"}),Object(vt.jsx)("p",{className:"vrm-description-text",children:"DroneTahoe takes interior, exterior and aerial imagery of your job site and digitizes it into Virtual Reality. Once digitized, your entire team can inspect, validate, and comprehend site progress \u2013 no matter where they are in the world - with a 360\xb0 perspective."}),Object(vt.jsxs)("div",{className:"vrm-group",children:[Object(vt.jsx)("img",{src:St,alt:"",className:"vrm-group-item"}),Object(vt.jsx)("img",{src:Ft,alt:"",className:"vrm-group-item"}),Object(vt.jsx)("img",{src:Mt,alt:"",className:"vrm-group-item"}),Object(vt.jsx)("img",{src:At,alt:"",className:"vrm-group-item"})]})]}),Object(vt.jsx)(qt,{})]});s(81);var es=()=>Object(vt.jsxs)("div",{className:"portfolio",children:[Object(vt.jsx)("h1",{className:"heading-primary",children:"Portfolio"}),Object(vt.jsx)("h2",{className:"heading-primary-subheading",children:"A few examples of our recent work:"}),Object(vt.jsxs)("div",{className:"portfolio-group",children:[Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/630298172?h=481cc9d119&badge=0&autopause=0&player_id=0&app_id=58479",frameborder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowfullscreen:!0,title:"Phoenix Rising"}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"Phoenix Rising"})]}),Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/631210506?h=b5af32c692&badge=0&autopause=0&player_id=0&app_id=58479",title:"Vimeo video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"Martis House Layout"})]}),Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/643232672?h=ceaec90017&badge=0&autopause=0&player_id=0&app_id=58479",title:"Vimeo video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"Fannette Island 3D Model"})]}),Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/643238467?h=a248a1f339&badge=0&autopause=0&player_id=0&app_id=58479",title:"Vimeo video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"Emerald Bay Teahouse Fantasy Full Moon"})]}),Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/631124253?h=8cccc7bfec&badge=0&autopause=0&player_id=0&app_id=58479",title:"Vimeo video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"Phoenix Rising Roof Barcode"})]}),Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/643418675?h=544a013c78&badge=0&autopause=0&player_id=0&app_id=58479",title:"Vimeo video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"Emerald Bay & Granite Lake"})]}),Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/643385157?h=ae7d4a6f15&badge=0&autopause=0&player_id=0&app_id=58479",title:"Vimeo video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"Eagle Falls 2021"})]}),Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/643244364?h=ebcd7c5215&badge=0&autopause=0&player_id=0&app_id=58479",title:"Vimeo video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"Lake Azure"})]}),Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/643279221?h=25bb357e5c&badge=0&autopause=0&player_id=0&app_id=58479",title:"Vimeo video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"South Yuba River Running #1"})]})]})]}),ts=s(39),ss=s(40),as=s.n(ss);s(82);var cs=Object(dt.b)((e=>({auth:e.auth})),{facebookLogin:e=>async t=>{let s=!1;try{const s=await at.post("/auth/facebooklogin",e);t({type:u,payload:s.data}),t($e(!0))}catch(a){401!==a.response.status?(t(Le(a.response.data.msg,"danger","1")),t(tt(h,a.response)),t(Je(!1))):s=!0}s||window.scrollTo(0,0)},googleLogin:e=>async t=>{let s=!1;try{const s=await at.post("/auth/googlelogin",e);t({type:u,payload:s.data}),t($e(!0))}catch(a){401!==a.response.status?(t(Le(a.response.data.msg,"danger","1")),t(tt(h,a.response)),t(Je(!1))):s=!0}s||window.scrollTo(0,0)},loginUser:e=>async t=>{t(Je(!0));let s=!1,a={};for(const r in e)""!==e[r]&&(a[r]=e[r]);try{const e=await at.post("/auth",a);t({type:u,payload:e.data}),t($e(!0))}catch(c){401!==c.response.status?(t(tt(h,c.response)),c.response.data.errors?c.response.data.errors.forEach((e=>{t(Le(e.msg,"danger","1"))})):t(Le(c.response.msg,"danger","1")),t(Je(!1))):s=!0}s||window.scrollTo(0,0)},setAlert:Le,sendPasswordLink:e=>async t=>{t(Je(!0));let s=!1;try{const s=await at.post("/auth/password",{email:e});t({type:v}),t(Le(s.data.msg,"success","1"))}catch(a){401!==a.response.status?(t(tt(g,a.response)),a.response.data.errors?a.response.data.errors.forEach((e=>{t(Le(e.msg,"danger","1"))})):t(Le(a.response.data.msg,"danger","1"))):s=!0}s||(window.scrollTo(0,0),t(Je(!1)))},updateLoadingSpinner:Je,clearEmailSent:Qe})((e=>{let{facebookLogin:t,googleLogin:s,loginUser:c,setAlert:r,sendPasswordLink:l,updateLoadingSpinner:n,clearEmailSent:o}=e;const[i,d]=Object(a.useState)({email:"",password:""}),{email:j,password:m}=i,[b,u]=Object(a.useState)({forgotPassword:!1}),{forgotPassword:h}=b,p=e=>{e.persist(),d({...i,[e.target.id]:e.target.value})};return Object(vt.jsxs)("div",{className:"section-login",children:[Object(vt.jsx)(Xt,{}),Object(vt.jsx)("div",{className:"login",children:Object(vt.jsxs)("div",{className:"login-card",children:[Object(vt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),h?l(j):c(i)},className:"form",children:[Object(vt.jsx)("h2",{className:"heading-primary",children:h?"Change Password":"Login"}),h?Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsx)("div",{className:"form-section",children:Object(vt.jsxs)("div",{className:"form-group",children:[Object(vt.jsx)("input",{className:"form__input",type:"email",id:"email",value:j,onChange:p,placeholder:"Email"}),Object(vt.jsx)("label",{htmlFor:"email",className:"form__label",children:"Email"})]})}),Object(vt.jsxs)("div",{className:"u-center-text",children:[Object(vt.jsx)("div",{className:"login-btn",children:Object(vt.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Send Link"})}),Object(vt.jsx)("p",{className:"login-card-sign",children:"An email will be sent to the email address so you can change the password."}),Object(vt.jsx)("p",{className:"login-card-sign",children:"Please, check your spam folder before resendig the email."})]}),Object(vt.jsx)("br",{}),Object(vt.jsx)("button",{className:"btn-link",onClick:()=>u((e=>({...e,forgotPassword:!1}))),children:"Go Back"})]}):Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsxs)("div",{className:"form-section",children:[Object(vt.jsx)(Vt,{type:"1"}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"email",id:"email",value:j,onChange:p,placeholder:"Email"}),Object(vt.jsx)("label",{htmlFor:"email",className:"form__label",children:"Email"})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"password",value:m,id:"password",onChange:p,placeholder:"Password"}),Object(vt.jsx)("label",{htmlFor:"password",className:"form__label",children:"Password"})]})]}),Object(vt.jsxs)("div",{className:"u-center-text",children:[Object(vt.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Sign In"}),Object(vt.jsxs)("p",{className:"login-card-sign",children:["Don't have an account? \xa0",Object(vt.jsx)(mt.a,{className:"btn-link",onClick:()=>{window.scrollTo(0,0),o()},to:"/signup",children:"Sign up"})]}),Object(vt.jsxs)("p",{className:"login-card-sign",children:["Forgot password? \xa0",Object(vt.jsx)("button",{className:"btn-link",onClick:()=>u((e=>({...e,forgotPassword:!0}))),children:"Change Password"})]}),Object(vt.jsxs)("div",{className:"login-card-smedia",children:[Object(vt.jsx)(ts.GoogleLogin,{clientId:"716068618953-7r7hq8lciu7narlb9gre4ik8ja33q206.apps.googleusercontent.com",buttonText:"Login",className:"btn-google",onRequest:()=>n(!0),onSuccess:e=>{s({tokenId:e.tokenId})},onFailure:e=>{console.log(e.error),n(!1),r("Error login in","danger","2")},cookiePolicy:"single_host_origin"}),Object(vt.jsx)("span",{className:"btn-facebook",children:Object(vt.jsx)(as.a,{onClick:()=>n(!0),appId:"2930864633838828",autoLoad:!1,textButton:Object(vt.jsx)("i",{className:"fab fa-facebook-f"}),callback:e=>{t({accessToken:e.accessToken,userID:e.userID})}})})]})]})]})]}),Object(vt.jsx)("div",{className:"login-img img"})]})})]})}));var rs=Object(dt.b)((e=>({auth:e.auth})))((e=>{let{component:t,auth:{loggedUser:s,loading:c,token:r},types:l,path:n}=e;return!c&&r?0===l.length||l.some((e=>e===s.type))?Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsx)(Xt,{}),Object(vt.jsx)(jt.b,{exact:!0,path:n,component:t})]}):Object(vt.jsx)(jt.a,{to:"/"}):null===r?Object(vt.jsx)(jt.a,{to:"/login"}):Object(vt.jsx)(Xt,{})}));var ls=Object(dt.b)((e=>({auth:e.auth})))((e=>{let{component:t,auth:{isAuthenticated:s,userLogged:c},path:r}=e;return s?Object(vt.jsx)(jt.a,{to:c&&"customer"===c.type?"/":"/reservations-list"}):Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsx)(Xt,{}),Object(vt.jsx)(jt.b,{exact:!0,path:r,component:t})]})}));s(83);var ns=Object(dt.b)((e=>({auth:e.auth,user:e.user})),{signup:e=>async t=>{t(Je(!0));let s=!1,a={};for(const r in e)""!==e[r]&&(a[r]=e[r]);try{await at.post("/auth/signup",a),t({type:v})}catch(c){401!==c.response.status?(t(tt(O,c.response)),c.response.data.errors?c.response.data.errors.forEach((e=>{t(Le(e.msg,"danger","1"))})):t(Le(c.response.data.msg,"danger","1")),window.scrollTo(0,0)):s=!0}s||t(Je(!1))},updateUser:(e,t)=>async s=>{s(Je(!0));let a=!1,c={};for(const t in e)""!==e[t]&&(c[t]=e[t]);try{const a=await at.post("/user/".concat(e.id),c);s({type:t?b:R,payload:a.data}),s(Le("".concat(t?"Profile":"User"," Successfully Updated"),"success","1")),t||(s(qe()),Ue.goBack())}catch(r){401!==r.response.status?(s(xt(k,r.response)),r.response.data.errors?r.response.data.errors.forEach((e=>{s(Le(e.msg,"danger","1"))})):s(Le(r.response.data.msg,"danger","1"))):a=!0}a||(window.scrollTo(0,0),s(Je(!1)))},loadUser:e=>async t=>{t(Je(!0));let s=!1;try{const s=await at.get("/user/".concat(e));t({type:D,payload:s.data})}catch(a){401!==a.response.status?(t(Le(a.response.data.msg,"danger","1")),t(xt(k,a.response))):s=!0}s||t(Je(!1))}})(Object(jt.g)((e=>{let{auth:{loggedUser:t,isAuthenticated:s,loading:c,emailSent:r},user:{user:l,loadingUser:n},location:o,match:i,signup:d,loadUser:j,updateUser:m}=e;const b=t&&"admin"===t.type,u=i.params.user_id;let h=o.pathname.replace("/","");u&&(h=h.replace("/".concat(u),""));const[p,g]=Object(a.useState)({id:"",name:"",lastname:"",email:"",password:"",passwordConf:"",cel:"",type:""}),{name:O,lastname:x,email:v,password:f,cel:y,type:N,passwordConf:w}=p;Object(a.useEffect)((()=>{let e;(!e&&"signup"!==h&&""===v||"profile"===h&&v!==t.email)&&(u?n?j(u):e=l:e=t,e&&g((t=>({...t,id:e.id,name:e.name,lastname:e.lastname,type:e.type,email:e.email,cel:"0"===e.cel?"":e.cel}))))}),[t,n,l,u,j,v,h]),Object(a.useEffect)((()=>{r&&window.scrollTo(0,0)}),[r]);const _=e=>{e.persist(),g((t=>({...t,[e.target.id]:e.target.value})))},D=async e=>{e.preventDefault(),"signup"===h?d(p):m(p,"profile"===h)};return(!s||!c)&&Object(vt.jsxs)("div",{className:"user",children:[Object(vt.jsx)("h2",{className:"heading-primary",children:(()=>{switch(h){case"profile":return Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsx)("i",{className:"fas fa-user-alt"}),"\xa0My Profile"]});case"signup":return Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsx)("i",{className:"fas fa-user-plus"}),"\xa0New account"]});case"edit-user":return Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsx)("i",{className:"fas fa-user-edit"}),"\xa0Edit User"]})}})()}),r?Object(vt.jsx)("div",{className:"user-email u-center-text",children:Object(vt.jsxs)("div",{children:[Object(vt.jsx)("i",{className:"fas fa-envelope user-email-icon"}),Object(vt.jsxs)("h4",{className:"user-email-text",children:["We've sent an email to"," ",Object(vt.jsx)("span",{className:"user-email-text-email",children:v}),".",Object(vt.jsx)("br",{}),"Click the confirmation link in that email to start using our servicies."]}),Object(vt.jsxs)("div",{className:"user-email-subtext",children:[Object(vt.jsx)("p",{children:"If you did not recieve the email,\xa0"}),Object(vt.jsx)("button",{type:"button",onClick:D,className:"btn-link",children:"resend it."}),Object(vt.jsx)("br",{}),Object(vt.jsx)("p",{children:"Check the spam folder to be sure it was not sent."})]})]})}):Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsx)(Vt,{type:"1"}),Object(vt.jsxs)("form",{className:"form",onSubmit:D,children:[Object(vt.jsx)("div",{className:"form__group",children:Object(vt.jsxs)("div",{className:"form__group-sub",children:[Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",placeholder:"First Name",id:"name",onChange:_,value:O}),Object(vt.jsx)("label",{htmlFor:"name",className:"form__label",children:"First Name"})]}),Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",placeholder:"Last Name",id:"lastname",onChange:_,value:x}),Object(vt.jsx)("label",{htmlFor:"lastname",className:"form__label",children:"Last Name"})]})]})}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:v,id:"email",disabled:"signup"!==h,onChange:_,placeholder:"Email"}),Object(vt.jsx)("label",{htmlFor:"email",className:"form__label",children:"Email"})]}),b&&Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsxs)("select",{className:"form__input ".concat(""===N?"empty":""),name:"type",id:"type",value:N,onChange:_,children:[Object(vt.jsx)("option",{value:"",children:"* Select user type"}),Object(vt.jsx)("option",{value:"admin",children:"Admin"}),Object(vt.jsx)("option",{value:"customer",children:"Customer"})]}),Object(vt.jsx)("label",{htmlFor:"type",className:"form__label ".concat(""===N?"hide":""),children:"User Type"})]}),"signup"===h&&Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",autoComplete:"new-password",id:"password",type:"password",value:f,placeholder:"Password",onChange:_}),Object(vt.jsx)("label",{htmlFor:"password",className:"form__label",children:"Password"})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",id:"passwordConf",type:"password",value:w,placeholder:"Confirm Password",onChange:_}),Object(vt.jsx)("label",{htmlFor:"passwordConf",className:"form__label",children:"Confirm Password"})]})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:y,onChange:_,id:"cel",placeholder:"Cellphone"}),Object(vt.jsx)("label",{htmlFor:"cel",className:"form__label",children:"Cellphone"})]}),Object(vt.jsx)("div",{className:"btn-center",children:Object(vt.jsx)("button",{className:"btn btn-primary",type:"submit",children:"signup"===h?"Sign Up":"Save"})}),"signup"===h&&Object(vt.jsxs)("p",{className:"user-login",children:["Do you already have an account? \xa0",Object(vt.jsx)(mt.a,{onClick:()=>window.scrollTo(0,0),className:"btn-link",to:"/login",children:"Login"})]})]})]})]})})));s(84);var os=Object(dt.b)((e=>({auth:e.auth,global:e.global})),{activation:e=>async t=>{t(Je(!0));let s=!1;try{const s=await at.post("/auth/activation",{token:e});t({type:x,payload:s.data})}catch(a){401!==a.response.status&&t(tt(O,a.response)),s=!0}s||(window.scrollTo(0,0),t(Je(!1)))},clearJobs:We,clearReservations:qe})((e=>{let{match:t,auth:{loading:s,loggedUser:c,error:r},activation:l,clearJobs:n,clearReservations:o,global:{footer:i,navbar:d}}=e;const j=t.params.token,m=Object(a.useRef)(),[b,u]=Object(a.useState)({float:!0}),{float:h}=b;return Object(a.useEffect)((()=>{l(j)}),[j,l]),Object(a.useEffect)((()=>{if(m.current){m.current.getBoundingClientRect().height+i+d+60>=window.innerHeight&&u((e=>({...e,float:!1})))}}),[i,d]),!s&&Object(vt.jsx)("div",{ref:m,className:"activation ".concat(h?"float":""),children:""!==r?Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsx)("h2",{className:"activation-error-header",children:"Ups... something went wrong!"}),Object(vt.jsx)("p",{className:"activation-error-text",children:r.msg})]}):null!==c&&Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsxs)("h2",{className:"heading-secondary-gradient",children:["Welcome ",c.name+" "+c.lastname,"!"]}),Object(vt.jsx)("p",{className:"activation-text",children:"Welcome to Drone Tahoe! You can start using our services now."}),Object(vt.jsx)("div",{className:"btn-center",children:Object(vt.jsx)(mt.a,{to:"/reservation/0",onClick:()=>{n(),o(),window.scrollTo(0,0)},className:"btn btn-primary",children:"Book now"})})]})})}));s(85);var is=Object(dt.b)((e=>({global:e.global})),{resetPassword:e=>async t=>{t(Je(!0));let s=!1,a={};for(const r in e)""!==e[r]&&(a[r]=e[r]);try{const e=await at.post("/auth/reset-password",a);t({type:N,payload:e.data}),"admin"===e.data.type?Ue.push("/reservations-list"):Ue.push("/"),t(Le("Password successfully changed","success","1"))}catch(c){401!==c.response.status?(t(tt(g,c.response)),c.response.data.errors?c.response.data.errors.forEach((e=>{t(Le(e.msg,"danger","1"))})):t(Le(c.response.data.msg,"danger","1"))):s=!0}s||(window.scrollTo(0,0),t(Je(!1)))}})((e=>{let{resetPassword:t,match:s,global:{footer:c,navbar:r}}=e;const l=Object(a.useRef)(),[n,o]=Object(a.useState)({password:"",passwordConf:""}),{password:i,passwordConf:d}=n,[j,m]=Object(a.useState)({float:!0}),{float:b}=j;Object(a.useEffect)((()=>{if(l.current){l.current.getBoundingClientRect().height+c+r+60>=window.innerHeight&&m((e=>({...e,float:!1})))}}),[c,r]);const u=e=>{e.persist(),o((t=>({...t,[e.target.id]:e.target.value})))};return Object(vt.jsx)(a.Fragment,{children:Object(vt.jsxs)("div",{className:"changepassword ".concat(b?"float":""),ref:l,children:[Object(vt.jsx)("h2",{className:"heading-primary",children:"Reset Password"}),Object(vt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t({...n,resetLink:s.params.token})},className:"form",children:[Object(vt.jsx)(Vt,{type:"1"}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",id:"password",type:"password",value:i,placeholder:"Password",onChange:u}),Object(vt.jsx)("label",{htmlFor:"password",className:"form__label",children:"Password"})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",id:"passwordConf",type:"password",value:d,placeholder:"Confirm Password",onChange:u}),Object(vt.jsx)("label",{htmlFor:"passwordConf",className:"form__label",children:"Confirm Password"})]}),Object(vt.jsx)("div",{className:"u-center-text",children:Object(vt.jsx)("button",{className:"btn btn-primary",children:"Save"})})]})]})})})),ds=s(102);var js=Object(dt.b)((e=>({auth:e.auth,day:e.day,reservation:e.reservation})))((e=>{let{confirm:t,reservation:{reservations:s},day:{availableHours:c,loadingAvailableHours:r},setToggleModal:l}=e;const[n,o]=Object(a.useState)({hourFrom:"",hourTo:""}),{hourFrom:i,hourTo:d}=n,[j,m]=Object(a.useState)({rangeFrom:[],rangeTo:[]}),{rangeFrom:b,rangeTo:u}=j;Object(a.useEffect)((()=>{if(!r){let e=[],t=s.filter((e=>!e.jobId));t=t.map((e=>new Date(e.hourTo).getUTCHours()));for(let s=0;s<c.length;s++)for(let a=c[s][0];a<c[s][1];a++)(0===t.length||t.some((e=>e!==a)))&&e.push(a);m((t=>({...t,rangeFrom:e})))}}),[r,c,s]);const h=e=>{if(e.persist(),o((t=>({...t,[e.target.id]:e.target.value}))),"hourFrom"===e.target.id&&""!==e.target.value){let t=[],s=e.target.value;const a=c.findIndex((e=>s>=e[0]&&s<=e[1]));for(s++;s<=c[a][1];)t.push(s),s++;m((e=>({...e,rangeTo:t})))}};return Object(vt.jsxs)("form",{className:"form",onSubmit:e=>{e.preventDefault(),t(n)},children:[Object(vt.jsx)("h3",{className:"heading-primary-subheading",children:"Disable Hour Range:"}),Object(vt.jsx)(Vt,{type:"2"}),Object(vt.jsx)("div",{className:"form__group",children:Object(vt.jsxs)("div",{className:"form__group-sub",children:[Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsxs)("select",{className:"form__input ".concat(""===i?"empty":""),id:"hourFrom",value:i,onChange:h,children:[Object(vt.jsx)("option",{value:"",children:"* Start"}),!r&&b.map(((e,t)=>Object(vt.jsx)("option",{value:e,children:"".concat(e%12!==0?e%12:12," ").concat(e>=12?"pm":"am")},t)))]}),Object(vt.jsx)("label",{htmlFor:"hourFrom",className:"form__label ".concat(""===i?"hide":""),children:"Start"})]}),Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsxs)("select",{className:"form__input ".concat(""===d?"empty":""),id:"hourTo",value:d,onChange:h,disabled:""===i,children:[Object(vt.jsx)("option",{value:"",children:"* End"}),u.map(((e,t)=>Object(vt.jsx)("option",{value:e,children:"".concat(e%12!==0?e%12:12," ").concat(e>=12?"pm":"am")},t)))]}),Object(vt.jsx)("label",{htmlFor:"hourTo",className:"form__label ".concat(""===d?"hide":""),children:"End"})]})]})}),Object(vt.jsxs)("div",{className:"popup-btns",children:[Object(vt.jsx)("button",{className:"btn btn-success",type:"submit",children:"Save"}),Object(vt.jsx)("button",{type:"button",className:"btn btn-danger",onClick:l,children:"Cancel"})]})]})}));var ms=e=>{let{job:t,setToggleModal:s,toggleModal:c,confirm:r}=e;const[l,n]=Object(a.useState)({id:0,title:"",subtitle:"",poptext:""}),{title:o,subtitle:i,poptext:d}=l;Object(a.useEffect)((()=>{t&&n((e=>e.id!==t.id?{id:t.id,title:t.title,subtitle:t.subtitle?t.subtitle:"",poptext:t.poptext?t.poptext:""}:e))}),[t]),Object(a.useEffect)((()=>{c||n({id:0,title:"",subtitle:"",poptext:""})}),[c]);const j=e=>{e.persist(),n((t=>({...t,[e.target.id]:e.target.value})))};return Object(vt.jsxs)("form",{className:"form",onSubmit:e=>{e.preventDefault(),r(l)},children:[Object(vt.jsxs)("h3",{className:"heading-primary-subheading",children:[t?"Update":"New"," Job:"]}),Object(vt.jsx)(Vt,{type:"2"}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:o,id:"title",onChange:j,placeholder:"Title"}),Object(vt.jsx)("label",{htmlFor:"title",className:"form__label",children:"Title"})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:i,id:"subtitle",onChange:j,placeholder:"Subtitle"}),Object(vt.jsx)("label",{htmlFor:"subtitle",className:"form__label",children:"Subtitle"})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("textarea",{type:"text",className:"form__input textarea",value:d,rows:"3",onChange:j,placeholder:"Extra Info",id:"poptext"}),Object(vt.jsx)("label",{htmlFor:"poptext",className:"form__label",children:"Extra Info"})]}),Object(vt.jsxs)("div",{className:"popup-btns",children:[Object(vt.jsx)("button",{type:"submit",className:"btn btn-success",children:"Save"}),Object(vt.jsx)("button",{type:"button",className:"btn btn-danger",onClick:s,children:"Cancel"})]})]})},bs=s(20),us=s(95),hs=s(96),ps=s(97),gs=s(98),Os=s(104);s(86);var xs=Object(dt.b)((e=>({auth:e.auth,day:e.day})),{checkDayAvailability:Pe,checkMonthAvailability:(e,t,s,a)=>async c=>{c(Je(!0));let r=!1;try{const r=await at.get("/day/".concat(e,"/").concat(t,"/").concat(s,"/").concat(a));c({type:G,payload:r.data})}catch(l){401!==l.response.status?(c(Le(l.response.data.msg,"danger","1")),c(He(ae,l.response)),window.scrollTo(0,0)):r=!0}r||c(Je(!1))},updateReservation:Ye,registerReservation:e=>async t=>{t(Je(!0));let s={};for(const c in e)""!==e[c]&&(s[c]=e[c]);try{let e=await at.post("/reservation",s);return t({type:U,payload:e.data}),t(Le("Reservation Registered","success","1")),window.scrollTo(0,0),t(Je(!1)),!0}catch(a){return 401!==a.response.status&&(t(Ge(B,a.response)),a.response.data.errors?a.response.data.errors.forEach((e=>{t(Le(e.msg,"danger","2"))})):t(Le(a.response.data.msg,"danger","2")),t(Je(!1))),!1}}})((e=>{let{auth:{loggedUser:t},reservation:s,setToggleModal:c,day:{availableHours:r,loadingAvailableHours:l,disabledDays:n},checkMonthAvailability:o,checkDayAvailability:i,updateReservation:d,registerReservation:j}=e;const m=Object(us.a)(new Date,1),b=0!==s.id&&"requested"!==s.status&&("customer"===t.type&&"unpaid"===s.status||"unpaid"!==s.status),[u,h]=Object(a.useState)({hourFrom:"",hourTo:""}),{hourFrom:p,hourTo:g}=u,[O,x]=Object(a.useState)({date:new Date,tab:0,diff:0,toggleModal:!1,month:Object(hs.a)(m),year:Object(ps.a)(m)}),{date:v,tab:f,diff:y,toggleModal:N,month:w,year:_}=O;Object(a.useEffect)((()=>{o(w,_,s.id,b?y:0)}),[o,w,_,s.id,b,y]),Object(a.useEffect)((()=>{if(b){const e=Object(gs.a)(new Date(s.hourFrom.slice(0,-1))),t=Object(gs.a)(new Date(s.hourTo.slice(0,-1)));x((s=>({...s,diff:t-e})))}}),[s,b]);const D=(e,t)=>{const a=new Date(v);a.setHours(t);let c=null;if(b){const e=new Date(s.hourFrom),a=new Date(s.hourTo);c=new Date(v),c.setHours(t+(a.getHours()-e.getHours()))}h((t=>({...t,[e]:a,...c&&{hourTo:c}}))),x((t=>({...t,tab:"hourFrom"!==e||c?3:2})))},E=Object(a.useCallback)((e=>{let{date:t,view:s}=e;if("month"===s&&n.length>0)return n.some((e=>Object(ds.a)(new Date(e.slice(0,-1)),"MM-dd-yyyy")===Object(ds.a)(t,"MM-dd-yyyy")))}),[n]);return Object(vt.jsxs)("div",{className:"schedule",children:[Object(vt.jsx)(_s,{type:"confirmation",toggleModal:N,setToggleModal:()=>x((e=>({...e,toggleModal:!N}))),confirm:async()=>{await d({...s,hourFrom:Object(ds.a)(p,"yyyy-MM-dd'T'HH':00:00Z'"),hourTo:Object(ds.a)(g,"yyyy-MM-dd'T'HH':00:00Z'")})&&c()},text:"Are you sure you want to modify the reservation?"}),Object(vt.jsx)("div",{className:"schedule-calendar",children:Object(vt.jsx)(bs.a,{value:v,onChange:e=>{x((t=>({...t,date:e,tab:e.getMonth()===w?1:0}))),i(Object(ds.a)(e,"yyyy-MM-dd'T00:00:00Z'"),s.id,b?y:0)},minDate:m,maxDate:Object(Os.a)(m,1),onActiveStartDateChange:e=>{if("month"===e.view||"year"===e.view){const t=Object(hs.a)(e.activeStartDate),s=Object(ps.a)(e.activeStartDate);x((e=>({...e,month:t,year:s})))}},tileDisabled:E})}),Object(vt.jsx)("div",{className:"schedule-details",children:(()=>{switch(f){case 0:return Object(vt.jsx)(a.Fragment,{children:Object(vt.jsxs)("h5",{className:"schedule-details-main",children:["Pick up a Date and Time"," ","admin"!==t.type&&"you are Available"]})});case 1:return!l&&(()=>{let e=[],s=b?y:2;for(let a=0;a<r.length;a++){let c="admin"===t.type||8===r[a][0]?r[a][0]:r[a][0]+1;for(;r[a][1]-c>s;)e.push(c),c++;(17===r[a][1]||"admin"===t.type&&r[a][1]-c===s)&&e.push(c)}return e.length>0?Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsxs)("p",{className:"schedule-details-title",children:[b?"Hour Range":"Start Time",":"]})," ",e.map(((e,t)=>Object(vt.jsxs)("div",{className:"schedule-details-item",onClick:()=>D("hourFrom",e),children:["".concat(e%12!==0?e%12:12," ").concat(e>=12?"pm":"am")," ",b&&" - "+"".concat((e+y)%12!==0?(e+y)%12:12," ").concat(e+y>=12?"pm":"am")]},t)))]}):Object(vt.jsx)("h2",{className:"schedule-details-main error",children:"No availability on this day"})})();case 2:return""!==p&&(()=>{let e=Object(gs.a)(p),s=[];const c=r.filter((t=>t[0]<=e&&t[1]>e))[0];for(e+=2;e<c[1];)s.push(e),e++;return(17===c[1]||"admin"===t.type&&e===c[1])&&s.push(e),s.length>0?Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsx)("p",{className:"schedule-details-title",children:"End Time:"})," ",s.map(((e,t)=>Object(vt.jsx)("div",{className:"schedule-details-item",onClick:()=>D("hourTo",e),children:"".concat(e%12!==0?e%12:12," ").concat(e>=12?"pm":"am")},t)))]}):Object(vt.jsx)("h2",{className:"schedule-details-main error",children:"No availability on this day"})})();case 3:return Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsx)("p",{className:"schedule-details-title",children:"Reservation Schedule:"}),Object(vt.jsxs)("form",{className:"form",onSubmit:async e=>{if(e.preventDefault(),0!==s.id)x((e=>({...e,toggleModal:!N})));else{await j({...s,..."customer"===t.type&&{user:t.id},hourFrom:Object(ds.a)(p,"yyyy-MM-dd'T'HH':00:00Z'"),hourTo:Object(ds.a)(g,"yyyy-MM-dd'T'HH':00:00Z'")})&&c()}},children:[Object(vt.jsx)(Vt,{type:"2"}),Object(vt.jsxs)("p",{className:"schedule-details-info",children:[Object(vt.jsx)("span",{className:"schedule-details-subtitle",children:"Date:"})," \xa0",Object(ds.a)(p,"MM/dd/yy")]}),Object(vt.jsxs)("p",{className:"schedule-details-info",children:[Object(vt.jsx)("span",{className:"schedule-details-subtitle",children:"Time:"})," \xa0",Object(ds.a)(p,"h aaa")," - ",Object(ds.a)(g,"h aaa")]}),"admin"!==t.type&&0===s.id&&Object(vt.jsx)("p",{className:"text-warning",children:"After saving the reservation, we will set the price for the job and send you an email confirming your appointment, so you can proceed with its payment."}),Object(vt.jsx)("div",{className:"btn-center",children:Object(vt.jsx)("button",{className:"btn",type:"submit",children:"Save"})})]})]})}})()})]})}));var vs=Object(dt.b)((e=>({user:e.user})),{loadUsers:pt,clearUsers:Ot})((e=>{let{user:{users:t,loading:s},selectFinalUser:c,reservationUser:r,searchDisplay:l,switchDisplay:n,clearUsers:o,loadUsers:i,clear:d,completeClear:j,autoComplete:m}=e;const b={email:"",lockEmail:!1},[u,h]=Object(a.useState)(b),{email:p,lockEmail:g}=u;Object(a.useEffect)((()=>{r?r.email&&h((e=>({...e,email:r.email}))):h((e=>({...e,email:""})))}),[r]),Object(a.useEffect)((()=>{d&&(h({email:"",lockEmail:!1}),j())}),[d,j]);return Object(vt.jsxs)("div",{className:"form__group form-search",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:p,disabled:r||g,name:"email",id:"email",autoComplete:m,onFocus:()=>n(!0),onChange:e=>{e.persist(),h((t=>({...t,email:e.target.value}))),e.target.value.length>1&&(o(),i({type:"customer",email:e.target.value},!0))},placeholder:"User's Email"}),Object(vt.jsx)("label",{htmlFor:"email",className:"form__label",children:"User's Email"}),l&&p.length>1&&!r&&Object(vt.jsx)("ul",{className:"form-search-display ".concat(0===t.length?"danger":""),children:!s&&Object(vt.jsx)(a.Fragment,{children:t.length>0?t.map((e=>Object(vt.jsx)("li",{className:"form-search-item",onClick:()=>(e=>{h((t=>({...t,email:e.email,lockEmail:!0}))),c(e),o()})(e),children:e.email},e.id))):Object(vt.jsx)("li",{className:"bg-danger form-search-item",children:"No matching results"})})}),p.length>1&&!r&&Object(vt.jsx)("button",{type:"button",onClick:()=>{c(),h(b)},className:"form-search-close",children:Object(vt.jsx)("i",{className:"far fa-times-circle"})})]})}));s(87);var fs=Object(dt.b)((e=>({job:e.job,auth:e.auth,jobsXreservation:e.jobsXreservation})),{updateReservation:Ye,loadReservationJobs:bt,clearJobsXReservations:ut})(Object(jt.g)((e=>{let{reservation:t,setToggleModal:s,match:r,location:l,job:{jobs:n},auth:{loggedUser:o},jobsXreservation:{jobsXreservations:i,loading:d},updateReservation:j,loadReservationJobs:m,clearJobsXReservations:b}=e;const u=Object(a.useRef)(),h=Object(a.useRef)(),p=/^[0-9]+(\.([0-9]{1,2})?)?$/,g=t&&"requested"!==t.status&&"unpaid"!==t.status,[O,x]=Object(a.useState)({id:0,jobs:[{id:0,jobId:r.params.job_id&&"0"!==r.params.job_id?r.params.job_id:"",value:"",discount:null}],user:null,address:"",comments:null,travelExpenses:null,refundReason:null,total:"",hourFrom:"",hourTo:""}),[v,f]=Object(a.useState)({searchDisplay:!1,clear:!1,changeDate:!1,percentage:[null]}),{searchDisplay:y,clear:N,changeDate:w,percentage:_}=v,{id:D,jobs:E,user:R,address:T,comments:k,total:C,travelExpenses:S,refundReason:F}=O;Object(a.useEffect)((()=>{t&&(!t.jobs&&d?m(t.id):D!==t.id&&(x((e=>{let s={};for(const a in e)s[a]=t[a]?t[a]:e[a];return{...s,jobs:i.map((e=>({...e,value:0===e.value?"":e.value})))}})),f((e=>({...e,percentage:i.map((e=>{if(null!==e.discount){const t=100*e.discount/e.value;return Math.round(100*(t+Number.EPSILON))/100}return null}))})))))}),[t,D,d,m,i]);const M=e=>{const t=E.reduce(((e,t)=>{let s=Number(t.value);return null!==t.discount&&(s-=Number(t.discount)),e+s}),0);let s=null!==e?t+Number(e):t;return s=Math.round(100*(s+Number.EPSILON))/100,s},A=e=>{e.persist(),"travelExpenses"===e.target.id?(p.test(e.target.value)||""===e.target.value)&&x((t=>({...t,travelExpenses:e.target.value,total:M(e.target.value)}))):x((t=>({...t,[e.target.id]:e.target.value})))},U=e=>{e.persist(),"jobId"===e.target.name||""===e.target.value||p.test(e.target.value)&&(null===E[e.target.id].discount||Number(E[e.target.id].discount)<=Number(e.target.value))?E[e.target.id][e.target.name]=e.target.value:(p.test(e.target.value)&&(E[e.target.id].value=e.target.value),E[e.target.id].discount="",_[e.target.id]="",f((e=>({...e,percentage:_})))),x((t=>({...t,jobs:E,..."jobId"!==e.target.name&&{total:M(S)}})))},I=e=>{if(e.persist(),p.test(e.target.value)){if("discount"===e.target.name&&Number(E[e.target.id].value)>=Number(e.target.value)){const t=100*Number(e.target.value)/Number(E[e.target.id].value);_[e.target.id]=Math.round(100*(t+Number.EPSILON))/100,E[e.target.id].discount=e.target.value}else if(Number(e.target.value)<=100){const t=Number(e.target.value)*Number(E[e.target.id].value)/100;_[e.target.id]=e.target.value,E[e.target.id].discount=Math.round(100*(t+Number.EPSILON))/100}}else""===e.target.value&&(E[e.target.id].discount="",_[e.target.id]="");x((e=>({...e,jobs:E,total:M(S)}))),f((e=>({...e,percentage:_})))},L=(e,t)=>{const s=E.findIndex((t=>Number(t.jobId)===e.id));if(-1===s||s===t)return Object(vt.jsx)("option",{value:e.id,children:e.title})};return Object(vt.jsxs)("div",{className:"reservation-form ".concat("customer"===o.type?"border":""),children:[Object(vt.jsxs)("form",{ref:u,onSubmit:async e=>{e.preventDefault();await j(O)?(s(),b()):u.current.scrollIntoView()},children:["customer"===o.type&&Object(vt.jsx)("div",{className:"btn-top-right",children:Object(vt.jsx)("button",{className:"reservation-form-cancel",onClick:e=>{e.preventDefault(),s(),b()},children:Object(vt.jsx)("i",{className:"fas fa-times"})})}),Object(vt.jsxs)("div",{className:"reservation-form-inner",children:[Object(vt.jsxs)("h4",{className:"heading-primary-subheading",children:[t?t&&"canceled"!==t.status&&"refunded"!==t.status&&"completed"!==t.status?"Update":"":"New"," ","Reservation:"]}),"admin"!==o.type&&!t&&Object(vt.jsx)("p",{className:"text-warning",children:"Enter job site address and job type. Add additional jobs, if any, by clicking the \u2018+ Job\u2019 button. Once all jobs are entered, select your desired date/time below."}),t&&Object(vt.jsxs)("p",{className:"heading-primary-subheading-update",children:[Object(ds.a)(new Date(t.hourFrom.slice(0,-1)),"MM/dd/yy")," ","\xa0",Object(ds.a)(new Date(t.hourFrom.slice(0,-1)),"h aaa")," - ",Object(ds.a)(new Date(t.hourTo.slice(0,-1)),"h aaa")]}),!w&&t&&Object(vt.jsx)(Vt,{type:"2"}),t&&o&&"admin"===o.type&&Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsxs)("p",{className:"reservation-form-item",children:[Object(vt.jsx)("span",{className:"reservation-form-title",children:"Status:"})," ",t.status.charAt(0).toUpperCase()+t.status.slice(1)]}),"unpaid"!==t.status&&"requested"!==t.status&&Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsxs)("p",{className:"reservation-form-item",children:[Object(vt.jsx)("span",{className:"reservation-form-title",children:"Payment method:"})," ",t.paymentId?"Paypal":"Cash"]}),t.paymentId&&Object(vt.jsxs)("p",{className:"reservation-form-item",children:[Object(vt.jsx)("span",{className:"reservation-form-title",children:"PayPal ID:"})," ",t.paymentId]})]})]}),o&&"admin"===o.type&&Object(vt.jsx)(vs,{selectFinalUser:e=>{x((t=>({...t,user:e?e.id:null})))},reservationUser:t?R:null,searchDisplay:y,switchDisplay:e=>f((t=>({...t,searchDisplay:e}))),clear:N,completeClear:()=>f((e=>({...e,clear:!1}))),autoComplete:"new-password"}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:T,onChange:A,disabled:g,id:"address",placeholder:"Address"}),Object(vt.jsx)("label",{htmlFor:"address",className:"form__label",children:"Address"})]}),Object(vt.jsxs)("div",{className:"jobs-list",children:[Object(vt.jsx)("p",{className:"jobs-list-title",children:"Jobs List"}),E.length>0&&E.map(((e,s)=>Object(vt.jsxs)("div",{className:"jobs-list-item",children:[Object(vt.jsxs)("div",{className:"jobs-list-item-group ".concat(g?"full":""),children:[Object(vt.jsxs)("p",{className:"jobs-list-item-title",children:["Job ",s+1]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsxs)("select",{className:"form__input ".concat(""===e.jobId?"empty":""),id:s,name:"jobId",value:e.jobId,disabled:g,onFocus:()=>f((e=>({...e,searchDisplay:!1}))),onChange:U,children:[Object(vt.jsx)("option",{value:"",children:"* Type of Job"}),n.length>0&&n.map((e=>Object(vt.jsx)(c.a.Fragment,{children:L(e,s)},"jl-".concat(s,"-").concat(e.id))))]}),Object(vt.jsx)("label",{htmlFor:"item",className:"form__label ".concat(""===e.jobId?"hide":""),children:"Type of Job"})]}),"admin"===o.type?Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:e.value,onChange:U,disabled:g,id:s,name:"value",placeholder:"Job Value"}),Object(vt.jsx)("label",{htmlFor:s,className:"form__label",children:"Job Value"})]}),Object(vt.jsx)("div",{className:"form__group ".concat(null===e.discount?"hide":""),children:Object(vt.jsxs)("div",{className:"form__group-sub",children:[Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",placeholder:"Discount",name:"discount",disabled:g,id:s,onChange:I,value:null!==e.discount?e.discount:""}),Object(vt.jsx)("label",{htmlFor:"discount",className:"form__label",children:"Discount"})]}),Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",placeholder:"Percentage",name:"percentage",disabled:g,id:s,onChange:I,value:null!==e.discount?_[s]:""}),Object(vt.jsx)("label",{htmlFor:"percentage",className:"form__label",children:"Percentage"})]})]})}),(t&&("requested"===t.status||"unpaid"===t.status)||!t)&&Object(vt.jsxs)("div",{className:"form__group switch",children:[Object(vt.jsx)("label",{className:"form__label-switch",htmlFor:"discountChk",children:"Discount"}),Object(vt.jsx)("input",{type:"checkbox",id:"discountChk",checked:null!==e.discount,onChange:e=>{e.persist(),e.target.checked?(E[s].discount="",_[s]=""):(E[s].discount=null,_[s]=null),x((e=>({...e,jobs:E,...null==E[s].discount&&{total:M(S)}}))),f((e=>({...e,percentage:_})))},className:"form__input-switch"})]})]}):e.value&&Object(vt.jsx)("div",{className:"jobs-list-item-price",children:Object(vt.jsx)("table",{children:Object(vt.jsxs)("tbody",{children:[Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("td",{className:"text-dark",children:"Value:"}),Object(vt.jsxs)("td",{children:["\xa0$",e.value,"\xa0"]})]}),null!==e.discount&&Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("td",{className:"text-dark",children:"Discount:"}),Object(vt.jsxs)("td",{children:["$",e.discount," (",_[s],"% off)"]})]})]})})})]}),!g&&Object(vt.jsx)("button",{className:"btn-icon",onClick:e=>{e.preventDefault(),E.splice(s,1),_.splice(s,1),x((e=>({...e,jobs:E,total:M(S)}))),f((e=>({...e,percentage:_})))},children:Object(vt.jsx)("i",{className:"far fa-trash-alt"})})]},s))),!g&&Object(vt.jsx)("div",{className:"btn-right",children:Object(vt.jsxs)("button",{className:"btn btn-quaternary",onClick:e=>{e.preventDefault(),x((e=>({...e,jobs:[...E,{id:0,jobId:"",value:"",discount:null}]}))),_.push(null),f((e=>({...e,percentage:_})))},children:[Object(vt.jsx)("i",{className:"fas fa-plus"})," \xa0 Job"]})})]}),Object(vt.jsxs)("div",{className:"form__group ".concat(null===k?"hide":"show"),children:[Object(vt.jsx)("textarea",{type:"text",className:"form__input textarea",value:null===k?"":k,id:"comments",disabled:g,rows:"3",onChange:A,placeholder:"Special Request"}),Object(vt.jsx)("label",{htmlFor:"comments",className:"form__label",children:"Special Request"})]}),(!t||t&&("requested"===t.status||"unpaid"===t.status))&&Object(vt.jsxs)("div",{className:"form__group switch",children:[Object(vt.jsx)("label",{className:"form__label-switch",htmlFor:"commentsChk",children:"Special Request"}),Object(vt.jsx)("input",{checked:null!==k,type:"checkbox",id:"commentsChk",name:"commentsChk",onChange:e=>{e.persist(),x((t=>({...t,comments:e.target.checked?"":null})))},className:"form__input-switch"})]}),("admin"===o.type||"customer"===o.type&&null!==S)&&Object(vt.jsxs)("div",{className:"form__group ".concat(null===S?"hide":"show"),children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:null!==S?S:"",onChange:A,disabled:g||"customer"===o.type,id:"travelExpenses",placeholder:"Travel Expenses"}),Object(vt.jsx)("label",{htmlFor:"travelExpenses",className:"form__label",children:"Travel Expenses"})]}),"admin"===o.type&&(t&&("requested"===t.status||"unpaid"===t.status)||!t)&&Object(vt.jsxs)("div",{className:"form__group switch",children:[Object(vt.jsx)("label",{className:"form__label-switch",htmlFor:"travelExpChk",children:"Travel Expenses"}),Object(vt.jsx)("input",{checked:null!==S,type:"checkbox",id:"travelExpChk",name:"travelExpChk",onChange:e=>{e.persist(),x((t=>({...t,travelExpenses:e.target.checked?"":null,...!e.target.checked&&{total:M(null)}})))},className:"form__input-switch"})]}),null!==F&&Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("textarea",{type:"text",className:"form__input textarea",value:F,id:"refundReason",rows:"3",disabled:"customer"===o.type,onChange:A,placeholder:"Refund Reason"}),Object(vt.jsx)("label",{htmlFor:"refundReason",className:"form__label",children:"Refund Reason"})]}),""!==C&&0!==C&&Object(vt.jsxs)("h4",{className:"reservation-form-total",children:[Object(vt.jsx)("span",{className:"reservation-form-total-title",children:"Total:"})," $",C]}),t&&"canceled"!==t.status&&"completed"!==t.status&&Object(vt.jsxs)("div",{className:"btn-center",children:[!w&&("paid"!==t.status||null!==F&&"admin"===o.type)&&Object(vt.jsx)("button",{className:"btn",type:"submit",children:"Save"}),"/schedule"!==l.pathname&&Object(vt.jsx)("button",{className:"btn",onClick:e=>{e.preventDefault(),w||setTimeout((()=>{h.current.scrollIntoView(!0)}),30),f((e=>({...e,changeDate:!w})))},children:w?"Keep Date":"Change Date"})]})]})]}),Object(vt.jsx)("div",{ref:h,children:(w||!t)&&Object(vt.jsx)(xs,{setToggleModal:s,reservation:O})})]})})));var ys=Object(dt.b)((e=>({auth:e.auth,jobsXreservation:e.jobsXreservation})),{updatePayment:(e,t)=>async s=>{try{const a=await at.post("/reservation/payment/".concat(e),t);return s({type:be,payload:a.data}),!0}catch(a){return 401!==a.response.status&&(s(Le(a.response.data.msg,"danger","2")),s(Ge(ue,a.response))),!1}},makePayment:e=>async t=>{t(Je(!0));try{const s=await at.post("/reservation/payment",e);return t({type:"PAYMENT_SUCCESSFUL"}),t(Je(!1)),s.data}catch(s){401!==s.response.status&&(t(Le(s.response.data.msg,"danger","2")),t(Ge(ue,s.response)),t(Je(!1)))}},loadReservationJobs:bt,clearJobsXReservations:ut})((e=>{let{reservation:t,loadReservationJobs:s,clearJobsXReservations:r,updatePayment:n,makePayment:o,setToggleModal:i,auth:{loggedUser:d},jobsXreservation:{jobsXreservations:j,loading:m}}=e;const b=window.paypal?window.paypal.Buttons.driver("react",{React:c.a,ReactDOM:l.a}):void 0;return Object(a.useEffect)((()=>{m&&t&&s(t.id,"full")}),[m,t,s]),Object(vt.jsxs)("div",{className:"payment",children:[Object(vt.jsxs)("h3",{className:"heading-primary-subheading",children:["Reservation Payment: \xa0 $",t&&t.total]}),Object(vt.jsx)(Vt,{type:"2"}),d&&"admin"===d.type&&Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsx)("button",{className:"btn btn-tertiary",onClick:async()=>{await n(t.id)&&i()},children:"Pay Cash"}),Object(vt.jsx)("p",{className:"payment-text",children:"OR"})]}),b&&Object(vt.jsx)(b,{createOrder:async()=>{const e=null===t.travelExpenses?j:[...j,{value:t.travelExpenses,job:{title:"Travel Expenses"},discount:null}],s=await o({jobs:e,total:t.total});return console.log(s),s.id},onApprove:async(e,s)=>{const a=await s.order.capture();await n(t.id,{paymentId:a.id})&&(i(),r())},onError:e=>console.log(e)})]})}));var Ns=e=>{let{setToggleModal:t,toggleModal:s,confirm:c,users:r}=e;const[l,n]=Object(a.useState)({subject:"",message:""}),{subject:o,message:i}=l;Object(a.useEffect)((()=>{s||n({subject:"",message:""})}),[s]);const d=e=>{e.persist(),n((t=>({...t,[e.target.id]:e.target.value})))};return Object(vt.jsxs)("form",{className:"form",onSubmit:e=>{e.preventDefault(),c({...l,users:r})},children:[Object(vt.jsx)("h3",{className:"heading-primary-subheading",children:"Outreach Email:"}),Object(vt.jsx)(Vt,{type:"2"}),Object(vt.jsxs)("h5",{className:"popup-email-item",children:[Object(vt.jsx)("span",{className:"popup-email-title",children:"To: "}),r.map(((e,t)=>t+1!==r.length?e+", ":e+"."))]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:o,id:"subject",onChange:d,placeholder:"Subject"}),Object(vt.jsx)("label",{htmlFor:"subject",className:"form__label",children:"Subject"})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("textarea",{type:"text",className:"form__input textarea",value:i,rows:"5",onChange:d,placeholder:"Email Message",id:"message"}),Object(vt.jsx)("label",{htmlFor:"message",className:"form__label",children:"Email Message"})]}),Object(vt.jsxs)("div",{className:"popup-btns",children:[Object(vt.jsx)("button",{type:"submit",className:"btn btn-success",children:"Send"}),Object(vt.jsx)("button",{type:"button",className:"btn btn-danger",onClick:t,children:"Cancel"})]})]})};var ws=e=>{let{confirm:t,setToggleModal:s,reservation:c}=e;const r=/^[0-9]+(\.([0-9]{1,2})?)?$/,[l,n]=Object(a.useState)({amount:"",refundReason:""}),{amount:o,refundReason:i}=l;Object(a.useEffect)((()=>{n((e=>({...e,amount:"",refundReason:""})))}),[t]),Object(a.useEffect)((()=>{c&&null!==c.refundReason&&n((e=>({...e,refundReason:c.refundReason})))}),[c]);const d=e=>{e.persist(),("amount"!==e.target.id||""===e.target.value||r.test(e.target.value)&&c.total>=Number(e.target.value))&&n((t=>({...t,[e.target.id]:e.target.value})))};return Object(vt.jsxs)("form",{className:"form",onSubmit:e=>{e.preventDefault(),t(l)},children:[Object(vt.jsxs)("h3",{className:"heading-primary-subheading",children:["Reservation Total: \xa0 $",c&&c.total]}),Object(vt.jsx)(Vt,{type:"2"}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:o,onChange:d,id:"amount",placeholder:"Refund"}),Object(vt.jsx)("label",{htmlFor:"amount",className:"form__label",children:"Refund"})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("textarea",{type:"text",className:"form__input textarea",value:i,id:"refundReason",rows:"3",onChange:d,placeholder:"Refund Reason"}),Object(vt.jsx)("label",{htmlFor:"refundReason",className:"form__label",children:"Refund Reason"})]}),Object(vt.jsxs)("div",{className:"popup-btns",children:[Object(vt.jsx)("button",{className:"btn btn-success",type:"submit",children:"Refund"}),Object(vt.jsx)("button",{type:"button",className:"btn btn-danger",onClick:s,children:"Cancel"})]})]})};s(88);var _s=e=>{let{toggleModal:t,setToggleModal:s,confirm:a,text:c,subtext:r,type:l,toUpdate:n,clearJobs:o}=e;return Object(vt.jsx)("div",{className:"blurr-bg popup ".concat(t?"":"hide"),children:Object(vt.jsxs)("div",{className:"popup-content ".concat(l),children:[Object(vt.jsxs)("div",{className:"popup-heading",children:[Object(vt.jsx)("img",{className:"popup-heading-img",src:yt,alt:"logo"}),Object(vt.jsx)("button",{type:"button",onClick:()=>{s(),o&&o()},className:"popup-heading-btn",children:Object(vt.jsx)("i",{className:"fas fa-times"})})]}),(()=>{switch(l){case"confirmation":return Object(vt.jsxs)("div",{className:"popup-text",children:[Object(vt.jsx)("p",{children:c}),r?Object(vt.jsx)("p",{children:r}):"",Object(vt.jsxs)("div",{className:"popup-btns",children:[Object(vt.jsx)("button",{className:"btn btn-success",onClick:()=>{a(),s()},children:"OK"}),Object(vt.jsx)("button",{type:"button",className:"btn btn-danger",onClick:s,children:"Cancel"})]})]});case"schedule":return Object(vt.jsx)("div",{className:"popup-schedule wrapper wrapper-popup",children:Object(vt.jsx)(fs,{reservation:n,setToggleModal:s})});case"job":return Object(vt.jsx)("div",{className:"popup-job wrapper wrapper-popup",children:Object(vt.jsx)(ms,{toggleModal:t,confirm:a,job:n,setToggleModal:s})});case"hour":return Object(vt.jsx)("div",{className:"popup-hour wrapper wrapper-popup",children:Object(vt.jsx)(js,{setToggleModal:s,confirm:a})});case"payment":return Object(vt.jsx)("div",{className:"popup-payment",children:Object(vt.jsx)(ys,{reservation:n,setToggleModal:s})});case"email":return Object(vt.jsx)("div",{className:"popup-email",children:Object(vt.jsx)(Ns,{toggleModal:t,confirm:a,setToggleModal:s,users:n})});case"refund":return Object(vt.jsx)("div",{className:"popup-refund",children:Object(vt.jsx)(ws,{confirm:a,setToggleModal:s,reservation:n})})}})()]})})};s(89);var Ds=Object(dt.b)((e=>({auth:e.auth,job:e.job,reservation:e.reservation})),{loadJobs:Ze,loadReservations:Be,deleteReservation:Xe,clearJobsXReservations:ut})((e=>{let{auth:{loggedUser:t,token:s},reservation:{reservations:c,loading:r},job:{loading:l},loadJobs:n,loadReservations:o,deleteReservation:i,clearJobsXReservations:d,match:j}=e;const m=Object(a.useRef)(),[b,u]=Object(a.useState)({reservation:null,toggleModal:!1,position:0,editReservation:!(!j.params.job_id||"0"===j.params.job_id),checkout:!1}),{reservation:h,toggleModal:p,position:g,editReservation:O,checkout:x}=b;return Object(a.useEffect)((()=>{l&&s&&n({},!0),t&&"admin"!==t.type&&r&&o({hourFrom:new Date,user:t.id},!0)}),[l,n,t,o,r,s]),Object(a.useEffect)((()=>{if(!r){const e=m.current.getBoundingClientRect(),t=window.pageYOffset||document.documentElement.scrollTop;u((s=>({...s,position:e.bottom+t-60}))),j.params.job_id&&"0"!==j.params.job_id&&setTimeout((()=>{window.scrollTo(0,e.bottom+t)}),30)}}),[r,j.params.job_id]),Object(vt.jsxs)("div",{className:"reservation",children:[Object(vt.jsx)(Xt,{}),Object(vt.jsx)("h2",{className:"heading-primary",children:"Reservations"}),Object(vt.jsx)(_s,{type:"confirmation",toggleModal:p,setToggleModal:()=>u((e=>({...e,toggleModal:!p}))),confirm:()=>{i(h),u((e=>({...e,reservation:null})))},text:"Are you sure you want to ".concat(h&&"paid"!==h.status?"delete":"cancel"," the reservation?"),subtext:h&&"paid"===h.status?"A refund will be placed through paypal.":""}),x&&Object(vt.jsx)(_s,{type:"payment",toUpdate:h,setToggleModal:()=>u((e=>({...e,checkout:!1,reservation:null}))),clearJobs:d,toggleModal:x}),Object(vt.jsx)(Vt,{type:"1"}),t?"0"===t.cel&&Object(vt.jsxs)("h5",{className:"heading-primary-subheading error",children:["You need to save your cellphone in your profile to make a reservation. \xa0",Object(vt.jsx)(mt.a,{to:"/profile",onClick:()=>window.scrollTo(0,0),className:"btn-link",children:"Profile"})]}):Object(vt.jsxs)("h5",{className:"heading-primary-subheading error",children:["You need to be logged in to make a reservation. \xa0",Object(vt.jsx)(mt.a,{to:"/login",onClick:()=>window.scrollTo(0,0),className:"btn-link",children:"Login"})]}),t&&Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsx)("div",{className:"reservation-list",ref:m,children:!r&&c.length>0?c.map(((e,t)=>Object(vt.jsxs)("div",{className:"reservation-item",children:[Object(vt.jsxs)("div",{className:"reservation-item-date",children:[Object(vt.jsx)("span",{className:"date",children:Object(ds.a)(new Date(e.hourFrom.slice(0,-1)),"MM/dd/yy")}),Object(ds.a)(new Date(e.hourFrom.slice(0,-1)),"h aaa")," -"," ",Object(ds.a)(new Date(e.hourTo.slice(0,-1)),"h aaa")]}),Object(vt.jsxs)("div",{className:"reservation-item-status",children:[Object(vt.jsxs)("p",{children:[Object(vt.jsx)("span",{className:"reservation-item-title",children:"Address: "}),e.address]}),Object(vt.jsxs)("p",{children:[Object(vt.jsx)("span",{className:"reservation-item-title",children:"Value: "}),e.total?"$"+e.total:"Pending"]}),Object(vt.jsxs)("p",{children:[Object(vt.jsx)("span",{className:"reservation-item-title",children:"Status: "}),e.status.charAt(0).toUpperCase()+e.status.slice(1)]})]}),Object(vt.jsxs)("div",{className:"reservation-item-icons",children:["unpaid"===e.status&&Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{onClick:()=>{u((t=>({...t,reservation:e,checkout:!0})))},className:"btn-icon",children:Object(vt.jsx)("i",{className:"fas fa-dollar-sign"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"Pay"})]}),Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{onClick:()=>{u((t=>({...t,reservation:e,editReservation:!0}))),setTimeout((()=>{window.scrollTo(0,g)}),30)},className:"btn-icon",children:"refunded"!==e.status&&"canceled"!==e.status?Object(vt.jsx)("i",{className:"far fa-edit"}):Object(vt.jsx)("i",{className:"fas fa-search"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"refunded"!==e.status&&"canceled"!==e.status?"Edit":"See details"})]}),("requested"===e.status||"unpaid"===e.status)&&Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{onClick:()=>u((t=>({...t,toggleModal:!p,reservation:e}))),className:"btn-icon",children:Object(vt.jsx)("i",{className:"far fa-trash-alt"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"Delete"})]})]})]},e.id))):Object(vt.jsx)("h2",{className:"heading-primary-subheading",children:"No Reservations Made"})}),!l&&"0"!==t.cel&&Object(vt.jsx)(a.Fragment,{children:O?Object(vt.jsx)(fs,{reservation:h,setToggleModal:()=>u((e=>({...e,reservation:null,editReservation:!1})))}):Object(vt.jsx)("div",{className:"btn-right",children:Object(vt.jsxs)("button",{onClick:()=>{u((e=>({...e,editReservation:!0}))),setTimeout((()=>{window.scrollTo(0,g)}),30)},className:"btn btn-primary",children:[Object(vt.jsx)("i",{className:"fas fa-plus"})," \xa0 Reservation"]})})})]})]})}));var Es=e=>{let{onChange:t,onFocus:s,hourFrom:a,hourTo:c}=e;return Object(vt.jsx)("div",{className:"form__group",children:Object(vt.jsxs)("div",{className:"form__group-sub",children:[Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"date",className:"form__input",placeholder:"YYYY/MM/DD",id:"hourFrom",value:a,onChange:t,onFocus:s}),Object(vt.jsx)("label",{htmlFor:"hourFrom",className:"form__label",children:"From"})]}),Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"date",className:"form__input",id:"hourTo",placeholder:"YYYY/MM/DD",min:""!==a?a:null,onFocus:s,onChange:t,value:c}),Object(vt.jsx)("label",{htmlFor:"hourTo",className:"form__label",children:"To"})]})]})})};var Rs=Object(dt.b)((e=>({reservation:e.reservation})),{loadReservations:Be,deleteReservation:Xe,cancelReservation:(e,t)=>async s=>{s(Je(!0));let a={};for(const e in t)""!==t[e]&&(a[e]=t[e]);try{const c=await at.post("/reservation/cancel/".concat(e.id),a);return s({type:t.amount&&e.total!==t.amount?I:J,payload:c.data}),s(Le("Reservation ".concat(t.amount&&e.total!==t.amount?"Updated":"Canceled"),"success","1")),window.scrollTo(0,0),s(Je(!1)),!0}catch(c){return 401!==c.response.status&&(s(Le(c.response.data.msg,"danger","2")),s(Ge(B,c.response)),window.scrollTo(0,0),s(Je(!1))),!1}},clearUsers:Ot,loadJobs:Ze,clearJobsXReservations:ut})((e=>{let{deleteReservation:t,loadReservations:s,cancelReservation:c,loadJobs:r,reservation:{reservations:l,error:n,loading:o},clearUsers:i,clearJobsXReservations:d}=e;const j={hourFrom:"",hourTo:"",user:"",status:""},[m,b]=Object(a.useState)(j),[u,h]=Object(a.useState)({toggleDeleteConf:!1,toggleReservation:!1,toggleRefund:!1,showFilter:!1,reservation:null,searchDisplay:!1,clear:!1,checkout:!1}),{hourFrom:p,hourTo:g,status:O}=m,{toggleDeleteConf:x,toggleReservation:v,toggleRefund:f,showFilter:y,reservation:N,searchDisplay:w,clear:_,checkout:D}=u;Object(a.useEffect)((()=>{o&&(r({},!0),s({hourFrom:new Date},!0))}),[o,s,r]);const E=e=>{e.persist(),b((t=>({...t,[e.target.id]:e.target.value})))},R=e=>{h((t=>({...t,[e]:!1,reservation:null})))};return Object(vt.jsxs)("div",{className:"list",children:[Object(vt.jsx)(_s,{type:"refund",toUpdate:N,confirm:async e=>{await c(N,e)&&h((e=>({...e,toggleRefund:!f})))},setToggleModal:()=>R("toggleRefund"),toggleModal:f}),Object(vt.jsx)(_s,{type:"confirmation",confirm:()=>t(N),setToggleModal:()=>R("toggleDeleteConf"),toggleModal:x,text:"Are you sure you want to delete the reservation?",subtext:N&&""!==N.paymentId&&"paid"===N.status&&"A refund should be made before deleting it."}),D&&Object(vt.jsx)(_s,{type:"payment",clearJobs:d,toUpdate:N&&N,setToggleModal:()=>R("checkout"),toggleModal:D}),v&&Object(vt.jsx)(_s,{type:"schedule",clearJobs:d,toUpdate:N,toggleModal:v,setToggleModal:()=>R("toggleReservation")}),Object(vt.jsx)("h2",{className:"heading-primary",children:"Reservations"}),Object(vt.jsx)(Vt,{type:"1"}),Object(vt.jsxs)("form",{className:"form filter",onSubmit:e=>{e.preventDefault(),b(j),s(m,!1),h((e=>({...e,clear:!0})))},children:[Object(vt.jsx)("p",{className:"filter-title",children:"Filter"}),Object(vt.jsx)("button",{className:"filter-icon",onClick:e=>{e.preventDefault(),h((e=>({...e,showFilter:!y})))},children:y?Object(vt.jsx)("i",{className:"fas fa-chevron-up"}):Object(vt.jsx)("i",{className:"fas fa-chevron-down"})}),Object(vt.jsxs)("div",{className:"filter-content ".concat(y?"":"hide"),children:[Object(vt.jsx)(Es,{onFocus:()=>h((e=>({...e,searchDisplay:!1}))),hourFrom:p,hourTo:g,onChange:E}),Object(vt.jsx)(vs,{selectFinalUser:e=>{b((t=>({...t,user:e?e.id:""}))),h((e=>({...e,searchDisplay:!1})))},searchDisplay:w,switchDisplay:e=>h((t=>({...t,searchDisplay:e}))),clear:_,completeClear:()=>{h((e=>({...e,clear:!1})))},autoComplete:"off"}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsxs)("select",{className:"form__input ".concat(""===O?"empty":""),id:"status",value:O,onChange:E,onFocus:()=>h((e=>({...e,searchDisplay:!1}))),children:[Object(vt.jsx)("option",{value:"",children:"* Status"}),Object(vt.jsx)("option",{value:"requested",children:"Requested"}),Object(vt.jsx)("option",{value:"unpaid",children:"Unpaid"}),Object(vt.jsx)("option",{value:"pending",children:"Pending"}),Object(vt.jsx)("option",{value:"paid",children:"Paid"}),Object(vt.jsx)("option",{value:"completed",children:"Completed"}),Object(vt.jsx)("option",{value:"canceled",children:"Canceled"}),Object(vt.jsx)("option",{value:"refunded",children:"Refunded"})]}),Object(vt.jsx)("label",{htmlFor:"staus",className:"form__label ".concat(""===O?"hide":""),children:"Status"})]}),Object(vt.jsxs)("button",{type:"submit",className:"btn btn-tertiary",children:[Object(vt.jsx)("i",{className:"fas fa-search"}),"\xa0 Search"]})]})]}),!o&&Object(vt.jsxs)(a.Fragment,{children:[l.length>0?Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsx)("div",{className:"wrapper",children:Object(vt.jsxs)("table",{className:"icon-6",children:[Object(vt.jsx)("thead",{children:Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("th",{children:"Date"}),Object(vt.jsx)("th",{children:"From"}),Object(vt.jsx)("th",{children:"To"}),Object(vt.jsx)("th",{children:"User"}),Object(vt.jsx)("th",{children:"Status"}),Object(vt.jsx)("th",{}),Object(vt.jsx)("th",{}),Object(vt.jsx)("th",{})]})}),Object(vt.jsx)("tbody",{children:l.map((e=>Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("td",{children:Object(ds.a)(new Date(e.hourFrom.slice(0,-1)),"MM/dd/yy")}),Object(vt.jsx)("td",{children:Object(ds.a)(new Date(e.hourFrom.slice(0,-1)),"h aaa")}),Object(vt.jsx)("td",{children:Object(ds.a)(new Date(e.hourTo.slice(0,-1)),"h aaa")}),Object(vt.jsx)("td",{children:Object(vt.jsx)(mt.a,{onClick:()=>{i(),window.scrollTo(0,0)},className:"btn-link text-dark",to:"/edit-user/".concat(e.user.id),children:"".concat(e.user.name," ").concat(e.user.lastname)})}),Object(vt.jsx)("td",{children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),Object(vt.jsxs)("td",{children:["unpaid"===e.status&&Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{className:"btn-icon",onClick:()=>h((t=>({...t,checkout:!0,reservation:e}))),children:Object(vt.jsx)("i",{className:"fas fa-dollar-sign"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"Pay"})]}),"paid"===e.status&&Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{className:"btn-icon",onClick:()=>h((t=>({...t,toggleRefund:!0,reservation:e}))),children:Object(vt.jsx)("i",{className:"fas fa-redo-alt"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"Refund"})]})]}),Object(vt.jsx)("td",{children:Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{className:"btn-icon",onClick:()=>h((t=>({...t,toggleReservation:!v,reservation:e}))),children:"refunded"!==e.status&&"completed"!==e.status&&"canceled"!==e.status?Object(vt.jsx)("i",{className:"far fa-edit"}):Object(vt.jsx)("i",{className:"fas fa-search"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"refunded"!==e.status&&"completed"!==e.status&&"canceled"!==e.status?"Edit":"See details"})]})}),Object(vt.jsx)("td",{children:Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{className:"btn-icon",onClick:()=>h((t=>({...t,toggleDeleteConf:!x,reservation:e}))),children:Object(vt.jsx)("i",{className:"far fa-trash-alt"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"Delete"})]})})]},e.id)))})]})}),Object(vt.jsxs)("div",{className:"list-total",children:[Object(vt.jsx)("span",{className:"list-total-title text-dark",children:"Total:"}),"\xa0",l.length]})]}):Object(vt.jsx)("h3",{className:"heading-primary-subheading u-center-text text-danger",children:n.msg}),Object(vt.jsx)("div",{className:"btn-right",children:Object(vt.jsxs)("button",{onClick:()=>h((e=>({...e,toggleReservation:!v}))),className:"btn btn-primary",children:[Object(vt.jsx)("i",{className:"fas fa-plus"})," \xa0 Reservation"]})})]})]})}));var Ts=Object(dt.b)((e=>({job:e.job})),{loadJobs:Ze,deleteJob:e=>async t=>{t(Je(!0));let s=!1;try{await at.post("/job/delete/".concat(e)),t({type:oe,payload:e}),t(Le("Job Deleted","success","1"))}catch(a){401!==a.response.status?(t(Le(a.response.data.msg,"danger","1")),t(ze(ie,a.response))):s=!0}s||(window.scrollTo(0,0),t(Je(!1)))},registerUpdateJob:(e,t)=>async s=>{s(Je(!0));let a={};for(const t in e)""!==e[t]&&(a[t]=e[t]);try{const e=await at.post("/job/".concat(t||"0"),a);return s({type:t?ne:le,payload:e.data}),s(Le("Job ".concat(t?"Updated":"Registered"),"success","1")),window.scrollTo(0,0),s(Je(!1)),!0}catch(c){return 401!==c.response.status&&(s(ze(ie,c.response)),c.response.data.errors?c.response.data.errors.forEach((e=>{s(Le(e.msg,"danger","2"))})):s(Le(c.response.data.msg,"danger","2")),s(Je(!1))),!1}}})((e=>{let{loadJobs:t,deleteJob:s,registerUpdateJob:c,job:{jobs:r,loading:l,error:n}}=e;const[o,i]=Object(a.useState)({title:""}),[d,j]=Object(a.useState)({toggleDeleteConf:!1,toggleJob:!1,showFilter:!1,job:null,update:!1}),{title:m}=o,{toggleDeleteConf:b,toggleJob:u,showFilter:h,update:p,job:g}=d;Object(a.useEffect)((()=>{l&&t({})}),[l,t]);return Object(vt.jsxs)("div",{className:"list",children:[Object(vt.jsx)(_s,{type:"confirmation",confirm:()=>s(g.id),setToggleModal:()=>j((e=>({...e,toggleDeleteConf:!b}))),toggleModal:b,text:"Are you sure you want to delete the job?"}),Object(vt.jsx)(_s,{type:"job",toUpdate:p?g:null,confirm:async e=>{await c(e,g?g.id:0)&&j((e=>({...e,toggleJob:!1,job:null})))},toggleModal:u,setToggleModal:()=>j((e=>({...e,toggleJob:!u,job:null})))}),Object(vt.jsx)("h2",{className:"heading-primary",children:"Jobs"}),Object(vt.jsx)(Vt,{type:"1"}),Object(vt.jsxs)("form",{className:"form filter",onSubmit:e=>{e.preventDefault(),i({title:""}),t(o)},children:[Object(vt.jsx)("p",{className:"filter-title",children:"Filter"}),Object(vt.jsx)("button",{className:"filter-icon",onClick:e=>{e.preventDefault(),j((e=>({...e,showFilter:!h})))},children:h?Object(vt.jsx)("i",{className:"fas fa-chevron-up"}):Object(vt.jsx)("i",{className:"fas fa-chevron-down"})}),Object(vt.jsxs)("div",{className:"filter-content ".concat(h?"":"hide"),children:[Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:m,id:"title",onChange:e=>{e.persist(),i((t=>({...t,[e.target.id]:e.target.value})))},placeholder:"Title"}),Object(vt.jsx)("label",{htmlFor:"title",className:"form__label",children:"Title"})]}),Object(vt.jsxs)("button",{type:"submit",className:"btn btn-tertiary",children:[Object(vt.jsx)("i",{className:"fas fa-search"}),"\xa0 Search"]})]})]}),!l&&Object(vt.jsxs)(a.Fragment,{children:[r.length>0?Object(vt.jsx)("div",{children:Object(vt.jsx)("div",{className:"wrapper",children:Object(vt.jsxs)("table",{className:"icon-2",children:[Object(vt.jsx)("thead",{children:Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("th",{children:"Title"}),Object(vt.jsx)("th",{}),Object(vt.jsx)("th",{})]})}),Object(vt.jsx)("tbody",{children:r.map((e=>Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("td",{children:e.title}),Object(vt.jsx)("td",{children:Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{className:"btn-icon",onClick:()=>j((t=>({...t,toggleJob:!u,job:e,update:!0}))),children:Object(vt.jsx)("i",{className:"far fa-edit"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"Edit"})]})}),Object(vt.jsx)("td",{children:Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{className:"btn-icon",onClick:()=>j((t=>({...t,toggleDeleteConf:!b,job:e}))),children:Object(vt.jsx)("i",{className:"far fa-trash-alt"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"Delete"})]})})]},e.id)))})]})})}):Object(vt.jsx)("h3",{className:"heading-primary-subheading u-center-text text-danger",children:n.msg}),Object(vt.jsx)("div",{className:"btn-right",children:Object(vt.jsxs)("button",{onClick:()=>j((e=>({...e,update:!1,toggleJob:!u}))),className:"btn btn-primary",children:[Object(vt.jsx)("i",{className:"fas fa-plus"})," \xa0 Job"]})})]})]})})),ks=s(99),Cs=s(100),Ss=s(101);s(90);var Fs=Object(dt.b)((e=>({day:e.day,reservation:e.reservation,auth:e.auth,job:e.job})),{checkMonthSchedule:(e,t)=>async s=>{s(Je(!0));let a=!1;try{const a=await at.get("/day/schedule/".concat(e,"/").concat(t));s({type:G,payload:a.data})}catch(c){401!==c.response.status&&(s(Le(c.response.data.msg,"danger","1")),s(He(ae,c.response)),window.scrollTo(0,0)),a=!0}a||s(Je(!1))},checkDayAvailability:Pe,loadReservations:Be,disableDate:e=>async t=>{t(Je(!0));let s=!1;try{await at.post("/day/".concat(e)),t({type:z,payload:{type:"disabledDays",date:e}}),t(Le("Date successfully disabled","success","2"))}catch(a){401!==a.response.status&&(t(Le(a.response.data.msg,"danger","2")),t(He(ae,a.response)),window.scrollTo(0,0)),s=!0}s||(window.scrollTo(0,0),t(Je(!1)))},enableDate:e=>async t=>{t(Je(!0));let s=!1;try{await at.post("/day/delete/".concat(e)),t({type:W,payload:{type:"disabledDays",date:e}}),t(Le("Date successfully enabled","success","2"))}catch(a){401!==a.response.status?(t(Le(a.response.data.msg,"danger","2")),t(He(ae,a.response)),window.scrollTo(0,0)):s=!0}s||(window.scrollTo(0,0),t(Je(!1)))},disableDateRange:(e,t)=>async s=>{s(Je(!0));try{const a=await at.post("/day/".concat(e,"/").concat(t));return s({type:$,payload:{type:"disabledDays",dates:a.data}}),s(Le("Dates successfully disabled","success","2")),window.scrollTo(0,0),s(Je(!1)),!0}catch(a){return 401!==a.response.status&&(s(Le(a.response.data.msg,"danger","2")),s(He(ae,a.response))),window.scrollTo(0,0),s(Je(!1)),!1}},disableHourRange:(e,t)=>async s=>{s(Je(!0));let a={};for(const t in e)""!==e[t]&&(a[t]=e[t]);try{let e=await at.post("/reservation/disable",a);return s({type:U,payload:e.data}),s(((e,t)=>async s=>{s({type:t?K:ee,payload:{type:t?"reservedDays":"timeDisabledDays",date:e}})})(t,!1)),s(Le("Time Range Disabled","success","1")),window.scrollTo(0,0),s(Je(!1)),!0}catch(c){return 401!==c.response.status&&(s(Ge(B,c.response)),c.response.data.errors?c.response.data.errors.forEach((e=>{s(Le(e.msg,"danger","2"))})):s(Le(c.response.data.msg,"danger","2")),s(Je(!1))),!1}},clearUsers:Ot,clearReservations:qe,deleteReservation:Xe,loadJobs:Ze,clearJobsXReservations:ut})((e=>{let{day:{disabledDays:t,reservedDays:s,timeDisabledDays:c},reservation:{loading:r,reservations:l},auth:{loggedUser:n},job:{loading:o},checkMonthSchedule:i,checkDayAvailability:d,loadReservations:j,deleteReservation:m,disableHourRange:b,disableDate:u,enableDate:h,disableDateRange:p,clearReservations:g,clearUsers:O,clearJobsXReservations:x,loadJobs:v}=e;const f=new Date,[y,N]=Object(a.useState)({date:new Date,tab:0,range:!1,month:f.getMonth(),year:f.getFullYear(),toggleModal:!1,toggleReservation:!1,reservation:null}),{date:w,tab:_,range:D,month:E,year:R,toggleModal:T,toggleReservation:k,reservation:C}=y;Object(a.useEffect)((()=>{i(E,R)}),[i,E,R]),Object(a.useEffect)((()=>{o&&v({},!0)}),[o,v]);const S=Object(a.useCallback)((e=>{const a=[s,t,c],r=["reserved","disabled","time-disabled"];if("month"===e.view)for(let t=0;t<a.length;t++)if(a[t].some((t=>Object(ds.a)(new Date(t.slice(0,-1)),"dd/MM/yyyy")===Object(ds.a)(e.date,"dd/MM/yyyy"))))return r[t]}),[t,s,c]),F=Object(a.useCallback)((e=>{let{date:t,view:s}=e;if("month"===s)return 6===t.getDay()||0===t.getDay()}),[]);return Object(vt.jsxs)("div",{className:"list manage-schedule",children:[k&&Object(vt.jsx)(_s,{type:"schedule",clearJobs:x,toUpdate:C,toggleModal:k,setToggleModal:()=>N((e=>({...e,toggleReservation:!k,reservation:null})))}),Object(vt.jsx)(_s,{type:"hour",toggleModal:T,confirm:async e=>{let{hourFrom:t,hourTo:s}=e;await b({hourFrom:Object(ds.a)(Object(Ss.a)(w,t),"yyyy-MM-dd'T'HH':00:00Z'"),hourTo:Object(ds.a)(Object(Ss.a)(w,s-1),"yyyy-MM-dd'T'HH':00:00Z'"),user:n.id},0===l.length&&Object(ds.a)(w,"yyyy-MM-dd'T00:00:00Z'"))&&N((e=>({...e,tab:1,toggleModal:!T})))},setToggleModal:()=>N((e=>({...e,toggleModal:!T})))}),Object(vt.jsx)("h2",{className:"heading-primary",children:"Schedule"}),Object(vt.jsxs)("div",{className:"manage-schedule-row",children:[Object(vt.jsxs)("div",{className:"manage-schedule-calendar",children:[Object(vt.jsx)(bs.a,{value:w,selectRange:D,onChange:e=>{let t;D||(e.setHours(0,0,0,0),t=s.some((t=>new Date(t).getUTCDate()===e.getDate()))||c.some((t=>new Date(t).getUTCDate()===e.getDate())),t&&j({hourFrom:e,hourTo:e,type:"all",available:!0})),N((s=>({...s,date:e,tab:D?3:t?1:2})))},tileDisabled:F,minDate:new Date(2021,10,1),maxDate:Object(Os.a)(f,1),onActiveStartDateChange:e=>{if("month"===e.view||"year"===e.view){const t=e.activeStartDate.getMonth(),s=e.activeStartDate.getFullYear();N((e=>({...e,month:t,year:s})))}},tileClassName:S}),Object(vt.jsxs)("div",{className:"form__group switch",id:"range",children:[Object(vt.jsx)("label",{className:"form__label-switch",htmlFor:"range",children:"Date Range"}),Object(vt.jsx)("input",{checked:D,type:"checkbox",onChange:()=>N((e=>({...e,range:!D}))),className:"form__input-switch"})]}),Object(vt.jsxs)("div",{className:"manage-schedule-color-guide",children:[Object(vt.jsxs)("p",{className:"manage-schedule-color-item ",children:[Object(vt.jsx)("i",{className:"fas fa-square reserved"})," Reserved Days"]}),Object(vt.jsxs)("p",{className:"manage-schedule-color-item",children:[Object(vt.jsx)("i",{className:"fas fa-square disabled"})," Disabled Days"]}),Object(vt.jsxs)("p",{className:"manage-schedule-color-item",children:[Object(vt.jsx)("i",{className:"fas fa-square partially-disabled"})," Partially Disabled Days"]})]})]}),Object(vt.jsxs)("div",{className:"manage-schedule-details",children:[Object(vt.jsx)(Vt,{type:"2"}),(()=>{switch(_){case 0:return Object(vt.jsx)(a.Fragment,{children:Object(vt.jsx)("h5",{className:"manage-schedule-details-title",children:"Select a Date"})});case 1:return!r&&Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsx)(Vt,{type:"1"}),Object(vt.jsxs)("h5",{className:"manage-schedule-details-title",children:[l.every((e=>"hourRange"===e.status))?"Unavailable Time Ranges":"Reservations"," ","- ",Object(ds.a)(w,"MM/dd/yy")]}),Object(vt.jsx)("div",{className:"manage-schedule-details-res",children:l.map((e=>Object(vt.jsxs)("div",{className:"manage-schedule-details-item tooltip ".concat("hourRange"===e.status&&"disabled"),children:[Object(vt.jsxs)("div",{children:[Object(ds.a)(new Date(e.hourFrom.slice(0,-1)),"h aaa"),"\xa0 - \xa0",Object(ds.a)("hourRange"!==e.status?new Date(e.hourTo.slice(0,-1)):Object(ks.a)(new Date(e.hourTo.slice(0,-1)),1),"h aaa")]}),Object(vt.jsx)(mt.a,{onClick:()=>{O(),window.scrollTo(0,0)},className:"btn-link",to:"/edit-user/".concat(e.user.id),children:"".concat(e.user.name," ").concat(e.user.lastname)}),"hourRange"!==e.status?Object(vt.jsx)("button",{className:"btn-icon",onClick:()=>N((t=>({...t,toggleReservation:!k,reservation:e}))),children:Object(vt.jsx)("i",{className:"fas fa-search"})}):Object(vt.jsx)("button",{className:"btn-icon",onClick:()=>{1===l.length&&N((e=>({...e,tab:2}))),m(e,1===l.length&&Object(ds.a)(w,"yyyy-MM-dd'T00:00:00Z'"))},children:Object(vt.jsx)("i",{className:"far fa-trash-alt"})})]},e.id)))}),Object(Cs.a)(f,w)&&Object(vt.jsx)("div",{className:"btn-right",children:Object(vt.jsxs)("button",{className:"btn btn-quaternary",onClick:()=>{N((e=>({...e,toggleModal:!T}))),d(Object(ds.a)(w,"yyyy-MM-dd'T00:00:00Z'"),0,0)},children:[Object(vt.jsx)("i",{className:"fas fa-ban"})," \xa0 Hour Range"]})})]});case 2:const e=t.some((e=>new Date(e).getUTCDate()===w.getDate()));return Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsx)("h5",{className:"manage-schedule-details-title ".concat(e&&"text-danger"),children:Object(ds.a)(w,"MM/dd/yyyy")}),Object(vt.jsx)("div",{className:"btn-center",children:Object(Cs.a)(f,w)&&Object(vt.jsx)(a.Fragment,{children:e?Object(vt.jsxs)("button",{className:"btn",onClick:()=>h(Object(ds.a)(w,"yyyy-MM-dd'T00:00:00Z'")),children:[Object(vt.jsx)("i",{className:"far fa-check-circle"})," \xa0 Date"]}):Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsxs)("button",{className:"btn",onClick:()=>u(Object(ds.a)(w,"yyyy-MM-dd'T00:00:00Z'")),children:[Object(vt.jsx)("i",{className:"fas fa-ban"})," \xa0 Date"]}),Object(vt.jsxs)("button",{className:"btn",onClick:()=>{N((e=>({...e,toggleModal:!T}))),l.length>0&&g(),d(Object(ds.a)(w,"yyyy-MM-dd'T00:00:00Z'"),0,0)},children:[Object(vt.jsx)("i",{className:"fas fa-ban"})," \xa0 Hour Range"]})]})})})]});case 3:return Object(vt.jsxs)(a.Fragment,{children:[Object(vt.jsxs)("h5",{className:"manage-schedule-details-title",children:[Object(ds.a)(w[0],"MM/dd/yyyy")," - ",Object(ds.a)(w[1],"MM/dd/yyyy")]}),Object(vt.jsx)("div",{className:"btn-center",children:Object(vt.jsxs)("button",{className:"btn",onClick:async()=>{const e=await p(Object(ds.a)(w[0],"yyyy-MM-dd'T00:00:00Z'"),Object(ds.a)(w[1],"yyyy-MM-dd'T23:59:59Z'"));N((t=>({...t,range:!D,date:e?w[0]:[w[0],w[0]],tab:0})))},children:[Object(vt.jsx)("i",{className:"fas fa-ban"})," \xa0 Date Range"]})})]})}})()]})]})]})}));var Ms=Object(dt.b)((e=>({user:e.user,auth:e.auth})),{clearUser:gt,loadUsers:pt,clearEmailSent:Qe})((e=>{let{loadUsers:t,user:{users:s,loading:c,error:r},auth:{loggedUser:l},clearUser:n,clearEmailSent:o}=e;const[i,d]=Object(a.useState)({name:"",lastname:"",email:"",type:""}),[j,m]=Object(a.useState)({showFilter:!1}),{name:b,lastname:u,email:h,type:p}=i,{showFilter:g}=j;Object(a.useEffect)((()=>{c&&t({})}),[c,t]);const O=e=>{e.persist(),d((t=>({...t,[e.target.id]:e.target.value})))};return Object(vt.jsxs)("div",{className:"list",children:[Object(vt.jsx)("h2",{className:"heading-primary",children:"Users"}),Object(vt.jsx)(Vt,{type:"1"}),Object(vt.jsxs)("form",{className:"form filter",onSubmit:e=>{e.preventDefault(),d({name:"",lastname:"",email:"",type:""}),t(i)},children:[Object(vt.jsx)("p",{className:"filter-title",children:"Filter"}),Object(vt.jsx)("button",{className:"filter-icon",onClick:e=>{e.preventDefault(),m((e=>({...e,showFilter:!g})))},children:g?Object(vt.jsx)("i",{className:"fas fa-chevron-up"}):Object(vt.jsx)("i",{className:"fas fa-chevron-down"})}),Object(vt.jsxs)("div",{className:"filter-content ".concat(g?"":"hide"),children:[Object(vt.jsx)("div",{className:"form__group",children:Object(vt.jsxs)("div",{className:"form__group-sub",children:[Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",placeholder:"Name",id:"name",onChange:O,value:b}),Object(vt.jsx)("label",{htmlFor:"name",className:"form__label",children:"Name"})]}),Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",placeholder:"Last Name",id:"lastname",onChange:O,value:u}),Object(vt.jsx)("label",{htmlFor:"lastname",className:"form__label",children:"Last Name"})]})]})}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:h,id:"email",onChange:O,placeholder:"Email"}),Object(vt.jsx)("label",{htmlFor:"email",className:"form__label",children:"Email"})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsxs)("select",{className:"form__input ".concat(""===p?"empty":""),id:"type",value:p,onChange:O,children:[Object(vt.jsx)("option",{value:"",children:"* Type of User"}),Object(vt.jsx)("option",{value:"admin",children:"Admin"}),Object(vt.jsx)("option",{value:"customer",children:"Customer"})]}),Object(vt.jsx)("label",{htmlFor:"type",className:"form__label ".concat(""===p?"hide":""),children:"Type of User"})]}),Object(vt.jsxs)("button",{type:"submit",className:"btn btn-tertiary",children:[Object(vt.jsx)("i",{className:"fas fa-search"}),"\xa0 Search"]})]})]}),!c&&Object(vt.jsx)(a.Fragment,{children:s.length>0?Object(vt.jsxs)("div",{children:[Object(vt.jsx)("div",{className:"wrapper",children:Object(vt.jsxs)("table",{className:"icon-5",children:[Object(vt.jsx)("thead",{children:Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("th",{children:"Name"}),Object(vt.jsx)("th",{children:"Email"}),Object(vt.jsx)("th",{children:"Type"}),Object(vt.jsx)("th",{children:"Cellphone"}),Object(vt.jsx)("th",{})]})}),Object(vt.jsx)("tbody",{children:s.map((e=>Object(vt.jsxs)("tr",{children:[Object(vt.jsxs)("td",{children:[e.name," ",e.lastname]}),Object(vt.jsx)("td",{children:e.email}),Object(vt.jsx)("td",{children:e.type.charAt(0).toUpperCase()+e.type.slice(1)}),Object(vt.jsx)("td",{children:e.cel}),Object(vt.jsx)("td",{children:Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)(mt.a,{to:l.id===e.id?"/profile":"/edit-user/".concat(e.id),className:"btn-icon",onClick:()=>{window.scrollTo(0,0),n(),o()},children:Object(vt.jsx)("i",{className:"far fa-edit"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"Edit"})]})})]},e.id)))})]})}),Object(vt.jsxs)("div",{className:"list-total",children:[Object(vt.jsx)("span",{className:"list-total-title text-dark",children:"Total:"}),"\xa0",s.length]})]}):Object(vt.jsx)("h3",{className:"heading-primary-subheading u-center-text text-danger",children:r.msg})})]})}));s(91);var As=Object(dt.b)((e=>({job:e.job,jobsXreservation:e.jobsXreservation})),{loadJobs:Ze,clearUser:gt,loadJobUsers:e=>async t=>{t(Je(!0));let s=!1,a="";for(const r in e)("jobs"===r&&e[r].length>0||""!==e[r]&&"jobs"!==r)&&(a="".concat(""!==a?"".concat(a,"&"):"").concat(r,"=").concat("jobs"===r?e[r].map((e=>e)):e[r]));try{const e=await at.get("/res/job/jobs?".concat(a));t({type:Y,payload:e.data})}catch(c){401!==c.response.status?t(ht(q,c.response)):s=!0}s||t(Je(!1))},sendEmail:Ke})((e=>{let{loadJobs:t,loadJobUsers:s,clearUser:c,sendEmail:r,job:{loading:l,jobs:n},jobsXreservation:{loading:o,error:i,jobsXreservations:d}}=e;const j={hourFrom:"",hourTo:"",total:"",jobs:[]},[m,b]=Object(a.useState)({showFilter:!0,users:[],toggleEmail:!1}),[u,h]=Object(a.useState)(j),{showFilter:p,users:g,toggleEmail:O}=m,{hourFrom:x,hourTo:v,total:f,jobs:y}=u;Object(a.useEffect)((()=>{l&&t({})}),[l,t]),Object(a.useEffect)((()=>{d.length>0&&b((e=>({...e,users:d.map((e=>e.reservation.user.email))})))}),[d]);const N=(e,t)=>{e.persist(),("total"!==e.target.id||"total"===e.target.id&&(Number(e.target.value)||""===e.target.value))&&h((s=>({...s,...t?{jobs:e.target.checked?[...y,Number(e.target.value)]:y.filter((e=>e!==t.id))}:{[e.target.id]:e.target.value}})))};return Object(vt.jsxs)("div",{className:"outreach list",children:[Object(vt.jsx)(_s,{type:"email",confirm:async e=>{await r(e,!0)&&(b((e=>({...e,toggleEmail:!1,users:[]}))),h(j))},toUpdate:g,toggleModal:O,setToggleModal:()=>b((e=>({...e,toggleEmail:!O})))}),Object(vt.jsx)("h2",{className:"heading-primary",children:"Outreach"}),Object(vt.jsx)(Vt,{type:"1"}),Object(vt.jsxs)("form",{className:"form filter",onSubmit:e=>{e.preventDefault(),s(u)},children:[Object(vt.jsx)("p",{className:"filter-title",children:"Filter"}),Object(vt.jsx)("button",{className:"filter-icon",onClick:e=>{e.preventDefault(),b((e=>({...e,showFilter:!p})))},children:p?Object(vt.jsx)("i",{className:"fas fa-chevron-up"}):Object(vt.jsx)("i",{className:"fas fa-chevron-down"})}),Object(vt.jsxs)("div",{className:"filter-content ".concat(p?"":"hide"),children:[Object(vt.jsx)(Es,{hourFrom:x,onChange:N,hourTo:v}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:f,id:"total",onChange:N,placeholder:"Minimal Total"}),Object(vt.jsx)("label",{htmlFor:"total",className:"form__label",children:"Minimal Total"})]}),Object(vt.jsx)("div",{className:"outreach-jobs-list",children:!l&&n.map((e=>Object(vt.jsxs)("div",{className:"outreach-jobs-item",children:[Object(vt.jsx)("input",{type:"checkbox",value:e.id,className:"form__input-chk",id:"chk-".concat(e.id),name:"jobs",onChange:t=>N(t,e)}),Object(vt.jsxs)("label",{className:"form__label-chk",htmlFor:"chk-".concat(e.id),children:[Object(vt.jsx)("span",{children:Object(vt.jsx)("svg",{width:"12px",height:"9px",viewBox:"0 0 12 9",children:Object(vt.jsx)("polyline",{points:"1 5 4 8 11 1"})})}),Object(vt.jsx)("span",{children:e.title})]})]},e.id)))}),Object(vt.jsxs)("button",{type:"submit",className:"btn btn-tertiary",children:[Object(vt.jsx)("i",{className:"fas fa-search"}),"\xa0 Search"]})]})]}),!o&&Object(vt.jsxs)(a.Fragment,{children:[d.length>0?Object(vt.jsxs)("div",{children:[Object(vt.jsx)("div",{className:"wrapper",children:Object(vt.jsxs)("table",{children:[Object(vt.jsx)("thead",{children:Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("th",{children:"Name"}),Object(vt.jsx)("th",{children:"Email"}),Object(vt.jsx)("th",{children:"Job"}),Object(vt.jsx)("th",{})]})}),Object(vt.jsx)("tbody",{children:d.map((e=>Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("td",{children:Object(vt.jsxs)(mt.a,{className:"btn-link",to:"/edit-user/".concat(e.reservation.userId),onClick:()=>{window.scrollTo(0,0),c()},children:[e.reservation.user.name," ",e.reservation.user.lastname]})}),Object(vt.jsx)("td",{children:e.reservation.user.email}),Object(vt.jsx)("td",{children:e.jobs?e.jobs.map((e=>Object(vt.jsx)("p",{className:"outreach-list-jobs",children:e.title},"jb-".concat(e.id)))):e.job.title}),Object(vt.jsxs)("td",{children:[Object(vt.jsx)("input",{type:"checkbox",value:e.reservation.user.email,className:"form__input-chk",id:"user-".concat(e.id),checked:g.some((t=>t===e.reservation.user.email)),onChange:e=>{e.persist(),e.target.checked?b((t=>({...t,users:[...g,e.target.value]}))):b((t=>({...t,users:g.filter((t=>t!==e.target.value))})))}}),Object(vt.jsx)("label",{className:"form__label-chk",htmlFor:"user-".concat(e.id),children:Object(vt.jsx)("span",{children:Object(vt.jsx)("svg",{width:"12px",height:"9px",viewBox:"0 0 12 9",children:Object(vt.jsx)("polyline",{points:"1 5 4 8 11 1"})})})})]})]},e.id)))})]})}),Object(vt.jsxs)("div",{className:"list-total",children:[Object(vt.jsx)("span",{className:"list-total-title text-dark",children:"Total:"}),"\xa0",d.length]})]}):Object(vt.jsx)("h3",{className:"heading-primary-subheading u-center-text text-danger",children:i.msg}),g.length>0&&Object(vt.jsx)("div",{className:"btn-right",children:Object(vt.jsxs)("button",{onClick:()=>b((e=>({...e,toggleEmail:!O}))),className:"btn btn-primary",children:[Object(vt.jsx)("i",{className:"fas fa-paper-plane"})," \xa0 Email"]})})]})]})}));var Us=Object(dt.b)((e=>({global:e.global})))((e=>{let{global:{navbar:t,footer:s}}=e;return Object(vt.jsx)("div",{className:"container",style:{minHeight:"calc(100vh - ".concat(s,"px - ").concat(t,"px)")},children:Object(vt.jsxs)(jt.d,{children:[Object(vt.jsx)(ls,{path:"/signup",component:ns}),Object(vt.jsx)(ls,{path:"/resetpassword/:token",component:is}),Object(vt.jsx)(jt.b,{exact:!0,path:"/reservation/:job_id",component:Ds}),Object(vt.jsx)(jt.b,{path:"/activation/:token",component:os}),Object(vt.jsx)(rs,{path:"/profile",component:ns,types:["admin","customer"]}),Object(vt.jsx)(rs,{path:"/edit-user/:user_id",component:ns,types:["admin"]}),Object(vt.jsx)(rs,{path:"/reservations-list",component:Rs,types:["admin"]}),Object(vt.jsx)(rs,{path:"/jobs-list",component:Ts,types:["admin"]}),Object(vt.jsx)(rs,{path:"/schedule",component:Fs,types:["admin"]}),Object(vt.jsx)(rs,{path:"/users-list",component:Ms,types:["admin"]}),Object(vt.jsx)(rs,{path:"/outreach",component:As,types:["admin"]})]})})}));var Is=Object(dt.b)((e=>({global:e.global})),{loadUser:$e})((e=>{let{global:{navbar:t},loadUser:s}=e;return Object(a.useEffect)((()=>{localStorage.token&&(ct(localStorage.token),s())}),[s]),Object(vt.jsxs)(jt.c,{history:Ue,children:[Object(vt.jsx)(ft,{}),Object(vt.jsx)("div",{style:{paddingTop:"".concat(t,"px")},children:Object(vt.jsxs)(jt.d,{children:[Object(vt.jsx)(jt.b,{path:"/",exact:!0,component:Gt}),Object(vt.jsx)(jt.b,{path:"/portfolio",exact:!0,component:es}),Object(vt.jsx)(jt.b,{path:"/contact",exact:!0,component:Zt}),Object(vt.jsx)(jt.b,{path:"/servicesfull",exact:!0,component:Wt}),Object(vt.jsx)(jt.b,{path:"/vrm",component:Qt}),Object(vt.jsx)(jt.b,{path:"/booking",component:qt}),Object(vt.jsx)(jt.b,{path:"/login",component:cs}),Object(vt.jsx)(Us,{})]})}),Object(vt.jsx)(Nt,{})]})}));l.a.render(Object(vt.jsx)(dt.a,{store:it,children:Object(vt.jsx)(Is,{})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.9322a704.chunk.js.map