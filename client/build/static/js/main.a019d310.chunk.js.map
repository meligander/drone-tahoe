{"version":3,"sources":["actions/types.js","reducers/auth.js","reducers/alert.js","reducers/day.js","reducers/global.js","reducers/job.js","reducers/reservation.js","reducers/jobsXReservations.js","reducers/user.js","reducers/index.js","utils/history.js","actions/alert.js","actions/global.js","actions/day.js","actions/reservation.js","actions/jobs.js","actions/auth.js","utils/api.js","utils/setAuthToken.js","utils/store.js","actions/jobsXReservations.js","actions/user.js","components/layouts/Navbar/index.js","img/logoDRONE-dark-cropped-final.png","components/layouts/Footer/index.js","img/glenn/landing-video.m4v","components/HeroSection/index.js","components/About/index.js","components/Services/ServicesItem/index.js","img/small/services/construction.jpg","img/small/services/inspection.jpg","img/small/services/elevation-map.jpg","components/Services/index.js","img/glenn/partners/small/bruin.jpg","img/glenn/partners/small/brassfield.jpg","img/glenn/partners/small/corteva.jpg","img/glenn/partners/small/mccarthy.jpg","img/glenn/partners/tahoenalu.jpg","img/glenn/partners/tahoegal.jpg","img/glenn/partners/tahoeyachtclub.jpg","img/glenn/partners/tgma.jpg","img/glenn/partners/eaa.jpg","img/glenn/partners/greybluerealty.jpg","components/Testimonials/index.js","components/layouts/Alert/index.js","img/spinner.gif","components/layouts/Loading/index.js","components/pages/Booking/index.js","components/pages/Home/index.js","components/pages/Contact/index.js","components/pages/ServicesFull/index.js","img/glenn/Icons/global.png","img/glenn/Icons/progress.png","img/glenn/Icons/safety.png","components/pages/VRM/index.js","components/pages/Portfolio/index.js","components/pages/Login/index.js","components/routing/PrivateRoutes/index.js","components/routing/PublicRoutes/index.js","components/pages/EditUser/index.js","components/pages/Activation/index.js","components/pages/ChangePassword/index.js","components/HourRangeForm/index.js","components/JobForm/index.js","components/Schedule/index.js","components/UserField/index.js","components/ReservationForm/index.js","components/PayPal/index.js","components/EmailForm/index.js","components/RefundForm/index.js","components/layouts/PopUp/index.js","components/pages/Reservation/index.js","components/DatesFiled/index.js","components/pages/ReservationsList/index.js","components/pages/JobsList/index.js","components/pages/ManageSchedule/index.js","components/pages/UsersList/index.js","components/pages/Outreach/index.js","components/routing/Routes/index.js","App.js","index.js"],"names":["LOADINGSPINNER_UPDATED","FOOTER_HEIGHT_SETTED","NAVBAR_HEIGHT_SETTED","USERAUTH_LOADED","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","AUTH_ERROR","SIGNUP_FAIL","SIGNUP_SUCCESS","EMAIL_SENT","EMAIL_ERROR","EMAIL_CLEARED","PASSWORD_CHANGED","ALERT_REMOVED","ALERT_SETTED","USER_LOADED","USERS_LOADED","USER_UPDATED","USER_DELETED","USER_ERROR","USERS_ERROR","USER_CLEARED","USERS_CLEARED","RESERVATION_LOADED","RESERVATIONS_LOADED","RESERVATION_REGISTERED","RESERVATION_UPDATED","RESERVATION_DELETED","RESERVATION_CANCELED","RESERVATIONS_CLEARED","RESERVATION_CLEARED","RESERVATION_ERROR","RESERVATIONS_ERROR","JOBSXRESERVATIONS_LOADED","JOBSXRESERVATIONS_CLEARED","JOBSXRESERVATIONS_ERROR","MONTHAVAILABILITY_LOADED","DAYAVAILABILITY_LOADED","DAY_ENABLED","DAY_DISABLED","DAYS_DISABLED","ADD_RESERVED_DAY","DELETE_RESERVED_DAY","ADD_TIME_DISABLED_DAY","DELETE_TIME_DISABLED_DAY","DAYSAVAILABILITY_CLEARED","DAYSAVAILABILITY_ERROR","JOB_LOADED","JOBS_LOADED","JOB_REGISTERED","JOB_UPDATED","JOB_DELETED","JOB_ERROR","JOBS_ERROR","JOB_CLEARED","JOBS_CLEARED","PAYMENT_STATUS_UPDATED","PAYMENT_ERROR","initialState","token","localStorage","getItem","loggedUser","loading","isAuthenticated","error","emailSent","authReducer","state","action","type","payload","user","alertReducer","some","item","msg","filter","alert","id","loadingAvailableHours","loadingDisabledDays","availableHours","disabledDays","reservedDays","timeDisabledDays","userReducer","toDelete","Date","date","daysArray","getTime","dates","loadingSpinner","footer","navbar","globalReducer","loadingJob","job","jobs","jobReducer","map","loadingReservation","reservation","reservations","reservationReducer","sort","a","b","moment","hourFrom","diff","jobsXreservations","loadingUser","users","_id","combineReducers","auth","day","global","jobsXreservation","createBrowserHistory","setAlert","alertType","code","dispatch","uuidv4","setTimeout","updateLoadingSpinner","bool","checkDayAvailability","reservation_id","async","res","api","get","data","err","response","status","setDaysError","window","scrollTo","statusText","loadReservations","filterData","bulkLoad","updateStatus","filternames","Object","keys","x","length","name","setReservationError","put","updateReservation","formData","prop","errors","forEach","deleteReservation","delete","isReservation","deleteDate","clearReservations","loadJobs","setJobsError","clearJobs","loadUser","login","history","push","setAuthError","sendEmail","outreach","post","logOut","axios","create","baseURL","headers","interceptors","use","store","getState","Promise","reject","setAuthToken","defaults","common","setItem","removeItem","middleware","thunk","composeEnhancers","composeWithDevTools","trace","traceLimit","createStore","rootReducer","applyMiddleware","currentState","subscribe","previousState","loadReservationJobs","setJobsXReservationError","clearJobsXReservations","loadUsers","search","setUserError","clearUser","clearUsers","connect","setNavbarHeight","height","click","setClick","useState","button","setButton","closeMobileMenu","ref","useRef","useEffect","showButton","current","offsetHeight","innerWidth","addEventListener","className","style","justifyContent","padding","onClick","to","order","setFooterHeight","time","getFullYear","src","NavLogo","alt","pathname","target","HeroVideo","autoPlay","loop","muted","playsInline","Logo","image","title","details","ServicesSection","ServicesItem","Construction","Inspection","Roofing","Testimonials","TahoeNalu","Brassfield","TahoeYachtClub","Mccarthy","TahoeGal","EAA","GreyBlue","Corteva","TGMA","Bruin","alerts","classType","Fragment","zIndex","spinner","width","display","margin","setFormData","lastname","phone","email","company","experience","message","onChange","e","prev","value","onSubmit","preventDefault","cel","placeholder","required","htmlFor","Contact","React","i","subtitle","poptext","VRM","img2","img1","img3","Portfolio","frameborder","allow","allowfullscreen","frameBorder","allowFullScreen","facebookLogin","fbkData","googleLogin","googleData","loginUser","sendPasswordLink","password","adminValues","setAdminValues","forgotPassword","clientId","process","buttonText","onRequest","onSuccess","tokenId","onFailure","console","log","cookiePolicy","appId","autoLoad","textButton","callback","accessToken","userID","component","Component","types","path","pass","exact","userLogged","signup","updateUser","self","goBack","user_id","clearEmailSent","withRouter","location","match","isAdmin","pathId","params","adminType","replace","passwordConf","userLoaded","saveUser","disabled","autoComplete","activation","container","float","getBoundingClientRect","innerHeight","resetPassword","resetLink","confirm","setToggleModal","hourTo","rangeFrom","rangeTo","unavailableRange","jobId","getUTCHours","y","start","index","findIndex","key","JobForm","toggleModal","rows","checkMonthAvailability","month","year","registerReservation","today","add","tab","utc","hour","selectHour","newDate","setHours","newHourTo","oldHourFrom","oldHourTo","getHours","tileDisabled","useCallback","view","disabledDay","format","text","changedDate","getMonth","minDate","maxDate","onActiveStartDateChange","activeStartDate","posibleHours","minTime","startTime","usedRange","endTime","tabOpen","selectFinalUser","reservationUser","searchDisplay","switchDisplay","clear","completeClear","initialValue","lockEmail","onFocus","selectUser","jobsList","form","schedule","regex","job_id","discount","address","comments","travelExpenses","refundReason","total","changeDate","percentage","oldReservation","Math","round","Number","EPSILON","getTotal","expence","reduce","sum","itemValue","test","onChangeJobs","onChangeJobsDiscount","jobListItem","j","scrollIntoView","charAt","toUpperCase","slice","paymentId","show","checked","splice","PayPalButton","paypal","Buttons","driver","ReactDOM","updatePayment","makePayment","createOrder","payment","onApprove","actions","capture","onError","EmailForm","subject","RefundForm","amount","PopUp","subtext","toUpdate","logo","selectType","loadingReservations","list","position","editReservation","checkout","scrollTop","pageYOffset","document","documentElement","bottom","DatesFiled","min","cancelReservation","toggleDeleteConf","toggleReservation","toggleRefund","showFilter","setToggle","deleteJob","registerUpdateJob","toggleJob","update","jobData","checkMonthSchedule","disableDate","enableDate","disableDateRange","dateFrom","dateTo","disableHourRange","hourRange","addDate","loadingJobs","range","getDate","startDate","endDate","isAfter","betweenReserved","isBetween","betweenDisabled","betweenTimeDisabled","tileClassName","info","pastDate","getUTCDate","getUTCMonth","getDay","set","selectRange","loadRes","available","every","isBefore","disable","loadJobUsers","initialValues","toggleEmail","emailData","viewBox","points","userId","minHeight","EditUser","ChangePassword","Reservation","Activation","ReservationsList","JobsList","ManageSchedule","UsersList","Outreach","paddingTop","Home","ServicesFull","Booking","Login","render","getElementById"],"mappings":"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","file":"static/js/main.a019d310.chunk.js","sourcesContent":["//Global\r\nexport const LOADINGSPINNER_UPDATED = 'LOADINGSPINNER_UPDATED';\r\nexport const FOOTER_HEIGHT_SETTED = 'FOOTER_HEIGHT_SETTED';\r\nexport const NAVBAR_HEIGHT_SETTED = 'NAVBAR_HEIGHT_SETTED';\r\n\r\n//Auth\r\nexport const USERAUTH_LOADED = 'USERAUTH_LOADED';\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\r\nexport const LOGOUT = 'LOGOUT';\r\nexport const AUTH_ERROR = 'AUTH_ERROR';\r\nexport const SIGNUP_FAIL = 'SIGNUP_FAIL';\r\nexport const SIGNUP_SUCCESS = 'SIGNUP_SUCCESS';\r\nexport const EMAIL_SENT = 'EMAIL_SENT';\r\nexport const EMAIL_ERROR = 'EMAIL_ERROR';\r\nexport const EMAIL_CLEARED = 'EMAIL_CLEARED';\r\nexport const PASSWORD_CHANGED = 'PASSWORD_CHANGED';\r\n\r\n//Alert\r\nexport const ALERT_REMOVED = 'ALERT_REMOVED';\r\nexport const ALERT_SETTED = 'ALERT_SETTED';\r\n\r\n//Users\r\nexport const USER_LOADED = 'USER_LOADED';\r\nexport const USERS_LOADED = 'USERS_LOADED';\r\nexport const USER_UPDATED = 'USER_UPDATED';\r\nexport const USER_DELETED = 'USER_DELETED';\r\nexport const USER_ERROR = 'USER_ERROR';\r\nexport const USERS_ERROR = 'USERS_ERROR';\r\nexport const USER_CLEARED = 'USER_CLEARED';\r\nexport const USERS_CLEARED = 'USERS_CLEARED';\r\n\r\n//Reservations\r\nexport const RESERVATION_LOADED = 'RESERVATION_LOADED';\r\nexport const RESERVATIONS_LOADED = 'RESERVATIONS_LOADED';\r\nexport const RESERVATION_REGISTERED = 'RESERVATION_REGISTERED';\r\nexport const RESERVATION_UPDATED = 'RESERVATION_UPDATED';\r\nexport const RESERVATION_DELETED = 'RESERVATION_DELETED';\r\nexport const RESERVATION_CANCELED = 'RESERVATION_CANCELED';\r\nexport const RESERVATIONS_CLEARED = 'RESERVATIONS_CLEARED';\r\nexport const RESERVATION_CLEARED = 'RESERVATION_CLEARED';\r\nexport const RESERVATION_ERROR = 'RESERVATION_ERROR';\r\nexport const RESERVATIONS_ERROR = 'RESERVATIONS_ERROR';\r\n\r\n//JobsXReservations\r\nexport const JOBSXRESERVATIONS_LOADED = 'JOBSXRESERVATIONS_LOADED';\r\nexport const JOBSXRESERVATIONS_CLEARED = 'JOBSXRESERVATIONS_CLEARED';\r\nexport const JOBSXRESERVATIONS_ERROR = 'JOBSXRESERVATIONS_ERROR';\r\n\r\n//Days\r\nexport const MONTHAVAILABILITY_LOADED = 'MONTHAVAILABILITY_LOADED';\r\nexport const DAYAVAILABILITY_LOADED = 'DAYAVAILABILITY_LOADED';\r\nexport const DAY_ENABLED = 'DAY_ENABLED';\r\nexport const DAY_DISABLED = 'DAY_DISABLED';\r\nexport const DAYS_DISABLED = 'DAYS_DISABLED';\r\nexport const ADD_RESERVED_DAY = 'ADD_RESERVED_DAY';\r\nexport const DELETE_RESERVED_DAY = 'DELETE_RESERVED_DAY';\r\nexport const ADD_TIME_DISABLED_DAY = 'ADD_TIME_DISABLED_DAY';\r\nexport const DELETE_TIME_DISABLED_DAY = 'DELETE_TIME_DISABLED_DAY';\r\nexport const DAYSAVAILABILITY_CLEARED = 'DAYSAVAILABILITY_CLEARED';\r\nexport const DAYSAVAILABILITY_ERROR = 'DAYSAVAILABILITY_ERROR';\r\n\r\n//Jobs\r\nexport const JOB_LOADED = 'JOB_LOADED';\r\nexport const JOBS_LOADED = 'JOBS_LOADED';\r\nexport const JOB_REGISTERED = 'JOB_REGISTERED';\r\nexport const JOB_UPDATED = 'JOB_UPDATED';\r\nexport const JOB_DELETED = 'JOB_DELETED';\r\nexport const JOB_ERROR = 'JOB_ERROR';\r\nexport const JOBS_ERROR = 'JOBS_ERROR';\r\nexport const JOB_CLEARED = 'JOB_CLEARED';\r\nexport const JOBS_CLEARED = 'JOBS_CLEARED';\r\n\r\n//Payment\r\nexport const PAYMENT_SUCCESSFUL = 'PAYMENT_SUCCESSFUL';\r\nexport const PAYMENT_STATUS_UPDATED = 'PAYMENT_STATUS_UPDATED';\r\nexport const PAYMENT_ERROR = 'PAYMENT_ERROR';\r\n","import {\r\n\tUSERAUTH_LOADED,\r\n\tAUTH_ERROR,\r\n\tLOGIN_FAIL,\r\n\tLOGIN_SUCCESS,\r\n\tLOGOUT,\r\n\tSIGNUP_FAIL,\r\n\tEMAIL_SENT,\r\n\tSIGNUP_SUCCESS,\r\n\tPASSWORD_CHANGED,\r\n\tEMAIL_ERROR,\r\n\tEMAIL_CLEARED,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n\ttoken: localStorage.getItem('token'),\r\n\tloggedUser: null,\r\n\tloading: true,\r\n\tisAuthenticated: false,\r\n\terror: '',\r\n\temailSent: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\r\n\tswitch (type) {\r\n\t\tcase USERAUTH_LOADED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tloggedUser: payload,\r\n\t\t\t\tisAuthenticated: true,\r\n\t\t\t};\r\n\t\tcase SIGNUP_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tloggedUser: payload.user,\r\n\t\t\t\tisAuthenticated: true,\r\n\t\t\t\ttoken: payload.token,\r\n\t\t\t};\r\n\t\tcase LOGIN_SUCCESS:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\ttoken: payload.token,\r\n\t\t\t};\r\n\t\tcase AUTH_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttoken: null,\r\n\t\t\t\tisAuthenticated: false,\r\n\t\t\t\tloggedUser: null,\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: payload ? payload : '',\r\n\t\t\t};\r\n\t\tcase PASSWORD_CHANGED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttoken: payload.token,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tloggedUser: payload.user,\r\n\t\t\t\tisAuthenticated: true,\r\n\t\t\t};\r\n\r\n\t\tcase SIGNUP_FAIL:\r\n\t\tcase LOGIN_FAIL:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terror: payload,\r\n\t\t\t\tloading: false,\r\n\t\t\t\ttoken: null,\r\n\t\t\t\tisAuthenticated: false,\r\n\t\t\t\tloggedUser: null,\r\n\t\t\t};\r\n\t\tcase EMAIL_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terror: payload,\r\n\t\t\t\temailSent: false,\r\n\t\t\t};\r\n\t\tcase EMAIL_SENT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\temailSent: true,\r\n\t\t\t\terror: '',\r\n\t\t\t};\r\n\t\tcase LOGOUT:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\ttoken: null,\r\n\t\t\t\tisAuthenticated: false,\r\n\t\t\t\tloggedUser: null,\r\n\t\t\t\tloading: true,\r\n\t\t\t\terror: '',\r\n\t\t\t};\r\n\t\tcase EMAIL_CLEARED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\temailSent: false,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default authReducer;\r\n","import { ALERT_SETTED, ALERT_REMOVED } from \"../actions/types\";\r\n\r\nconst initialState = [];\r\n\r\nconst alertReducer = (state = initialState, action) => {\r\n   const { type, payload } = action;\r\n   switch (type) {\r\n      case ALERT_SETTED:\r\n         return !state.some((item) => item.msg === payload.msg)\r\n            ? [...state, payload]\r\n            : state;\r\n      case ALERT_REMOVED:\r\n         return state.filter((alert) => alert.id !== payload);\r\n      default:\r\n         return state;\r\n   }\r\n};\r\n\r\nexport default alertReducer;\r\n","import {\r\n\tDAYAVAILABILITY_LOADED,\r\n\tMONTHAVAILABILITY_LOADED,\r\n\tDAY_DISABLED,\r\n\tDAY_ENABLED,\r\n\tDAYSAVAILABILITY_CLEARED,\r\n\tDAYSAVAILABILITY_ERROR,\r\n\tDAYS_DISABLED,\r\n\tDELETE_RESERVED_DAY,\r\n\tADD_RESERVED_DAY,\r\n\tADD_TIME_DISABLED_DAY,\r\n\tDELETE_TIME_DISABLED_DAY,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n\tloadingAvailableHours: true,\r\n\tloadingDisabledDays: true,\r\n\tavailableHours: [],\r\n\tdisabledDays: [],\r\n\treservedDays: [],\r\n\ttimeDisabledDays: [],\r\n\terror: {},\r\n};\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase MONTHAVAILABILITY_LOADED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingDisabledDays: false,\r\n\t\t\t\tdisabledDays: payload.disabledDays ? payload.disabledDays : payload,\r\n\t\t\t\t...(payload.reservedDays && { reservedDays: payload.reservedDays }),\r\n\t\t\t\t...(payload.timeDisabledDays && {\r\n\t\t\t\t\ttimeDisabledDays: payload.timeDisabledDays,\r\n\t\t\t\t}),\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase DAYAVAILABILITY_LOADED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingAvailableHours: false,\r\n\t\t\t\tavailableHours: payload,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase DAYSAVAILABILITY_CLEARED:\r\n\t\t\treturn initialState;\r\n\t\tcase DAYSAVAILABILITY_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tavailableHours: [],\r\n\t\t\t\tloadingAvailableHours: false,\r\n\t\t\t\terror: payload,\r\n\t\t\t};\r\n\t\tcase DAY_ENABLED:\r\n\t\tcase DELETE_RESERVED_DAY:\r\n\t\tcase DELETE_TIME_DISABLED_DAY:\r\n\t\t\tconst toDelete = new Date(payload.date);\r\n\t\t\tconst daysArray = state[payload.type].filter((item) => {\r\n\t\t\t\tconst oldDate = new Date(item);\r\n\t\t\t\treturn oldDate.getTime() !== toDelete.getTime();\r\n\t\t\t});\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[payload.type]: daysArray,\r\n\t\t\t};\r\n\t\tcase DAY_DISABLED:\r\n\t\tcase ADD_RESERVED_DAY:\r\n\t\tcase ADD_TIME_DISABLED_DAY:\r\n\t\tcase DAYS_DISABLED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\t[payload.type]: payload.dates\r\n\t\t\t\t\t? [...state[payload.type], ...payload.dates]\r\n\t\t\t\t\t: [...state[payload.type], payload.date],\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default userReducer;\r\n","import {\r\n\tFOOTER_HEIGHT_SETTED,\r\n\tLOADINGSPINNER_UPDATED,\r\n\tNAVBAR_HEIGHT_SETTED,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n\tloadingSpinner: false,\r\n\tfooter: 0,\r\n\tnavbar: 0,\r\n};\r\n\r\nconst globalReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase LOADINGSPINNER_UPDATED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingSpinner: payload,\r\n\t\t\t};\r\n\t\tcase NAVBAR_HEIGHT_SETTED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tnavbar: payload,\r\n\t\t\t};\r\n\t\tcase FOOTER_HEIGHT_SETTED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tfooter: payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default globalReducer;\r\n","import {\r\n\tJOB_LOADED,\r\n\tJOBS_LOADED,\r\n\tJOB_REGISTERED,\r\n\tJOB_UPDATED,\r\n\tJOB_DELETED,\r\n\tJOBS_ERROR,\r\n\tJOBS_CLEARED,\r\n\tJOB_CLEARED,\r\n\tJOB_ERROR,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n\tloading: true,\r\n\tloadingJob: true,\r\n\tjob: null,\r\n\tjobs: [],\r\n\terror: {},\r\n};\r\n\r\nconst jobReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase JOB_LOADED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingJob: false,\r\n\t\t\t\tjob: payload,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase JOBS_LOADED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tjobs: payload,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase JOB_REGISTERED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tjobs: [...state.jobs, payload],\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase JOB_UPDATED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tjob: payload,\r\n\t\t\t\tloadingJob: false,\r\n\t\t\t\tjobs: state.jobs.map((item) =>\r\n\t\t\t\t\titem.id !== payload.id ? item : payload\r\n\t\t\t\t),\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase JOB_DELETED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tjobs: state.jobs.filter((item) => item.id !== payload),\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase JOBS_CLEARED:\r\n\t\t\treturn initialState;\r\n\t\tcase JOB_CLEARED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tjob: null,\r\n\t\t\t\tloadingJob: true,\r\n\t\t\t};\r\n\t\tcase JOB_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tjob: null,\r\n\t\t\t\tloadingJob: false,\r\n\t\t\t\terror: payload,\r\n\t\t\t};\r\n\t\tcase JOBS_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tjobs: [],\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default jobReducer;\r\n","import moment from 'moment';\r\nimport {\r\n\tRESERVATION_LOADED,\r\n\tRESERVATIONS_LOADED,\r\n\tRESERVATION_REGISTERED,\r\n\tRESERVATION_UPDATED,\r\n\tRESERVATION_DELETED,\r\n\tRESERVATIONS_ERROR,\r\n\tRESERVATION_CLEARED,\r\n\tRESERVATIONS_CLEARED,\r\n\tPAYMENT_ERROR,\r\n\tRESERVATION_CANCELED,\r\n\tPAYMENT_STATUS_UPDATED,\r\n\tRESERVATION_ERROR,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n\tloading: true,\r\n\tloadingReservation: true,\r\n\treservation: null,\r\n\treservations: [],\r\n\terror: {},\r\n};\r\n\r\nconst reservationReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase RESERVATION_LOADED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingReservation: false,\r\n\t\t\t\treservation: payload,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase RESERVATIONS_LOADED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\treservations: payload,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase RESERVATION_REGISTERED:\r\n\t\t\tlet reservations = [...state.reservations, payload];\r\n\t\t\treservations = reservations.sort((a, b) =>\r\n\t\t\t\tmoment(a.hourFrom).diff(moment(b.hourFrom))\r\n\t\t\t);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\treservations,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase RESERVATION_CANCELED:\r\n\t\tcase RESERVATION_UPDATED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingReservation: false,\r\n\t\t\t\treservations: state.reservations.map((item) =>\r\n\t\t\t\t\titem.id === payload.id ? payload : item\r\n\t\t\t\t),\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase PAYMENT_STATUS_UPDATED:\r\n\t\t\treturn payload\r\n\t\t\t\t? {\r\n\t\t\t\t\t\t...state,\r\n\t\t\t\t\t\tloadingReservation: false,\r\n\t\t\t\t\t\treservations: state.reservations.map((item) =>\r\n\t\t\t\t\t\t\titem.id === payload.id ? payload : item\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\terror: {},\r\n\t\t\t\t  }\r\n\t\t\t\t: state;\r\n\t\tcase RESERVATION_DELETED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\treservations: state.reservations.filter(\r\n\t\t\t\t\t(reservation) => reservation.id !== payload\r\n\t\t\t\t),\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase RESERVATIONS_CLEARED:\r\n\t\t\treturn initialState;\r\n\t\tcase RESERVATION_CLEARED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingReservation: true,\r\n\t\t\t\treservation: null,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase RESERVATION_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\treservation: null,\r\n\t\t\t\tloadingReservation: false,\r\n\t\t\t\terror: payload,\r\n\t\t\t};\r\n\t\tcase RESERVATIONS_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\treservations: [],\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: payload,\r\n\t\t\t};\r\n\t\tcase PAYMENT_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\terror: payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default reservationReducer;\r\n","import {\r\n\tJOBSXRESERVATIONS_CLEARED,\r\n\tJOBSXRESERVATIONS_ERROR,\r\n\tJOBSXRESERVATIONS_LOADED,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n\tloading: true,\r\n\tjobsXreservations: [],\r\n\terror: {},\r\n};\r\n\r\nconst reservationReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase JOBSXRESERVATIONS_LOADED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tjobsXreservations: payload,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase JOBSXRESERVATIONS_CLEARED:\r\n\t\t\treturn initialState;\r\n\t\tcase JOBSXRESERVATIONS_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tjobsXreservations: [],\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default reservationReducer;\r\n","import {\r\n\tUSER_LOADED,\r\n\tUSERS_LOADED,\r\n\tUSER_UPDATED,\r\n\tUSER_DELETED,\r\n\tUSERS_ERROR,\r\n\tUSER_CLEARED,\r\n\tUSERS_CLEARED,\r\n\tUSER_ERROR,\r\n} from '../actions/types';\r\n\r\nconst initialState = {\r\n\tloading: true,\r\n\tloadingUser: true,\r\n\tuser: null,\r\n\tusers: [],\r\n\terror: {},\r\n};\r\n\r\nconst userReducer = (state = initialState, action) => {\r\n\tconst { type, payload } = action;\r\n\tswitch (type) {\r\n\t\tcase USER_LOADED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloadingUser: false,\r\n\t\t\t\tuser: payload,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase USERS_LOADED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tusers: payload,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase USER_UPDATED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tusers: state.users.map((user) =>\r\n\t\t\t\t\tuser.id === payload.id ? payload : user\r\n\t\t\t\t),\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase USER_DELETED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: state.users.filter((user) => user._id !== payload),\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase USERS_CLEARED:\r\n\t\t\treturn initialState;\r\n\t\tcase USER_CLEARED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuser: null,\r\n\t\t\t\tloadingUser: true,\r\n\t\t\t\terror: {},\r\n\t\t\t};\r\n\t\tcase USER_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tuser: null,\r\n\t\t\t\tloadingUser: false,\r\n\t\t\t\terror: payload,\r\n\t\t\t};\r\n\t\tcase USERS_ERROR:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tusers: [],\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: payload,\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default userReducer;\r\n","import { combineReducers } from 'redux';\r\n\r\nimport auth from './auth';\r\nimport alert from './alert';\r\nimport day from './day';\r\nimport global from './global';\r\nimport job from './job';\r\nimport reservation from './reservation';\r\nimport jobsXreservation from './jobsXReservations';\r\nimport user from './user';\r\n\r\nexport default combineReducers({\r\n\talert,\r\n\tauth,\r\n\tday,\r\n\tglobal,\r\n\tjob,\r\n\treservation,\r\n\tjobsXreservation,\r\n\tuser,\r\n});\r\n","import { createBrowserHistory } from \"history\";\r\nexport default createBrowserHistory();\r\n","import { v4 as uuidv4 } from 'uuid';\r\n\r\nimport { ALERT_REMOVED, ALERT_SETTED } from './types';\r\n\r\nexport const setAlert =\r\n\t(msg, alertType, type = '1', code = 500) =>\r\n\t(dispatch) => {\r\n\t\tconst id = uuidv4();\r\n\t\tdispatch({\r\n\t\t\ttype: ALERT_SETTED,\r\n\t\t\tpayload: {\r\n\t\t\t\tid,\r\n\t\t\t\talertType,\r\n\t\t\t\tmsg,\r\n\t\t\t\ttype,\r\n\t\t\t\tcode,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tsetTimeout(\r\n\t\t\t() =>\r\n\t\t\t\tdispatch({\r\n\t\t\t\t\ttype: ALERT_REMOVED,\r\n\t\t\t\t\tpayload: id,\r\n\t\t\t\t}),\r\n\t\t\t5000\r\n\t\t);\r\n\t};\r\n","import {\r\n\tFOOTER_HEIGHT_SETTED,\r\n\tLOADINGSPINNER_UPDATED,\r\n\tNAVBAR_HEIGHT_SETTED,\r\n} from './types';\r\n\r\nexport const updateLoadingSpinner = (bool) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: LOADINGSPINNER_UPDATED,\r\n\t\tpayload: bool,\r\n\t});\r\n};\r\n\r\nexport const setFooterHeight = (height) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: FOOTER_HEIGHT_SETTED,\r\n\t\tpayload: height,\r\n\t});\r\n};\r\n\r\nexport const setNavbarHeight = (height) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: NAVBAR_HEIGHT_SETTED,\r\n\t\tpayload: height,\r\n\t});\r\n};\r\n","import api from '../utils/api';\r\n\r\nimport {\r\n\tDAYAVAILABILITY_LOADED,\r\n\tMONTHAVAILABILITY_LOADED,\r\n\tDAY_DISABLED,\r\n\tDAY_ENABLED,\r\n\tDAYSAVAILABILITY_ERROR,\r\n\tDAYSAVAILABILITY_CLEARED,\r\n\tDAYS_DISABLED,\r\n\tADD_RESERVED_DAY,\r\n\tADD_TIME_DISABLED_DAY,\r\n\tDELETE_RESERVED_DAY,\r\n\tDELETE_TIME_DISABLED_DAY,\r\n} from './types';\r\n\r\nimport { setAlert } from './alert';\r\nimport { updateLoadingSpinner } from './global';\r\n\r\nexport const checkDayAvailability =\r\n\t(date, reservation_id, diff) => async (dispatch) => {\r\n\t\tdispatch(updateLoadingSpinner(true));\r\n\t\tlet error = false;\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await api.get(`/day/${date}/${reservation_id}/${diff}`);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: DAYAVAILABILITY_LOADED,\r\n\t\t\t\tpayload: res.data,\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tif (err.response.status !== 401) {\r\n\t\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t\t\tdispatch(setDaysError(DAYSAVAILABILITY_ERROR, err.response));\r\n\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t} else error = true;\r\n\t\t}\r\n\r\n\t\tif (!error) dispatch(updateLoadingSpinner(false));\r\n\t};\r\n\r\nexport const checkMonthAvailability =\r\n\t(month, year, reservation_id, diff) => async (dispatch) => {\r\n\t\tdispatch(updateLoadingSpinner(true));\r\n\t\tlet error = false;\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await api.get(\r\n\t\t\t\t`/day/${month}/${year}/${reservation_id}/${diff}`\r\n\t\t\t);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: MONTHAVAILABILITY_LOADED,\r\n\t\t\t\tpayload: res.data,\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tif (err.response.status !== 401) {\r\n\t\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t\t\tdispatch(setDaysError(DAYSAVAILABILITY_ERROR, err.response));\r\n\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t} else error = true;\r\n\t\t}\r\n\r\n\t\tif (!error) dispatch(updateLoadingSpinner(false));\r\n\t};\r\n\r\nexport const checkMonthSchedule = (month, year) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\ttry {\r\n\t\tconst res = await api.get(`/day/schedule/${month}/${year}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: MONTHAVAILABILITY_LOADED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t\tdispatch(setDaysError(DAYSAVAILABILITY_ERROR, err.response));\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t}\r\n\t\terror = true;\r\n\t}\r\n\r\n\tif (!error) dispatch(updateLoadingSpinner(false));\r\n};\r\n\r\nexport const disableDate = (date) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\ttry {\r\n\t\tawait api.post(`/day/${date}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: DAY_DISABLED,\r\n\t\t\tpayload: {\r\n\t\t\t\ttype: 'disabledDays',\r\n\t\t\t\tdate,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tdispatch(setAlert('Date successfully disabled', 'success', '2'));\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '2'));\r\n\t\t\tdispatch(setDaysError(DAYSAVAILABILITY_ERROR, err.response));\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t}\r\n\t\terror = true;\r\n\t}\r\n\tif (!error) {\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t}\r\n};\r\n\r\nexport const disableDateRange = (dateFrom, dateTo) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\ttry {\r\n\t\tconst res = await api.post(`/day/${dateFrom}/${dateTo}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: DAYS_DISABLED,\r\n\t\t\tpayload: {\r\n\t\t\t\ttype: 'disabledDays',\r\n\t\t\t\tdates: res.data,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tdispatch(setAlert('Dates successfully disabled', 'success', '2'));\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '2'));\r\n\t\t\tdispatch(setDaysError(DAYSAVAILABILITY_ERROR, err.response));\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t}\r\n\t\terror = true;\r\n\t}\r\n\tif (!error) {\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t}\r\n};\r\n\r\nexport const enableDate = (date) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\ttry {\r\n\t\tawait api.delete(`/day/${date}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: DAY_ENABLED,\r\n\t\t\tpayload: {\r\n\t\t\t\ttype: 'disabledDays',\r\n\t\t\t\tdate,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tdispatch(setAlert('Date successfully enabled', 'success', '2'));\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '2'));\r\n\t\t\tdispatch(setDaysError(DAYSAVAILABILITY_ERROR, err.response));\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) {\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t}\r\n};\r\n\r\nexport const addDate = (date, reservation) => async (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: reservation ? ADD_RESERVED_DAY : ADD_TIME_DISABLED_DAY,\r\n\t\tpayload: {\r\n\t\t\ttype: reservation ? 'reservedDays' : 'timeDisabledDays',\r\n\t\t\tdate,\r\n\t\t},\r\n\t});\r\n};\r\n\r\nexport const deleteDate = (date, reservation) => async (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: reservation ? DELETE_RESERVED_DAY : DELETE_TIME_DISABLED_DAY,\r\n\t\tpayload: {\r\n\t\t\ttype: reservation ? 'reservedDays' : 'timeDisabledDays',\r\n\t\t\tdate,\r\n\t\t},\r\n\t});\r\n};\r\n\r\nexport const clearDaysAvailability = () => (dispatch) => {\r\n\tdispatch({ type: DAYSAVAILABILITY_CLEARED });\r\n};\r\n\r\nconst setDaysError = (type, response) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: type,\r\n\t\tpayload: {\r\n\t\t\ttype: response.statusText,\r\n\t\t\tstatus: response.status,\r\n\t\t\tmsg: response.data.msg,\r\n\t\t},\r\n\t});\r\n};\r\n","import api from '../utils/api';\r\n\r\nimport {\r\n\tRESERVATIONS_CLEARED,\r\n\tRESERVATIONS_ERROR,\r\n\tRESERVATIONS_LOADED,\r\n\tRESERVATION_CANCELED,\r\n\tRESERVATION_DELETED,\r\n\tRESERVATION_LOADED,\r\n\tRESERVATION_REGISTERED,\r\n\tRESERVATION_UPDATED,\r\n\tRESERVATION_CLEARED,\r\n\tPAYMENT_ERROR,\r\n\tPAYMENT_SUCCESSFUL,\r\n\tPAYMENT_STATUS_UPDATED,\r\n\tRESERVATION_ERROR,\r\n} from './types';\r\n\r\nimport { setAlert } from './alert';\r\nimport { updateLoadingSpinner } from './global';\r\nimport { addDate, deleteDate } from './day';\r\n\r\nexport const loadReservation = (reservation_id) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\ttry {\r\n\t\tconst res = await api.get(`/reservation/${reservation_id}`);\r\n\t\tdispatch({\r\n\t\t\ttype: RESERVATION_LOADED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t\tdispatch(setReservationError(RESERVATION_ERROR, err.response));\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) dispatch(updateLoadingSpinner(false));\r\n};\r\n\r\nexport const loadReservations = (filterData, bulkLoad) => async (dispatch) => {\r\n\tif (!bulkLoad) dispatch(updateLoadingSpinner(true));\r\n\tif (bulkLoad) await dispatch(updateStatus());\r\n\tlet error = false;\r\n\r\n\tlet filter = '';\r\n\tconst filternames = Object.keys(filterData);\r\n\tfor (let x = 0; x < filternames.length; x++) {\r\n\t\tconst name = filternames[x];\r\n\t\tif (filterData[name] !== '') {\r\n\t\t\tif (filter !== '') filter = filter + '&';\r\n\t\t\tfilter = filter + filternames[x] + '=' + filterData[name];\r\n\t\t}\r\n\t}\r\n\ttry {\r\n\t\tconst res = await api.get(`/reservation?${filter}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: RESERVATIONS_LOADED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setReservationError(RESERVATIONS_ERROR, err.response));\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) dispatch(updateLoadingSpinner(false));\r\n};\r\n\r\nexport const makePayment = (formData) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\ttry {\r\n\t\tconst res = await api.post('/reservation/payment', formData);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PAYMENT_SUCCESSFUL,\r\n\t\t});\r\n\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t\treturn res.data;\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '2'));\r\n\t\t\tdispatch(setReservationError(PAYMENT_ERROR, err.response));\r\n\t\t\tdispatch(updateLoadingSpinner(false));\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport const updatePayment = (reservation_id, formData) => async (dispatch) => {\r\n\ttry {\r\n\t\tconst res = await api.put(\r\n\t\t\t`/reservation/payment/${reservation_id}`,\r\n\t\t\tformData\r\n\t\t);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PAYMENT_STATUS_UPDATED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\treturn true;\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '2'));\r\n\t\t\tdispatch(setReservationError(PAYMENT_ERROR, err.response));\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\nexport const updateStatus = () => async (dispatch) => {\r\n\ttry {\r\n\t\tawait api.put('/reservation/status/update');\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PAYMENT_STATUS_UPDATED,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '2'));\r\n\t\t\tdispatch(setReservationError(PAYMENT_ERROR, err.response));\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport const registerReservation = (formData) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\r\n\tlet reservation = {};\r\n\tfor (const prop in formData)\r\n\t\tif (formData[prop] !== '') reservation[prop] = formData[prop];\r\n\r\n\ttry {\r\n\t\tlet res = await api.post('/reservation', reservation);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: RESERVATION_REGISTERED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\tdispatch(setAlert('Reservation Registered', 'success', '1'));\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t\treturn true;\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setReservationError(RESERVATION_ERROR, err.response));\r\n\r\n\t\t\tif (err.response.data.errors)\r\n\t\t\t\terr.response.data.errors.forEach((error) => {\r\n\t\t\t\t\tdispatch(setAlert(error.msg, 'danger', '2'));\r\n\t\t\t\t});\r\n\t\t\telse dispatch(setAlert(err.response.data.msg, 'danger', '2'));\r\n\r\n\t\t\tdispatch(updateLoadingSpinner(false));\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\nexport const updateReservation = (formData) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\r\n\tlet reservation = {};\r\n\tfor (const prop in formData)\r\n\t\tif (formData[prop] !== '') reservation[prop] = formData[prop];\r\n\ttry {\r\n\t\tlet res = await api.put(`/reservation/${formData.id}`, reservation);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: RESERVATION_UPDATED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\tdispatch(setAlert('Reservation Updated', 'success', '1'));\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t\treturn true;\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setReservationError(RESERVATION_ERROR, err.response));\r\n\r\n\t\t\tif (err.response.data.errors)\r\n\t\t\t\terr.response.data.errors.forEach((error) => {\r\n\t\t\t\t\tdispatch(setAlert(error.msg, 'danger', '2'));\r\n\t\t\t\t});\r\n\t\t\telse dispatch(setAlert(err.response.data.msg, 'danger', '2'));\r\n\r\n\t\t\tdispatch(updateLoadingSpinner(false));\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\nexport const disableHourRange = (formData, date) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\r\n\tlet hourRange = {};\r\n\tfor (const prop in formData)\r\n\t\tif (formData[prop] !== '') hourRange[prop] = formData[prop];\r\n\r\n\ttry {\r\n\t\tlet res = await api.post('/reservation/disable', hourRange);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: RESERVATION_REGISTERED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\tdispatch(addDate(date, false));\r\n\r\n\t\tdispatch(setAlert('Time Range Disabled', 'success', '1'));\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t\treturn true;\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setReservationError(RESERVATION_ERROR, err.response));\r\n\r\n\t\t\tif (err.response.data.errors)\r\n\t\t\t\terr.response.data.errors.forEach((error) => {\r\n\t\t\t\t\tdispatch(setAlert(error.msg, 'danger', '2'));\r\n\t\t\t\t});\r\n\t\t\telse dispatch(setAlert(err.response.data.msg, 'danger', '2'));\r\n\r\n\t\t\tdispatch(updateLoadingSpinner(false));\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\nexport const cancelReservation =\r\n\t(reservation, formData) => async (dispatch) => {\r\n\t\tdispatch(updateLoadingSpinner(true));\r\n\r\n\t\tlet data = {};\r\n\t\tfor (const prop in formData)\r\n\t\t\tif (formData[prop] !== '') data[prop] = formData[prop];\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await api.put(`/reservation/cancel/${reservation.id}`, data);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:\r\n\t\t\t\t\tformData.amount && reservation.total !== formData.amount\r\n\t\t\t\t\t\t? RESERVATION_UPDATED\r\n\t\t\t\t\t\t: RESERVATION_CANCELED,\r\n\t\t\t\tpayload: res.data,\r\n\t\t\t});\r\n\r\n\t\t\tdispatch(\r\n\t\t\t\tsetAlert(\r\n\t\t\t\t\t`Reservation ${\r\n\t\t\t\t\t\tformData.amount && reservation.total !== formData.amount\r\n\t\t\t\t\t\t\t? 'Updated'\r\n\t\t\t\t\t\t\t: 'Canceled'\r\n\t\t\t\t\t}`,\r\n\t\t\t\t\t'success',\r\n\t\t\t\t\t'1'\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t\tdispatch(updateLoadingSpinner(false));\r\n\t\t\treturn true;\r\n\t\t} catch (err) {\r\n\t\t\tif (err.response.status !== 401) {\r\n\t\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '2'));\r\n\t\t\t\tdispatch(setReservationError(RESERVATION_ERROR, err.response));\r\n\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t\tdispatch(updateLoadingSpinner(false));\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\nexport const deleteReservation = (reservation, date) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\ttry {\r\n\t\tawait api.delete(`/reservation/${reservation.id}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: RESERVATION_DELETED,\r\n\t\t\tpayload: reservation.id,\r\n\t\t});\r\n\r\n\t\tconst isReservation = reservation.status !== 'hourRange';\r\n\r\n\t\tif (date) dispatch(deleteDate(date, isReservation));\r\n\r\n\t\tdispatch(setAlert('Reservation Deleted', 'success', '1'));\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t\tdispatch(setReservationError(RESERVATION_ERROR, err.response));\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) {\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t}\r\n};\r\n\r\nexport const clearReservation = () => (dispatch) => {\r\n\tdispatch({ type: RESERVATION_CLEARED });\r\n};\r\n\r\nexport const clearReservations = () => (dispatch) => {\r\n\tdispatch({ type: RESERVATIONS_CLEARED });\r\n};\r\n\r\nconst setReservationError = (type, response) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: type,\r\n\t\tpayload: response.data.errors\r\n\t\t\t? response.data.errors\r\n\t\t\t: {\r\n\t\t\t\t\ttype: response.statusText,\r\n\t\t\t\t\tstatus: response.status,\r\n\t\t\t\t\tmsg: response.data.msg,\r\n\t\t\t  },\r\n\t});\r\n};\r\n","import api from '../utils/api';\r\n\r\nimport {\r\n\tJOB_LOADED,\r\n\tJOBS_LOADED,\r\n\tJOB_REGISTERED,\r\n\tJOB_UPDATED,\r\n\tJOB_DELETED,\r\n\tJOBS_ERROR,\r\n\tJOBS_CLEARED,\r\n\tJOB_CLEARED,\r\n\tJOB_ERROR,\r\n} from './types';\r\n\r\nimport { setAlert } from './alert';\r\nimport { updateLoadingSpinner } from './global';\r\n\r\nexport const loadJob = (job_id) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\ttry {\r\n\t\tconst res = await api.get(`/job/${job_id}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: JOB_LOADED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setJobsError(JOB_ERROR, err.response));\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) dispatch(updateLoadingSpinner(false));\r\n};\r\n\r\nexport const loadJobs = (formData, bulkLoad) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\tlet filter = '';\r\n\tfor (const x in formData) {\r\n\t\tif (formData[x] !== '')\r\n\t\t\tfilter = `${filter !== '' ? `${filter}&` : ''}${x}=${formData[x]}`;\r\n\t}\r\n\r\n\ttry {\r\n\t\tconst res = await api.get(`/job?${filter}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: JOBS_LOADED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setJobsError(JOBS_ERROR, err.response));\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!bulkLoad && !error) dispatch(updateLoadingSpinner(false));\r\n};\r\n\r\nexport const registerUpdateJob = (formData, job_id) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\r\n\tlet job = {};\r\n\tfor (const prop in formData)\r\n\t\tif (formData[prop] !== '') job[prop] = formData[prop];\r\n\r\n\ttry {\r\n\t\tconst res = await api.post(`/job/${job_id ? job_id : '0'}`, job);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: job_id ? JOB_UPDATED : JOB_REGISTERED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\tdispatch(\r\n\t\t\tsetAlert(`Job ${job_id ? 'Updated' : 'Registered'}`, 'success', '1')\r\n\t\t);\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t\treturn true;\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setJobsError(JOB_ERROR, err.response));\r\n\t\t\tif (err.response.data.errors)\r\n\t\t\t\terr.response.data.errors.forEach((error) => {\r\n\t\t\t\t\tdispatch(setAlert(error.msg, 'danger', '2'));\r\n\t\t\t\t});\r\n\t\t\telse dispatch(setAlert(err.response.data.msg, 'danger', '2'));\r\n\t\t\tdispatch(updateLoadingSpinner(false));\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\nexport const deleteJob = (job_id) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\ttry {\r\n\t\tawait api.delete(`/job/${job_id}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: JOB_DELETED,\r\n\t\t\tpayload: job_id,\r\n\t\t});\r\n\r\n\t\tdispatch(setAlert('Job Deleted', 'success', '1'));\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t\tdispatch(setJobsError(JOB_ERROR, err.response));\r\n\t\t} else error = true;\r\n\t}\r\n\tif (!error) {\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t}\r\n};\r\n\r\nexport const clearJobs = () => (dispatch) => {\r\n\tdispatch({ type: JOBS_CLEARED });\r\n};\r\n\r\nexport const clearJob = () => (dispatch) => {\r\n\tdispatch({ type: JOB_CLEARED });\r\n};\r\n\r\nconst setJobsError = (type, response) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: type,\r\n\t\tpayload: response.data.errors\r\n\t\t\t? response.data.errors\r\n\t\t\t: {\r\n\t\t\t\t\ttype: response.statusText,\r\n\t\t\t\t\tstatus: response.status,\r\n\t\t\t\t\tmsg: response.data.msg,\r\n\t\t\t  },\r\n\t});\r\n};\r\n","import api from '../utils/api';\r\nimport history from '../utils/history';\r\n\r\nimport {\r\n\tAUTH_ERROR,\r\n\tLOGIN_FAIL,\r\n\tLOGIN_SUCCESS,\r\n\tLOGOUT,\r\n\tEMAIL_SENT,\r\n\tUSERAUTH_LOADED,\r\n\tSIGNUP_FAIL,\r\n\tSIGNUP_SUCCESS,\r\n\tPASSWORD_CHANGED,\r\n\tEMAIL_ERROR,\r\n\tEMAIL_CLEARED,\r\n} from './types';\r\n\r\nimport { setAlert } from './alert';\r\nimport { updateLoadingSpinner } from './global';\r\nimport { clearReservations } from './reservation';\r\nimport { clearJobs } from './jobs';\r\n\r\nexport const loadUser = (login) => async (dispatch) => {\r\n\ttry {\r\n\t\tconst res = await api.get('/user/info');\r\n\t\tdispatch({\r\n\t\t\ttype: USERAUTH_LOADED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\tif (login) {\r\n\t\t\tif (res.data.type === 'admin') {\r\n\t\t\t\tdispatch(clearReservations());\r\n\t\t\t\tdispatch(clearJobs());\r\n\t\t\t\thistory.push('/reservations-list');\r\n\t\t\t} else {\r\n\t\t\t\thistory.push('/');\r\n\t\t\t\tdispatch(updateLoadingSpinner(false));\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t\tdispatch(setAuthError(AUTH_ERROR, err.response));\r\n\t\t\tdispatch(updateLoadingSpinner(false));\r\n\t\t}\r\n\t}\r\n};\r\n\r\nexport const loginUser = (formData) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\tlet user = {};\r\n\tfor (const prop in formData)\r\n\t\tif (formData[prop] !== '') user[prop] = formData[prop];\r\n\r\n\ttry {\r\n\t\tconst res = await api.post('/auth', user);\r\n\t\tdispatch({\r\n\t\t\ttype: LOGIN_SUCCESS,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\tdispatch(loadUser(true));\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAuthError(LOGIN_FAIL, err.response));\r\n\r\n\t\t\tif (err.response.data.errors)\r\n\t\t\t\terr.response.data.errors.forEach((error) => {\r\n\t\t\t\t\tdispatch(setAlert(error.msg, 'danger', '1'));\r\n\t\t\t\t});\r\n\t\t\telse dispatch(setAlert(err.response.msg, 'danger', '1'));\r\n\t\t\tdispatch(updateLoadingSpinner(false));\r\n\t\t} else error = true;\r\n\t}\r\n\tif (!error) window.scrollTo(0, 0);\r\n};\r\n\r\nexport const facebookLogin = (fbkData) => async (dispatch) => {\r\n\tlet error = false;\r\n\ttry {\r\n\t\tconst res = await api.post('/auth/facebooklogin', fbkData);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: LOGIN_SUCCESS,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\tdispatch(loadUser(true));\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t\tdispatch(setAuthError(LOGIN_FAIL, err.response));\r\n\t\t\tdispatch(updateLoadingSpinner(false));\r\n\t\t} else error = true;\r\n\t}\r\n\tif (!error) window.scrollTo(0, 0);\r\n};\r\n\r\nexport const googleLogin = (googleData) => async (dispatch) => {\r\n\tlet error = false;\r\n\ttry {\r\n\t\tconst res = await api.post('/auth/googlelogin', googleData);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: LOGIN_SUCCESS,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\tdispatch(loadUser(true));\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t\tdispatch(setAuthError(LOGIN_FAIL, err.response));\r\n\t\t\tdispatch(updateLoadingSpinner(false));\r\n\t\t} else error = true;\r\n\t}\r\n\tif (!error) window.scrollTo(0, 0);\r\n};\r\n\r\nexport const signup = (formData) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\tlet user = {};\r\n\tfor (const prop in formData)\r\n\t\tif (formData[prop] !== '') user[prop] = formData[prop];\r\n\r\n\ttry {\r\n\t\tawait api.post('/auth/signup', user);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: EMAIL_SENT,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAuthError(SIGNUP_FAIL, err.response));\r\n\t\t\tif (err.response.data.errors)\r\n\t\t\t\terr.response.data.errors.forEach((error) => {\r\n\t\t\t\t\tdispatch(setAlert(error.msg, 'danger', '1'));\r\n\t\t\t\t});\r\n\t\t\telse dispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) dispatch(updateLoadingSpinner(false));\r\n};\r\n\r\nexport const sendPasswordLink = (email) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\ttry {\r\n\t\tconst res = await api.put('/auth/password', { email });\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: EMAIL_SENT,\r\n\t\t});\r\n\r\n\t\tdispatch(setAlert(res.data.msg, 'success', '1'));\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAuthError(AUTH_ERROR, err.response));\r\n\t\t\tif (err.response.data.errors)\r\n\t\t\t\terr.response.data.errors.forEach((error) => {\r\n\t\t\t\t\tdispatch(setAlert(error.msg, 'danger', '1'));\r\n\t\t\t\t});\r\n\t\t\telse dispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) {\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t}\r\n};\r\n\r\nexport const resetPassword = (formData) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\tlet user = {};\r\n\tfor (const prop in formData)\r\n\t\tif (formData[prop] !== '') user[prop] = formData[prop];\r\n\r\n\ttry {\r\n\t\tconst res = await api.put('/auth/reset-password', user);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: PASSWORD_CHANGED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\tif (res.data.type === 'admin') history.push('/reservations-list');\r\n\t\telse history.push('/');\r\n\r\n\t\tdispatch(setAlert('Password successfully changed', 'success', '1'));\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAuthError(AUTH_ERROR, err.response));\r\n\t\t\tif (err.response.data.errors)\r\n\t\t\t\terr.response.data.errors.forEach((error) => {\r\n\t\t\t\t\tdispatch(setAlert(error.msg, 'danger', '1'));\r\n\t\t\t\t});\r\n\t\t\telse dispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) {\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t}\r\n};\r\n\r\nexport const activation = (token) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\ttry {\r\n\t\tconst res = await api.post('/auth/activation', { token });\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: SIGNUP_SUCCESS,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAuthError(SIGNUP_FAIL, err.response));\r\n\t\t}\r\n\t\terror = true;\r\n\t}\r\n\tif (!error) {\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t}\r\n};\r\n\r\nexport const sendEmail = (formData, outreach) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\r\n\tlet data = {};\r\n\tfor (const prop in formData)\r\n\t\tif (formData[prop] !== '') data[prop] = formData[prop];\r\n\r\n\ttry {\r\n\t\tconst res = await api.post(\r\n\t\t\toutreach ? '/auth/outreach-email' : '/auth/send-email',\r\n\t\t\tdata\r\n\t\t);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: EMAIL_SENT,\r\n\t\t});\r\n\r\n\t\tdispatch(setAlert(res.data.msg, 'success', '1'));\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t\treturn true;\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAuthError(EMAIL_ERROR, err.response));\r\n\r\n\t\t\tif (err.response.data.errors)\r\n\t\t\t\terr.response.data.errors.forEach((error) => {\r\n\t\t\t\t\tdispatch(setAlert(error.msg, 'danger', outreach ? '2' : '1'));\r\n\t\t\t\t});\r\n\t\t\telse\r\n\t\t\t\tdispatch(\r\n\t\t\t\t\tsetAlert(err.response.data.msg, 'danger', outreach ? '2' : '1')\r\n\t\t\t\t);\r\n\t\t}\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t\treturn false;\r\n\t}\r\n};\r\n\r\nexport const clearEmailSent = () => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: EMAIL_CLEARED,\r\n\t});\r\n};\r\n\r\nexport const logOut = () => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: LOGOUT,\r\n\t});\r\n\thistory.push('/login');\r\n};\r\n\r\nexport const setAuthError = (type, response) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: type,\r\n\t\tpayload: response.data.errors\r\n\t\t\t? response.data.errors\r\n\t\t\t: {\r\n\t\t\t\t\ttype: response.statusText,\r\n\t\t\t\t\tstatus: response.status,\r\n\t\t\t\t\tmsg: response.data.msg,\r\n\t\t\t  },\r\n\t});\r\n};\r\n","import axios from 'axios';\r\nimport store from './store';\r\n\r\nimport { logOut, setAuthError } from '../actions/auth';\r\nimport { updateLoadingSpinner } from '../actions/global';\r\nimport { setAlert } from '../actions/alert';\r\nimport { AUTH_ERROR } from '../actions/types';\r\n\r\nconst api = axios.create({\r\n\tbaseURL: '/api',\r\n\theaders: {\r\n\t\t'Content-Type': 'application/json',\r\n\t},\r\n});\r\n\r\napi.interceptors.response.use(\r\n\t(res) => res,\r\n\t(err) => {\r\n\t\tif (\r\n\t\t\terr.response.status === 401 &&\r\n\t\t\t(store.getState().alert.length === 0 ||\r\n\t\t\t\t!store.getState().alert.some((item) => item.code === 401))\r\n\t\t) {\r\n\t\t\tstore.dispatch(logOut());\r\n\t\t\tstore.dispatch(setAlert(err.response.data.msg, 'danger', '1', 401));\r\n\t\t\tstore.dispatch(setAuthError(AUTH_ERROR, err.response));\r\n\t\t\tstore.dispatch(updateLoadingSpinner(false));\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t}\r\n\t\treturn Promise.reject(err);\r\n\t}\r\n);\r\n\r\nexport default api;\r\n","import api from './api';\r\n\r\nconst setAuthToken = (token) => {\r\n\tif (token) {\r\n\t\tapi.defaults.headers.common['auth-token'] = token;\r\n\t\tlocalStorage.setItem('token', token);\r\n\t} else {\r\n\t\tdelete api.defaults.headers.common['auth-token'];\r\n\t\tlocalStorage.removeItem('token');\r\n\t}\r\n};\r\n\r\nexport default setAuthToken;\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nimport rootReducer from '../reducers';\r\nimport setAuthToken from './setAuthToken';\r\n\r\nconst initialState = {};\r\n\r\nconst middleware = [thunk];\r\n\r\nconst composeEnhancers = composeWithDevTools({\r\n\ttrace: true,\r\n\ttraceLimit: 25,\r\n});\r\nconst store = createStore(\r\n\trootReducer,\r\n\tinitialState,\r\n\tcomposeEnhancers(applyMiddleware(...middleware))\r\n);\r\n\r\n// set up a store subscription listener\r\n// to store the users token in localStorage\r\n\r\n// prevent auth error on first run of subscription\r\nlet currentState = {\r\n\tauth: { token: null, isAuthenticated: null, loading: true, user: null },\r\n};\r\n\r\nstore.subscribe(() => {\r\n\t// keep track of the previous and current state to compare changes\r\n\tlet previousState = currentState;\r\n\tcurrentState = store.getState();\r\n\r\n\t// if the token changes set the value in localStorage and axios headers\r\n\tif (previousState.auth.token !== currentState.auth.token) {\r\n\t\tconst token = currentState.auth.token;\r\n\t\tsetAuthToken(token);\r\n\t}\r\n});\r\n\r\nexport default store;\r\n","import api from '../utils/api';\r\n\r\nimport {\r\n\tJOBSXRESERVATIONS_CLEARED,\r\n\tJOBSXRESERVATIONS_ERROR,\r\n\tJOBSXRESERVATIONS_LOADED,\r\n} from './types';\r\n\r\nimport { updateLoadingSpinner } from './global';\r\n\r\nexport const loadUserJobs = (user_id) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\ttry {\r\n\t\tconst res = await api.get(`/res/job/user/${user_id}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: JOBSXRESERVATIONS_LOADED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setJobsXReservationError(JOBSXRESERVATIONS_ERROR, err.response));\r\n\t\t\twindow.scrollTo(0, 0);\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) dispatch(updateLoadingSpinner(false));\r\n};\r\n\r\nexport const loadReservationJobs =\r\n\t(reservation_id, type) => async (dispatch) => {\r\n\t\tdispatch(updateLoadingSpinner(true));\r\n\t\tlet error = false;\r\n\r\n\t\ttry {\r\n\t\t\tconst res = await api.get(\r\n\t\t\t\t`/res/job/reservation/${reservation_id}&${type ? '?type=' + type : ''}`\r\n\t\t\t);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: JOBSXRESERVATIONS_LOADED,\r\n\t\t\t\tpayload: res.data,\r\n\t\t\t});\r\n\t\t} catch (err) {\r\n\t\t\tif (err.response.status !== 401) {\r\n\t\t\t\tdispatch(\r\n\t\t\t\t\tsetJobsXReservationError(JOBSXRESERVATIONS_ERROR, err.response)\r\n\t\t\t\t);\r\n\t\t\t} else error = true;\r\n\t\t}\r\n\r\n\t\tif (!error) dispatch(updateLoadingSpinner(false));\r\n\t};\r\n\r\nexport const loadJobUsers = (formData) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\tlet filter = '';\r\n\tfor (const x in formData) {\r\n\t\tif (\r\n\t\t\t(x === 'jobs' && formData[x].length > 0) ||\r\n\t\t\t(formData[x] !== '' && x !== 'jobs')\r\n\t\t)\r\n\t\t\tfilter = `${filter !== '' ? `${filter}&` : ''}${x}=${\r\n\t\t\t\tx === 'jobs' ? formData[x].map((item) => item) : formData[x]\r\n\t\t\t}`;\r\n\t}\r\n\r\n\ttry {\r\n\t\tconst res = await api.get(`/res/job/jobs?${filter}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: JOBSXRESERVATIONS_LOADED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setJobsXReservationError(JOBSXRESERVATIONS_ERROR, err.response));\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) dispatch(updateLoadingSpinner(false));\r\n};\r\n\r\nexport const clearJobsXReservations = () => (dispatch) => {\r\n\tdispatch({ type: JOBSXRESERVATIONS_CLEARED });\r\n};\r\n\r\nconst setJobsXReservationError = (type, response) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: type,\r\n\t\tpayload: {\r\n\t\t\ttype: response.statusText,\r\n\t\t\tstatus: response.status,\r\n\t\t\tmsg: response.data.msg,\r\n\t\t},\r\n\t});\r\n};\r\n","import api from '../utils/api';\r\nimport history from '../utils/history';\r\n\r\nimport {\r\n\tUSER_LOADED,\r\n\tUSERAUTH_LOADED,\r\n\tUSERS_LOADED,\r\n\tUSER_UPDATED,\r\n\tUSER_DELETED,\r\n\tUSERS_ERROR,\r\n\tUSER_CLEARED,\r\n\tUSERS_CLEARED,\r\n\tUSER_ERROR,\r\n} from './types';\r\n\r\nimport { setAlert } from './alert';\r\nimport { updateLoadingSpinner } from './global';\r\nimport { clearReservations } from './reservation';\r\n\r\nexport const loadUser = (user_id) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\ttry {\r\n\t\tconst res = await api.get(`/user/${user_id}`);\r\n\t\tdispatch({\r\n\t\t\ttype: USER_LOADED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t\tdispatch(setUserError(USER_ERROR, err.response));\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) dispatch(updateLoadingSpinner(false));\r\n};\r\n\r\nexport const loadUsers = (formData, search) => async (dispatch) => {\r\n\tif (!search) dispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\tlet filter = '';\r\n\tfor (const x in formData) {\r\n\t\tif (formData[x] !== '')\r\n\t\t\tfilter = `${filter !== '' ? `${filter}&` : ''}${x}=${formData[x]}`;\r\n\t}\r\n\r\n\ttry {\r\n\t\tconst res = await api.get(`/user?${filter}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USERS_LOADED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setUserError(USERS_ERROR, err.response));\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!search && !error) dispatch(updateLoadingSpinner(false));\r\n};\r\n\r\nexport const updateUser = (formData, self) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\tlet user = {};\r\n\tfor (const prop in formData)\r\n\t\tif (formData[prop] !== '') user[prop] = formData[prop];\r\n\r\n\ttry {\r\n\t\tconst res = await api.put(`/user/${formData.id}`, user);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: self ? USERAUTH_LOADED : USER_UPDATED,\r\n\t\t\tpayload: res.data,\r\n\t\t});\r\n\r\n\t\tdispatch(\r\n\t\t\tsetAlert(\r\n\t\t\t\t`${self ? 'Profile' : 'User'} Successfully Updated`,\r\n\t\t\t\t'success',\r\n\t\t\t\t'1'\r\n\t\t\t)\r\n\t\t);\r\n\t\tif (!self) {\r\n\t\t\tdispatch(clearReservations());\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setUserError(USER_ERROR, err.response));\r\n\r\n\t\t\tif (err.response.data.errors)\r\n\t\t\t\terr.response.data.errors.forEach((error) => {\r\n\t\t\t\t\tdispatch(setAlert(error.msg, 'danger', '1'));\r\n\t\t\t\t});\r\n\t\t\telse dispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) {\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t}\r\n};\r\n\r\nexport const deleteUser = (user_id) => async (dispatch) => {\r\n\tdispatch(updateLoadingSpinner(true));\r\n\tlet error = false;\r\n\r\n\ttry {\r\n\t\tawait api.delete(`/user/${user_id}`);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: USER_DELETED,\r\n\t\t\tpayload: user_id,\r\n\t\t});\r\n\r\n\t\tdispatch(setAlert('User Deleted', 'success', '1'));\r\n\t} catch (err) {\r\n\t\tif (err.response.status !== 401) {\r\n\t\t\tdispatch(setAlert(err.response.data.msg, 'danger', '1'));\r\n\t\t\tdispatch(setUserError(USER_ERROR, err.response));\r\n\t\t} else error = true;\r\n\t}\r\n\r\n\tif (!error) {\r\n\t\twindow.scrollTo(0, 0);\r\n\t\tdispatch(updateLoadingSpinner(false));\r\n\t}\r\n};\r\n\r\nexport const clearUser = () => (dispatch) => {\r\n\tdispatch({ type: USER_CLEARED });\r\n};\r\n\r\nexport const clearUsers = () => (dispatch) => {\r\n\tdispatch({ type: USERS_CLEARED });\r\n};\r\n\r\nconst setUserError = (type, response) => (dispatch) => {\r\n\tdispatch({\r\n\t\ttype: type,\r\n\t\tpayload: response.data.errors\r\n\t\t\t? response.data.errors\r\n\t\t\t: {\r\n\t\t\t\t\ttype: response.statusText,\r\n\t\t\t\t\tstatus: response.status,\r\n\t\t\t\t\tmsg: response.data.msg,\r\n\t\t\t  },\r\n\t});\r\n};\r\n","import React, { useState, useEffect, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport { logOut } from '../../../actions/auth';\nimport { clearReservations } from '../../../actions/reservation';\nimport { clearJobsXReservations } from '../../../actions/jobsXReservations';\nimport { clearJobs } from '../../../actions/jobs';\nimport { clearUsers } from '../../../actions/user';\nimport { setNavbarHeight } from '../../../actions/global';\n\nimport './Navbar.scss';\n\nconst Navbar = ({\n\tlogOut,\n\tclearReservations,\n\tclearJobs,\n\tclearUsers,\n\tclearJobsXReservations,\n\tsetNavbarHeight,\n\tauth: { loggedUser, loading },\n}) => {\n\tconst [click, setClick] = useState(false);\n\tconst [button, setButton] = useState(true);\n\n\tconst handleClick = () => setClick(!click);\n\tconst closeMobileMenu = () => setClick(false);\n\n\tconst ref = useRef();\n\n\tuseEffect(() => {\n\t\tshowButton();\n\t\tsetTimeout(() => {\n\t\t\tsetNavbarHeight(ref.current.offsetHeight);\n\t\t}, 30);\n\t}, [setNavbarHeight]);\n\n\tconst showButton = () => {\n\t\tsetButton(window.innerWidth > 960);\n\t};\n\n\twindow.addEventListener('resize', showButton);\n\n\treturn (\n\t\t<nav\n\t\t\tref={ref}\n\t\t\tclassName='navbar'\n\t\t\tstyle={{\n\t\t\t\tjustifyContent: button ? 'space-between' : 'flex-end',\n\t\t\t\tpadding: button ? '1.8rem 0.5rem' : '1rem 1.2rem',\n\t\t\t}}\n\t\t\tid='top'\n\t\t>\n\t\t\t<div className='navbar-container'>\n\t\t\t\t<div className='menu-icon' onClick={handleClick}>\n\t\t\t\t\t<i className={click ? 'fas fa-times' : 'fas fa-bars'}></i>\n\t\t\t\t</div>\n\n\t\t\t\t<ul className={click ? 'nav-menu active' : 'nav-menu'}>\n\t\t\t\t\t{!loading && loggedUser && (\n\t\t\t\t\t\t<li className='nav-links-salute'>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto='/profile'\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tcloseMobileMenu();\n\t\t\t\t\t\t\t\t\tclearUsers();\n\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName='btn-link'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className='fas fa-user-alt'></i> Hi {loggedUser.name}!\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t)}\n\t\t\t\t\t<li\n\t\t\t\t\t\tclassName={`nav-item ${\n\t\t\t\t\t\t\tloggedUser && loggedUser.type === 'admin' ? 'hide' : ''\n\t\t\t\t\t\t}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto='/'\n\t\t\t\t\t\t\tclassName='nav-links'\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tcloseMobileMenu();\n\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tHome\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\n\t\t\t\t\t{!loading && loggedUser && loggedUser.type === 'admin' ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto='/reservations-list'\n\t\t\t\t\t\t\t\t\tclassName='nav-links'\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tcloseMobileMenu();\n\t\t\t\t\t\t\t\t\t\tclearReservations();\n\t\t\t\t\t\t\t\t\t\tclearJobs();\n\t\t\t\t\t\t\t\t\t\tclearJobsXReservations();\n\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tReservations\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto='/schedule'\n\t\t\t\t\t\t\t\t\tclassName='nav-links'\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tcloseMobileMenu();\n\t\t\t\t\t\t\t\t\t\tclearReservations();\n\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tSchedule\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto='/users-list'\n\t\t\t\t\t\t\t\t\tclassName='nav-links'\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tcloseMobileMenu();\n\t\t\t\t\t\t\t\t\t\tclearUsers();\n\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tUsers\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto='/jobs-list'\n\t\t\t\t\t\t\t\t\tclassName='nav-links'\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tcloseMobileMenu();\n\t\t\t\t\t\t\t\t\t\tclearJobs();\n\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tJobs\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto='/outreach'\n\t\t\t\t\t\t\t\t\tclassName='nav-links'\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tcloseMobileMenu();\n\t\t\t\t\t\t\t\t\t\tclearJobs();\n\t\t\t\t\t\t\t\t\t\tclearJobsXReservations();\n\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tOutreach\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<li className='nav-item'>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto='/servicesfull'\n\t\t\t\t\t\t\t\t\tclassName='nav-links'\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tcloseMobileMenu();\n\t\t\t\t\t\t\t\t\t\tclearJobs();\n\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tServices\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tclassName='nav-item'\n\t\t\t\t\t\t\t\tstyle={!loading && loggedUser ? { order: 5 } : null}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto='/portfolio'\n\t\t\t\t\t\t\t\t\tclassName='nav-links'\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tcloseMobileMenu();\n\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tPortfolio\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tclassName='nav-item'\n\t\t\t\t\t\t\t\tstyle={!loading && loggedUser ? { order: 4 } : null}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tto={!loading && loggedUser ? '/reservation/0' : '/contact'}\n\t\t\t\t\t\t\t\t\tclassName='nav-links'\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tcloseMobileMenu();\n\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t\t\t\t\tif (!loading && loggedUser) {\n\t\t\t\t\t\t\t\t\t\t\tclearReservations();\n\t\t\t\t\t\t\t\t\t\t\tclearJobs();\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{!loading && loggedUser ? 'Reservations' : 'Contact'}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<li\n\t\t\t\t\t\tclassName='nav-item'\n\t\t\t\t\t\tstyle={!loading && loggedUser ? { order: 6 } : null}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tto={!loading && loggedUser ? '/' : '/login'}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tif (!loading && loggedUser) logOut();\n\t\t\t\t\t\t\t\tcloseMobileMenu();\n\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName='nav-links-mobile btn btn-outline'\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{!loading && loggedUser ? 'Log Out' : 'Log In'}\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t\t{!loading && loggedUser && (\n\t\t\t\t<div className='nav-salute'>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto='/profile'\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t\tclearUsers();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName='btn-link'\n\t\t\t\t\t>\n\t\t\t\t\t\tHi {loggedUser.name}!\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{button && (\n\t\t\t\t<div className='nav-button'>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={!loading && loggedUser ? '/' : '/login'}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tif (!loading && loggedUser) logOut();\n\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName='btn btn-outline'\n\t\t\t\t\t>\n\t\t\t\t\t\t{!loading && loggedUser ? 'Log Out' : 'Log In'}\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</nav>\n\t);\n};\n\nconst mapStateToProps = (state) => ({\n\tauth: state.auth,\n});\n\nexport default connect(mapStateToProps, {\n\tlogOut,\n\tclearReservations,\n\tclearJobs,\n\tclearUsers,\n\tsetNavbarHeight,\n\tclearJobsXReservations,\n})(Navbar);\n","export default __webpack_public_path__ + \"static/media/logoDRONE-dark-cropped-final.b2f133be.png\";","import React, { useRef, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nimport { setFooterHeight } from '../../../actions/global';\n\nimport NavLogo from '../../../img/logoDRONE-dark-cropped-final.png';\n\nimport './Footer.scss';\n\nfunction Footer({ setFooterHeight }) {\n\tconst ref = useRef();\n\tconst time = new Date();\n\n\tuseEffect(() => {\n\t\tsetTimeout(() => {\n\t\t\tsetFooterHeight(ref.current.offsetHeight);\n\t\t}, 80);\n\t}, [setFooterHeight]);\n\n\treturn (\n\t\t<div className='footer-container' ref={ref}>\n\t\t\t<section className='social-media'>\n\t\t\t\t<div className='social-media-wrap'>\n\t\t\t\t\t<div className='social-media-wrap-section'>\n\t\t\t\t\t\t<big className='website-rights'>\n\t\t\t\t\t\t\tDRONE TAHOE © {time.getFullYear()}\n\t\t\t\t\t\t</big>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='social-media-wrap-section'>\n\t\t\t\t\t\t<div className='footer-logo'>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tto='/'\n\t\t\t\t\t\t\t\tonClick={() => window.scrollTo(0, 0)}\n\t\t\t\t\t\t\t\tclassName='social-logo'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<img src={NavLogo} className='footer-logo' alt='' />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='social-media-wrap-section'>\n\t\t\t\t\t\t<div className='social-icon'>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tclassName='social-icon-link facebook'\n\t\t\t\t\t\t\t\tto={{\n\t\t\t\t\t\t\t\t\tpathname:\n\t\t\t\t\t\t\t\t\t\t'https://www.facebook.com/profile.php?id=100054789366613',\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\taria-label='Facebook'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className='fab fa-facebook-f' />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tclassName='social-icon-link instagram'\n\t\t\t\t\t\t\t\tto={{ pathname: 'https://www.instagram.com/dronetahoe/' }}\n\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\taria-label='Instagram'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className='fab fa-instagram' />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tclassName='social-icon-link youtube'\n\t\t\t\t\t\t\t\tto={{ pathname: 'https://vimeo.com/user153997361' }}\n\t\t\t\t\t\t\t\t//to={{ pathname: 'https://www.youtube.com/user/laketahoeG' }}\n\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\t//aria-label='Youtube'\n\t\t\t\t\t\t\t\taria-label='Vimeo'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className='fab fa-vimeo-v'></i>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tclassName='social-icon-link twitter'\n\t\t\t\t\t\t\t\tto={{ pathname: 'https://twitter.com/Drone_Tahoe' }}\n\t\t\t\t\t\t\t\ttarget='_blank'\n\t\t\t\t\t\t\t\taria-label='Twitter'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<i className='fab fa-twitter' />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t{/* <Link\n              className='social-icon-link twitter'\n              to='/'\n              target='_blank'\n              aria-label='LinkedIn'\n            >\n              <i className='fab fa-linkedin' />\n            </Link> */}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t</div>\n\t);\n}\n\nexport default connect(null, { setFooterHeight })(Footer);\n","export default __webpack_public_path__ + \"static/media/landing-video.a3b6255a.m4v\";","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport './HeroSection.scss';\n\nimport Logo from '../../img/logoDRONE-dark-cropped-final.png';\nimport HeroVideo from '../../img/glenn/landing-video.m4v';\n\nconst HeroSection = ({\n\tclearReservations,\n\tclearJobs,\n\tauth: { loggedUser },\n}) => {\n\treturn (\n\t\t<div className='hero-container'>\n\t\t\t<video\n\t\t\t\tclassName='hero-container-video'\n\t\t\t\tsrc={HeroVideo}\n\t\t\t\tautoPlay\n\t\t\t\tloop\n\t\t\t\tmuted\n\t\t\t\tplaysInline\n\t\t\t/>\n\t\t\t<div className='hero-container-image'></div>\n\t\t\t<div className='hero-box'>\n\t\t\t\t<div className='hero-container-logo'>\n\t\t\t\t\t<img src={Logo} alt='' className='hero-container-logo-img' />\n\t\t\t\t</div>\n\t\t\t\t<p className='hero-subheading'>\n\t\t\t\t\tDrone Mapping, Inspection, and Walkthrough Services in North Lake\n\t\t\t\t\tTahoe\n\t\t\t\t</p>\n\t\t\t\t<div className='hero-button'>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={\n\t\t\t\t\t\t\t!loggedUser || (loggedUser && loggedUser.type !== 'admin')\n\t\t\t\t\t\t\t\t? '/reservation/0'\n\t\t\t\t\t\t\t\t: '/reservations-list'\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tclearReservations();\n\t\t\t\t\t\t\tclearJobs();\n\t\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName='btn btn-primary'\n\t\t\t\t\t>\n\t\t\t\t\t\t{!loggedUser || (loggedUser && loggedUser.type !== 'admin')\n\t\t\t\t\t\t\t? 'Schedule Now'\n\t\t\t\t\t\t\t: 'Reservations'}\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className='hero-bottom'>\n\t\t\t\t360 Virtual Walkthrough brings drone data + 360 videos and photos into\n\t\t\t\tone solution -{' '}\n\t\t\t\t<span>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto='/vrm'\n\t\t\t\t\t\tonClick={() => window.scrollTo(0, 0)}\n\t\t\t\t\t\tclassName='btn-link'\n\t\t\t\t\t>\n\t\t\t\t\t\tLearn More\n\t\t\t\t\t</Link>\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = (state) => ({\n\tauth: state.auth,\n});\n\nexport default connect(mapStateToProps)(HeroSection);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport './About.scss';\n\nconst About = ({ clearReservations, clearJobs, auth: { loggedUser } }) => {\n\treturn (\n\t\t<section className='about' id='about'>\n\t\t\t<div className='about-text'>\n\t\t\t\t<h2 className='heading-secondary-gradient'>\n\t\t\t\t\tWE’RE DREAMERS, BELIEVERS, &#38; ACHIEVERS\n\t\t\t\t</h2>\n\t\t\t\t<p className='about-text-description'>\n\t\t\t\t\tOur dream of engineering, building and flying sUAS drones equipped w/\n\t\t\t\t\tFirst Person View (FPV) began in 1976. DRONE TAHOE now has over 50\n\t\t\t\t\tcombined years of career military & commercial aviation experience.\n\t\t\t\t</p>\n\t\t\t\t<p className='about-text-description'>Dreams do come true!</p>\n\n\t\t\t\t<div className='about-text-description'>\n\t\t\t\t\t<p>Credentials include:</p>\n\t\t\t\t\t<ul className='about-credentials'>\n\t\t\t\t\t\t<li className='about-credentials-item'>\n\t\t\t\t\t\t\t{' '}\n\t\t\t\t\t\t\tFAA sUAS Pilot Certification{' '}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li className='about-credentials-item'>\n\t\t\t\t\t\t\tNTSB Aviation Accident Investigation Certification\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div className='about-text-link'>\n\t\t\t\t<Link\n\t\t\t\t\tto={\n\t\t\t\t\t\t!loggedUser || (loggedUser && loggedUser.type !== 'admin')\n\t\t\t\t\t\t\t? '/reservation/0'\n\t\t\t\t\t\t\t: '/reservations-list'\n\t\t\t\t\t}\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tclearReservations();\n\t\t\t\t\t\tclearJobs();\n\t\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\t}}\n\t\t\t\t\tclassName='btn'\n\t\t\t\t>\n\t\t\t\t\t{!loggedUser || (loggedUser && loggedUser.type !== 'admin')\n\t\t\t\t\t\t? 'Schedule Your Project Today'\n\t\t\t\t\t\t: 'Reservations'}\n\t\t\t\t</Link>\n\t\t\t</div>\n\n\t\t\t<div className='about-image'></div>\n\t\t</section>\n\t);\n};\n\nconst mapStateToProps = (state) => ({\n\tauth: state.auth,\n});\n\nexport default connect(mapStateToProps)(About);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport { clearReservations } from '../../../actions/reservation';\nimport { clearJobs } from '../../../actions/jobs';\n\nconst Services = ({\n\timage,\n\ttitle,\n\tdetails,\n\tjob,\n\tclearReservations,\n\tclearJobs,\n}) => {\n\treturn (\n\t\t<div className='services-section-item'>\n\t\t\t<img src={image} className='services-section-item-image' alt='' />\n\n\t\t\t<div className='services-section-item-text'>\n\t\t\t\t<h3 className='services-section-item-heading'>{title}</h3>\n\t\t\t\t<div className='services-section-item-sub'>\n\t\t\t\t\t<h5 className='services-section-item-sub-details'>{details}</h5>\n\t\t\t\t\t<Link\n\t\t\t\t\t\tto={`/reservation/${job}`}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tclearReservations();\n\t\t\t\t\t\t\tclearJobs();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName='btn btn-tertiary'\n\t\t\t\t\t>\n\t\t\t\t\t\tBook Now\n\t\t\t\t\t</Link>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default connect(null, { clearReservations, clearJobs })(Services);\n","export default __webpack_public_path__ + \"static/media/construction.664e6551.jpg\";","export default __webpack_public_path__ + \"static/media/inspection.843d2f0f.jpg\";","export default __webpack_public_path__ + \"static/media/elevation-map.17e190b0.jpg\";","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport ServicesItem from './ServicesItem';\nimport './ServicesSection.scss';\n\nimport Construction from '../../img/small/services/construction.jpg';\nimport Inspection from '../../img/small/services/inspection.jpg';\nimport Roofing from '../../img/small/services/elevation-map.jpg';\n\n// import FAA from \"../../img/faa-cropped.png\";\n// import Insurance from \"../../img/insurance-cropped.png\";\n\nconst ServicesSection = () => {\n\treturn (\n\t\t<div className='services-section' id='services'>\n\t\t\t<Link\n\t\t\t\tto='/servicesfull'\n\t\t\t\tonClick={() => window.scrollTo(0, 0)}\n\t\t\t\tclassName='services-heading-link'\n\t\t\t>\n\t\t\t\t<h2 className='services-heading'>Services</h2>\n\t\t\t</Link>\n\t\t\t<div className='services-section-items'>\n\t\t\t\t<ServicesItem\n\t\t\t\t\timage={Construction}\n\t\t\t\t\ttitle='Construction'\n\t\t\t\t\tdetails='Create accurate, high-resolution digital replicas with 3D models, real-time 2D maps, and 360 virtual tours for any construction site.'\n\t\t\t\t\tjob='3'\n\t\t\t\t/>\n\t\t\t\t<ServicesItem\n\t\t\t\t\timage={Inspection}\n\t\t\t\t\ttitle='Inspection'\n\t\t\t\t\tdetails='Commercial, Residential, Architecture, Legal, Resort, Tall Structures, Towers, Live View! (UHD)'\n\t\t\t\t\tjob='4'\n\t\t\t\t/>\n\t\t\t\t<ServicesItem\n\t\t\t\t\timage={Roofing}\n\t\t\t\t\ttitle='Mapping'\n\t\t\t\t\tdetails='Mapping of any size parcel. Accurate to 1”.'\n\t\t\t\t\tjob='1'\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>\n\t\t\t\t<Link\n\t\t\t\t\tto='/servicesfull'\n\t\t\t\t\tonClick={() => window.scrollTo(0, 0)}\n\t\t\t\t\tclassName='btn'\n\t\t\t\t>\n\t\t\t\t\tSee All Services\n\t\t\t\t</Link>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default ServicesSection;\n","export default __webpack_public_path__ + \"static/media/bruin.c3c4b2f1.jpg\";","export default __webpack_public_path__ + \"static/media/brassfield.d8a6f31e.jpg\";","export default __webpack_public_path__ + \"static/media/corteva.e0f1eadd.jpg\";","export default __webpack_public_path__ + \"static/media/mccarthy.abf978dd.jpg\";","export default __webpack_public_path__ + \"static/media/tahoenalu.140d5b2b.jpg\";","export default __webpack_public_path__ + \"static/media/tahoegal.1decac46.jpg\";","export default __webpack_public_path__ + \"static/media/tahoeyachtclub.81f2640c.jpg\";","export default __webpack_public_path__ + \"static/media/tgma.ad01854b.jpg\";","export default __webpack_public_path__ + \"static/media/eaa.ead83013.jpg\";","export default __webpack_public_path__ + \"static/media/greybluerealty.58255b7d.jpg\";","import React from 'react';\n\nimport './Testimonials.scss';\n\nimport Bruin from '../../img/glenn/partners/small/bruin.jpg';\nimport Brassfield from '../../img/glenn/partners/small/brassfield.jpg';\nimport Corteva from '../../img/glenn/partners/small/corteva.jpg';\nimport Mccarthy from '../../img/glenn/partners/small/mccarthy.jpg';\nimport TahoeNalu from '../../img/glenn/partners/tahoenalu.jpg';\nimport TahoeGal from '../../img/glenn/partners/tahoegal.jpg';\nimport TahoeYachtClub from '../../img/glenn/partners/tahoeyachtclub.jpg';\nimport TGMA from '../../img/glenn/partners/tgma.jpg';\nimport EAA from '../../img/glenn/partners/eaa.jpg';\nimport GreyBlue from '../../img/glenn/partners/greybluerealty.jpg';\n\nconst Testimonials = () => {\n\treturn (\n\t\t<div className='testimonials'>\n\t\t\t<div className='testimonials-clients'>\n\t\t\t\t<h2 className='testimonials-clients-heading'>Clients</h2>\n\t\t\t\t<p className='testimonials-clients-subheading'>\n\t\t\t\t\tWe have recently worked with the following satisfied clients:\n\t\t\t\t</p>\n\t\t\t\t<div className='testimonials-clients-group'>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={TahoeNalu}\n\t\t\t\t\t\talt='Tahoe Nalu'\n\t\t\t\t\t\tclassName='testimonials-clients-group-item gray'\n\t\t\t\t\t/>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={Brassfield}\n\t\t\t\t\t\talt='Brass Field'\n\t\t\t\t\t\tclassName='testimonials-clients-group-item'\n\t\t\t\t\t/>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={TahoeYachtClub}\n\t\t\t\t\t\talt='Tahoe Yacth Club'\n\t\t\t\t\t\tclassName='testimonials-clients-group-item gray'\n\t\t\t\t\t/>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={Mccarthy}\n\t\t\t\t\t\talt='Mccarthy'\n\t\t\t\t\t\tclassName='testimonials-clients-group-item'\n\t\t\t\t\t/>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={TahoeGal}\n\t\t\t\t\t\talt='Tahoe Gal'\n\t\t\t\t\t\tclassName='testimonials-clients-group-item gray'\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{/* <div className=\"testimonials-clients-group\"> */}\n\t\t\t\t{/* <img\n            src={DorrisEaton}\n            alt=\"\"\n            className=\"testimonials-clients-group-item gray\"\n          /> */}\n\t\t\t\t{/* </div> */}\n\t\t\t\t<div className='testimonials-clients-group'>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={EAA}\n\t\t\t\t\t\talt='EAA'\n\t\t\t\t\t\tclassName='testimonials-clients-group-item gray'\n\t\t\t\t\t/>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={GreyBlue}\n\t\t\t\t\t\talt='Grey Blue'\n\t\t\t\t\t\tclassName='testimonials-clients-group-item gray'\n\t\t\t\t\t/>\n\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={Corteva}\n\t\t\t\t\t\talt='Corteva'\n\t\t\t\t\t\tclassName='testimonials-clients-group-item'\n\t\t\t\t\t/>\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={TGMA}\n\t\t\t\t\t\talt='TGMA'\n\t\t\t\t\t\tclassName='testimonials-clients-group-item gray'\n\t\t\t\t\t/>\n\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={Bruin}\n\t\t\t\t\t\talt='Bruin'\n\t\t\t\t\t\tclassName='testimonials-clients-group-item smaller'\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{/* <div>\n        <Link to=\"/clients\" className=\"testimonials-button\">\n          See All Clients\n        </Link>\n      </div> */}\n\n\t\t\t{/* <hr className=\"testimonials-line\" />\n      <p className=\"testimonials-text\">\n        \"Drone Tahoe did an amazing job with my project! Consectetur adipisicing\n        elit. Animi in quod recusandae obcaecati nihil at eaque! Velit ipsum\n        unde id ex cupiditate eligendi? At eaque unde, reprehenderit voluptates\n        ad quaerat veritatis temporibus quis, sed et magni excepturi nobis\n        repellendus perspiciatis officia ex animi accusantium ipsum rem maxime.\n        Possimus, saepe, minus doloribus deserunt repellat modi nobis rem nemo\n        cum minima temporibus!\"\n      </p>\n      <p className=\"testimonials-author\">-Joe Miller, BMI Construction</p>\n      <hr className=\"testimonials-line\" /> */}\n\t\t</div>\n\t);\n};\n\nexport default Testimonials;\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './Alert.scss';\r\n\r\nconst Alert = ({ alerts, type, classType }) =>\r\n\talerts !== null &&\r\n\talerts.map((alert) => (\r\n\t\t<React.Fragment key={alert.id}>\r\n\t\t\t{alert.type === type && (\r\n\t\t\t\t<div className={`alert alert-${alert.alertType} ${classType}`}>\r\n\t\t\t\t\t{alert.msg}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</React.Fragment>\r\n\t));\r\n\r\nAlert.propTypes = {\r\n\talerts: PropTypes.array.isRequired,\r\n\ttype: PropTypes.string,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\talerts: state.alert,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Alert);\r\n","export default __webpack_public_path__ + \"static/media/spinner.e2ffacc9.gif\";","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport spinner from '../../../img/spinner.gif';\r\n\r\nconst Loading = ({ global: { loadingSpinner } }) => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{loadingSpinner && (\r\n\t\t\t\t<div className='blurr-bg' style={{ zIndex: 1000 }}>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={spinner}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\twidth: '300px',\r\n\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\tmargin: '0 auto',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\talt=''\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tglobal: state.global,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Loading);\r\n","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\n\nimport { sendEmail } from '../../../actions/auth';\n\nimport Alert from '../../layouts/Alert';\nimport Loading from '../../layouts/Loading';\n\nimport './Booking.scss';\n\nconst Booking = ({ sendEmail, auth: { loggedUser } }) => {\n\tconst [formData, setFormData] = useState({\n\t\tname: '',\n\t\tlastname: '',\n\t\tphone: '',\n\t\temail: '',\n\t\tcompany: '',\n\t\texperience: '',\n\t\tmessage: '',\n\t});\n\n\tconst { name, lastname, phone, email, company, experience, message } =\n\t\tformData;\n\n\tconst onChange = (e) => {\n\t\tsetFormData((prev) => ({ ...prev, [e.target.id]: e.target.value }));\n\t};\n\n\t/* useEffect(() => {\n\t\tvar form = document.getElementById('form');\n\n\t\tasync function handleSubmit(event) {\n\t\t\tevent.preventDefault();\n\t\t\tvar status = document.getElementById('status');\n\t\t\tvar confirmation = document.getElementById('confirmation');\n\t\t\tvar error1 = document.getElementById('error');\n\n\t\t\tvar data = new FormData(formData);\n\t\t\tfetch(event.target.action, {\n\t\t\t\tmethod: form.method,\n\t\t\t\tbody: data,\n\t\t\t\theaders: {\n\t\t\t\t\tAccept: 'application/json',\n\t\t\t\t},\n\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tform.reset();\n\t\t\t\t\tstatus.style.display = 'block';\n\t\t\t\t\tconfirmation.style.display = 'block';\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\tstatus.style.display = 'none';\n\t\t\t\t\t\tconfirmation.style.display = 'none';\n\t\t\t\t\t}, 3000);\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\terror1.style.display = 'block';\n\t\t\t\t\tconfirmation.style.display = 'block';\n\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\terror1.style.display = 'none';\n\t\t\t\t\t\tconfirmation.style.display = 'none';\n\t\t\t\t\t}, 3000);\n\t\t\t\t});\n\t\t}\n\t\tform.addEventListener('submit', handleSubmit);\n\t}, []); */\n\n\tconst onSubmit = (e) => {\n\t\te.preventDefault();\n\t\tsendEmail({\n\t\t\t...formData,\n\t\t\t...(loggedUser && {\n\t\t\t\tname: loggedUser.name,\n\t\t\t\tlastname: loggedUser.lastname,\n\t\t\t\tphone: loggedUser.cel,\n\t\t\t\temail: loggedUser.email,\n\t\t\t}),\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className='booking' id='booking'>\n\t\t\t<Loading />\n\t\t\t<section className='section-book' id='section-booking'>\n\t\t\t\t<div className='row'>\n\t\t\t\t\t<div className='book'>\n\t\t\t\t\t\t<div className='book__form'>\n\t\t\t\t\t\t\t<form\n\t\t\t\t\t\t\t\tonSubmit={onSubmit}\n\t\t\t\t\t\t\t\t/* action='https://formspree.io/f/mzbydvqa'\n\t\t\t\t\t\t\t\tmethod='POST' */\n\t\t\t\t\t\t\t\tclassName='form'\n\t\t\t\t\t\t\t\tid='form'\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className='u-margin-bottom-6 booking-title'>\n\t\t\t\t\t\t\t\t\t<h2 className='booking-title-heading'>Contact Us</h2>\n\t\t\t\t\t\t\t\t\t<h3 className='booking-title-subheading'>\n\t\t\t\t\t\t\t\t\t\tLet us know a little bit about your project and we'll take\n\t\t\t\t\t\t\t\t\t\tit from there.\n\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Alert type='1' />\n\t\t\t\t\t\t\t\t{!loggedUser && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<div className='form__group'>\n\t\t\t\t\t\t\t\t\t\t\t<div className='form__group-sub'>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='form__group-sub-item'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname='name'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='First Name'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid='name'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label htmlFor='nafme' className='form__label'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tFirst Name\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='form__group-sub-item'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname='lastname'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={lastname}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Last Name'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid='lastname'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label htmlFor='lastname' className='form__label'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tLast Name\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className='form__group'>\n\t\t\t\t\t\t\t\t\t\t\t<div className='form__group-sub'>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='form__group-sub-item'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname='phone'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={phone}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Phone'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid='phone'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label htmlFor='phone' className='form__label'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tPhone\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='form__group-sub-item'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='email'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname='email'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Email Address'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid='email'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label htmlFor='email' className='form__label'>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tEmail Address\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t<div className='form__group'>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\tclassName='form__input'\n\t\t\t\t\t\t\t\t\t\tname='company'\n\t\t\t\t\t\t\t\t\t\tvalue={company}\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\tplaceholder='Company Name'\n\t\t\t\t\t\t\t\t\t\tid='company'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<label htmlFor='company' className='form__label'>\n\t\t\t\t\t\t\t\t\t\tCompany Name\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div style={{ width: '100%' }}>\n\t\t\t\t\t\t\t\t\t<label htmlFor='experience' className='form__label'>\n\t\t\t\t\t\t\t\t\t\tWhat's Your Experience With Drones?\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\t\tid='experience'\n\t\t\t\t\t\t\t\t\t\tclassName={`form__input space ${\n\t\t\t\t\t\t\t\t\t\t\texperience === '' ? 'empty' : ''\n\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\tvalue={experience}\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\tname='experience'\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<option value=''>* Select your Experience</option>\n\t\t\t\t\t\t\t\t\t\t<option value='Own Drones'>Own Drones</option>\n\t\t\t\t\t\t\t\t\t\t<option value='Use Third Party Drone Services'>\n\t\t\t\t\t\t\t\t\t\t\tUse Third Party Drone Services\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t<option value='Interested in Using Drones'>\n\t\t\t\t\t\t\t\t\t\t\tInterested in Using Drones\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t<option value='Not Interested in Using Drones'>\n\t\t\t\t\t\t\t\t\t\t\tNot Interested in Using Drones\n\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className='form__group'>\n\t\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\t\ttype='text'\n\t\t\t\t\t\t\t\t\t\tvalue={message}\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\t\t\t\tclassName='form__input'\n\t\t\t\t\t\t\t\t\t\tname='message'\n\t\t\t\t\t\t\t\t\t\tplaceholder='Tell us About Your Project'\n\t\t\t\t\t\t\t\t\t\tid='message'\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<label htmlFor='message' className='form__label'>\n\t\t\t\t\t\t\t\t\t\tTell us About Your Project\n\t\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div className='form__group'>\n\t\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-secondary'>\n\t\t\t\t\t\t\t\t\t\tSubmit &rarr;\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</form>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t\t{/* <div id='confirmation'>\n\t\t\t\t<div id='status'>Thanks! Your message has been submitted.</div>\n\t\t\t\t<div id='error'>\n\t\t\t\t\tSorry! There was a problem with your message. Please try again.\n\t\t\t\t</div>\n\t\t\t</div>{' '}\n\t\t\t*/}\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = (state) => ({\n\tauth: state.auth,\n});\n\nexport default connect(mapStateToProps, { sendEmail })(Booking);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport HeroSection from '../../HeroSection';\nimport About from '../../About';\nimport ServicesSection from '../../Services';\nimport Testimonials from '../../Testimonials';\nimport Booking from '../Booking';\n\nimport { clearReservations } from '../../../actions/reservation';\nimport { clearJobs } from '../../../actions/jobs';\n\nconst Home = ({ clearReservations, clearJobs, auth: { loggedUser } }) => {\n\treturn (\n\t\t<div>\n\t\t\t<HeroSection\n\t\t\t\tclearJobs={clearJobs}\n\t\t\t\tclearReservations={clearReservations}\n\t\t\t/>\n\t\t\t<ServicesSection />\n\t\t\t<About clearJobs={clearJobs} clearReservations={clearReservations} />\n\t\t\t<Testimonials />\n\t\t\t{(!loggedUser || (loggedUser && loggedUser.type !== 'admin')) && (\n\t\t\t\t<Booking />\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = (state) => ({\n\tauth: state.auth,\n});\n\nexport default connect(mapStateToProps, { clearJobs, clearReservations })(Home);\n","import React from 'react';\nimport './Contact.scss';\n\nimport Booking from '../Booking';\n\nexport default function Contact() {\n\tReact.useEffect(() => {\n\t\twindow.scrollTo(0, 0);\n\t});\n\n\treturn (\n\t\t<div>\n\t\t\t<div className='contact'>\n\t\t\t\t<h1 className='contact-heading'>Get in Touch with Us.</h1>\n\t\t\t\t<h3 className='contact-subheading'>\n\t\t\t\t\tDo not hesitate to reach out with any questions. We'll be in touch.\n\t\t\t\t</h3>\n\t\t\t</div>\n\t\t\t<Booking />\n\t\t</div>\n\t);\n}\n","import React, { useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\n\nimport { loadJobs } from '../../../actions/jobs';\n//import { servicesAll } from './data';\n\nimport Loading from '../../layouts/Loading';\n\nimport './ServicesFull.scss';\n\nconst ServicesFull = ({ loadJobs, job: { jobs, loading } }) => {\n\tuseEffect(() => {\n\t\tif (loading) loadJobs({});\n\t}, [loading, loadJobs]);\n\n\treturn (\n\t\t<div className='servicesfull' id='servicesfull'>\n\t\t\t<h2 className='heading-primary'>Our Services</h2>\n\t\t\t<Loading />\n\t\t\t<div className='card-services'>\n\t\t\t\t{!loading &&\n\t\t\t\t\tjobs.map((item, i) => (\n\t\t\t\t\t\t<div className='card' key={i}>\n\t\t\t\t\t\t\t<div className='card-inner'>\n\t\t\t\t\t\t\t\t<div className={`card-front card-front-${i + 1}`}>\n\t\t\t\t\t\t\t\t\t<h4 className={`card-heading card-heading-${i + 1}`}>\n\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\tclassName={`card-heading-span card-heading-span-${i + 1}`}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{item.title}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={`card-back card-back-${i + 1}`}>\n\t\t\t\t\t\t\t\t\t<div className='card-cta'>\n\t\t\t\t\t\t\t\t\t\t<div className='card-price-box'>\n\t\t\t\t\t\t\t\t\t\t\t<p className='card-price-only'>{item.subtitle}</p>\n\t\t\t\t\t\t\t\t\t\t\t<p className='card-price-value'>{item.poptext}</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className='popup-button'>\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tto='/booking'\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => window.scrollTo(0, 0)}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-quaternary'\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tContact Us\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nconst mapStateToProps = (state) => ({\n\tjob: state.job,\n});\n\nexport default connect(mapStateToProps, { loadJobs })(ServicesFull);\n","export default __webpack_public_path__ + \"static/media/global.fc9ea976.png\";","export default __webpack_public_path__ + \"static/media/progress.9a7ba162.png\";","export default __webpack_public_path__ + \"static/media/safety.c8723814.png\";","import React from 'react';\nimport './VRM.scss';\n\nimport Booking from '../Booking';\n\nimport img1 from '../../../img/glenn/Icons/global.png';\nimport img2 from '../../../img/glenn/Icons/progress.png';\nimport img3 from '../../../img/glenn/Icons/safety.png';\nimport Bruin from '../../../img/glenn/partners/small/bruin.jpg';\nimport Brassfield from '../../../img/glenn/partners/small/brassfield.jpg';\nimport Corteva from '../../../img/glenn/partners/small/corteva.jpg';\nimport Mccarthy from '../../../img/glenn/partners/small/mccarthy.jpg';\n\nconst VRM = () => {\n\treturn (\n\t\t<div>\n\t\t\t<div className='vrm-header' id='vrm'>\n\t\t\t\t<div className='vrm-header-section'>\n\t\t\t\t\t<h1 className='vrm-header-text'>\n\t\t\t\t\t\tVirtual Reality Management with 360 Virtual Walkthrough\n\t\t\t\t\t</h1>\n\t\t\t\t\t<h2 className='vrm-header-subtext'>\n\t\t\t\t\t\tUnlimited perspectives in one solution.\n\t\t\t\t\t</h2>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<section className='vrm-benefits'>\n\t\t\t\t<div className='vrm-benefits-item'>\n\t\t\t\t\t<img src={img2} className='vrm-benefits-item-image' alt='global' />\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className='vrm-benefits-item-heading'>\n\t\t\t\t\t\t\tComplete Site Documentation\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<h5 className='vrm-benefits-item-text'>\n\t\t\t\t\t\t\tDroneTahoe digitizes your entire site with drones and 360 cameras.\n\t\t\t\t\t\t</h5>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='vrm-benefits-item'>\n\t\t\t\t\t<img src={img1} className='vrm-benefits-item-image' alt='progress' />\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className='vrm-benefits-item-heading'>\n\t\t\t\t\t\t\tOne Solution for Entire Site Reality\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<h5 className='vrm-benefits-item-text'>\n\t\t\t\t\t\t\tAnalyze drone and 360 data on one mobile platform.\n\t\t\t\t\t\t</h5>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className='vrm-benefits-item'>\n\t\t\t\t\t<img src={img3} className='vrm-benefits-item-image' alt='maps' />\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 className='vrm-benefits-item-heading'>\n\t\t\t\t\t\t\tIncrease Safety, Decrease Rework\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<h5 className='vrm-benefits-item-text'>\n\t\t\t\t\t\t\tCatch issues earlier than ever with visual data.\n\t\t\t\t\t\t</h5>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t\t<section className='vrm-description'>\n\t\t\t\t<div className='vrm-description-img img1'></div>\n\n\t\t\t\t<p className='vrm-description-text'>\n\t\t\t\t\tDroneTahoe takes interior, exterior and aerial imagery of your job\n\t\t\t\t\tsite and digitizes it into Virtual Reality. Once digitized, your\n\t\t\t\t\tentire team can inspect, validate, and comprehend site progress – no\n\t\t\t\t\tmatter where they are in the world - with a 360° perspective.\n\t\t\t\t</p>\n\t\t\t\t<div className='vrm-group'>\n\t\t\t\t\t<img src={Bruin} alt='' className='vrm-group-item' />\n\t\t\t\t\t<img src={Brassfield} alt='' className='vrm-group-item' />\n\t\t\t\t\t<img src={Corteva} alt='' className='vrm-group-item' />\n\t\t\t\t\t<img src={Mccarthy} alt='' className='vrm-group-item' />\n\t\t\t\t</div>\n\t\t\t</section>\n\t\t\t<Booking />\n\t\t</div>\n\t);\n};\n\nexport default VRM;\n","import React from 'react';\n\nimport './Portfolio.scss';\n\nconst Portfolio = () => {\n\treturn (\n\t\t<div className='portfolio'>\n\t\t\t<h1 className='heading-primary'>Portfolio</h1>\n\t\t\t<h2 className='heading-primary-subheading'>\n\t\t\t\tA few examples of our recent work:\n\t\t\t</h2>\n\t\t\t<div className='portfolio-group'>\n\t\t\t\t<div className='portfolio-group-item'>\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tclassName='portfolio-item'\n\t\t\t\t\t\tsrc='https://player.vimeo.com/video/630298172?h=481cc9d119&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479'\n\t\t\t\t\t\tframeborder='0'\n\t\t\t\t\t\tallow='autoplay; fullscreen; picture-in-picture'\n\t\t\t\t\t\tallowfullscreen\n\t\t\t\t\t\ttitle='Phoenix Rising'\n\t\t\t\t\t></iframe>\n\t\t\t\t\t<h2 className='portfolio-item-caption'>Phoenix Rising</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className='portfolio-group-item'>\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tclassName='portfolio-item'\n\t\t\t\t\t\tsrc='https://player.vimeo.com/video/631210506?h=b5af32c692&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479'\n\t\t\t\t\t\ttitle='Vimeo video player'\n\t\t\t\t\t\tframeBorder='0'\n\t\t\t\t\t\tallow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen'\n\t\t\t\t\t\tallowFullScreen\n\t\t\t\t\t></iframe>\n\t\t\t\t\t<h2 className='portfolio-item-caption'>Martis House Layout</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className='portfolio-group-item'>\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tclassName='portfolio-item'\n\t\t\t\t\t\tsrc='https://player.vimeo.com/video/643232672?h=ceaec90017&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479'\n\t\t\t\t\t\ttitle='Vimeo video player'\n\t\t\t\t\t\tframeBorder='0'\n\t\t\t\t\t\tallow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen'\n\t\t\t\t\t\tallowFullScreen\n\t\t\t\t\t></iframe>\n\t\t\t\t\t<h2 className='portfolio-item-caption'>Fannette Island 3D Model</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className='portfolio-group-item'>\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tclassName='portfolio-item'\n\t\t\t\t\t\tsrc='https://player.vimeo.com/video/643238467?h=a248a1f339&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479'\n\t\t\t\t\t\ttitle='Vimeo video player'\n\t\t\t\t\t\tframeBorder='0'\n\t\t\t\t\t\tallow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen'\n\t\t\t\t\t\tallowFullScreen\n\t\t\t\t\t></iframe>\n\t\t\t\t\t<h2 className='portfolio-item-caption'>\n\t\t\t\t\t\tEmerald Bay Teahouse Fantasy Full Moon\n\t\t\t\t\t</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className='portfolio-group-item'>\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tclassName='portfolio-item'\n\t\t\t\t\t\tsrc='https://player.vimeo.com/video/631124253?h=8cccc7bfec&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479'\n\t\t\t\t\t\ttitle='Vimeo video player'\n\t\t\t\t\t\tframeBorder='0'\n\t\t\t\t\t\tallow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen'\n\t\t\t\t\t\tallowFullScreen\n\t\t\t\t\t></iframe>\n\t\t\t\t\t<h2 className='portfolio-item-caption'>\n\t\t\t\t\t\tPhoenix Rising Roof Barcode\n\t\t\t\t\t</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className='portfolio-group-item'>\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tclassName='portfolio-item'\n\t\t\t\t\t\tsrc='https://player.vimeo.com/video/643418675?h=544a013c78&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479'\n\t\t\t\t\t\ttitle='Vimeo video player'\n\t\t\t\t\t\tframeBorder='0'\n\t\t\t\t\t\tallow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen'\n\t\t\t\t\t\tallowFullScreen\n\t\t\t\t\t></iframe>\n\t\t\t\t\t<h2 className='portfolio-item-caption'>Emerald Bay & Granite Lake</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className='portfolio-group-item'>\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tclassName='portfolio-item'\n\t\t\t\t\t\tsrc='https://player.vimeo.com/video/643385157?h=ae7d4a6f15&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479'\n\t\t\t\t\t\ttitle='Vimeo video player'\n\t\t\t\t\t\tframeBorder='0'\n\t\t\t\t\t\tallow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen'\n\t\t\t\t\t\tallowFullScreen\n\t\t\t\t\t></iframe>\n\t\t\t\t\t<h2 className='portfolio-item-caption'>Eagle Falls 2021</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className='portfolio-group-item'>\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tclassName='portfolio-item'\n\t\t\t\t\t\tsrc='https://player.vimeo.com/video/643244364?h=ebcd7c5215&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479'\n\t\t\t\t\t\ttitle='Vimeo video player'\n\t\t\t\t\t\tframeBorder='0'\n\t\t\t\t\t\tallow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen'\n\t\t\t\t\t\tallowFullScreen\n\t\t\t\t\t></iframe>\n\t\t\t\t\t<h2 className='portfolio-item-caption'>Lake Azure</h2>\n\t\t\t\t</div>\n\t\t\t\t<div className='portfolio-group-item'>\n\t\t\t\t\t<iframe\n\t\t\t\t\t\tclassName='portfolio-item'\n\t\t\t\t\t\tsrc='https://player.vimeo.com/video/643279221?h=25bb357e5c&amp;badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479'\n\t\t\t\t\t\ttitle='Vimeo video player'\n\t\t\t\t\t\tframeBorder='0'\n\t\t\t\t\t\tallow='accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen'\n\t\t\t\t\t\tallowFullScreen\n\t\t\t\t\t></iframe>\n\t\t\t\t\t<h2 className='portfolio-item-caption'>\n\t\t\t\t\t\tSouth Yuba River Running #1\n\t\t\t\t\t</h2>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Portfolio;\n","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { GoogleLogin } from 'react-google-login';\r\nimport FacebookLogin from 'react-facebook-login';\r\n\r\nimport {\r\n\tfacebookLogin,\r\n\tgoogleLogin,\r\n\tloginUser,\r\n\tsendPasswordLink,\r\n} from '../../../actions/auth';\r\nimport { setAlert } from '../../../actions/alert';\r\nimport { updateLoadingSpinner } from '../../../actions/global';\r\n\r\nimport Alert from '../../layouts/Alert';\r\nimport Loading from '../../layouts/Loading';\r\n\r\nimport './Login.scss';\r\n\r\nconst Login = ({\r\n\tfacebookLogin,\r\n\tgoogleLogin,\r\n\tloginUser,\r\n\tsetAlert,\r\n\tsendPasswordLink,\r\n\tupdateLoadingSpinner,\r\n}) => {\r\n\tconst [formData, setFormData] = useState({\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t});\r\n\r\n\tconst { email, password } = formData;\r\n\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\tforgotPassword: false,\r\n\t});\r\n\r\n\tconst { forgotPassword } = adminValues;\r\n\r\n\tconst onChange = (e) => {\r\n\t\tsetFormData({\r\n\t\t\t...formData,\r\n\t\t\t[e.target.name]: e.target.value,\r\n\t\t});\r\n\t};\r\n\r\n\tconst onSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tif (forgotPassword) sendPasswordLink(email);\r\n\t\telse {\r\n\t\t\tloginUser(formData);\r\n\t\t}\r\n\t};\r\n\r\n\tconst responseSuccessGoogle = (response) => {\r\n\t\tgoogleLogin({ tokenId: response.tokenId });\r\n\t};\r\n\r\n\tconst responseErrorGoogle = (err) => {\r\n\t\tconsole.log(err.error);\r\n\t\tupdateLoadingSpinner(false);\r\n\t\tsetAlert('Error login in', 'danger', '2');\r\n\t};\r\n\r\n\tconst responseFacebook = (response) => {\r\n\t\tfacebookLogin({\r\n\t\t\taccessToken: response.accessToken,\r\n\t\t\tuserID: response.userID,\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='section-login'>\r\n\t\t\t<Loading />\r\n\t\t\t<div className='login'>\r\n\t\t\t\t<div className='login-card'>\r\n\t\t\t\t\t<form onSubmit={onSubmit} className='form'>\r\n\t\t\t\t\t\t<h2 className='heading-primary'>\r\n\t\t\t\t\t\t\t{forgotPassword ? 'Change Password' : 'Login'}\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t{forgotPassword ? (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<div className='form-section'>\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => onChange(e)}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Email'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='email' className='form__label'>\r\n\t\t\t\t\t\t\t\t\t\t\tEmail\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='u-center-text'>\r\n\t\t\t\t\t\t\t\t\t<div className='login-btn'>\r\n\t\t\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary'>\r\n\t\t\t\t\t\t\t\t\t\t\tSend Link\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<p className='login-card-sign'>\r\n\t\t\t\t\t\t\t\t\t\tAn email will be sent to the email address so you can change\r\n\t\t\t\t\t\t\t\t\t\tthe password.\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p className='login-card-sign'>\r\n\t\t\t\t\t\t\t\t\t\tPlease, check your spam folder before resendig the email.\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='btn-link'\r\n\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\tforgotPassword: false,\r\n\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tGo Back\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t<div className='form-section'>\r\n\t\t\t\t\t\t\t\t\t<Alert type='1' />\r\n\t\t\t\t\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => onChange(e)}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Email'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='email' className='form__label'>\r\n\t\t\t\t\t\t\t\t\t\t\tEmail\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => onChange(e)}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='name' className='form__label'>\r\n\t\t\t\t\t\t\t\t\t\t\tPassword\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='u-center-text'>\r\n\t\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-primary'>\r\n\t\t\t\t\t\t\t\t\t\tSign In\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t<p className='login-card-sign'>\r\n\t\t\t\t\t\t\t\t\t\tDon't have an account? &nbsp;\r\n\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn-link'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => window.scrollTo(0, 0)}\r\n\t\t\t\t\t\t\t\t\t\t\tto='/signup'\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tSign up\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<p className='login-card-sign'>\r\n\t\t\t\t\t\t\t\t\t\tForgot password? &nbsp;\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn-link'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tforgotPassword: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\tChange Password\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t<div className='login-card-smedia'>\r\n\t\t\t\t\t\t\t\t\t\t<GoogleLogin\r\n\t\t\t\t\t\t\t\t\t\t\tclientId={process.env.REACT_APP_GOOGLE_KEY}\r\n\t\t\t\t\t\t\t\t\t\t\tbuttonText='Login'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn-google'\r\n\t\t\t\t\t\t\t\t\t\t\tonRequest={() => updateLoadingSpinner(true)}\r\n\t\t\t\t\t\t\t\t\t\t\tonSuccess={responseSuccessGoogle}\r\n\t\t\t\t\t\t\t\t\t\t\tonFailure={responseErrorGoogle}\r\n\t\t\t\t\t\t\t\t\t\t\tcookiePolicy={'single_host_origin'}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<span className='btn-facebook'>\r\n\t\t\t\t\t\t\t\t\t\t\t<FacebookLogin\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => updateLoadingSpinner(true)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tappId={process.env.REACT_APP_FACEBOOK_KEY}\r\n\t\t\t\t\t\t\t\t\t\t\t\tautoLoad={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\ttextButton={<i className='fab fa-facebook-f'></i>}\r\n\t\t\t\t\t\t\t\t\t\t\t\tcallback={responseFacebook}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<div className='login-img img'></div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tfacebookLogin,\r\n\tgoogleLogin,\r\n\tloginUser,\r\n\tsetAlert,\r\n\tsendPasswordLink,\r\n\tupdateLoadingSpinner,\r\n})(Login);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Loading from '../../layouts/Loading';\r\n\r\nconst PrivateRoutes = ({\r\n\tcomponent: Component,\r\n\tauth: { loggedUser, loading, token },\r\n\ttypes,\r\n\tpath,\r\n}) => {\r\n\tif (!loading && token) {\r\n\t\tlet pass = false;\r\n\t\tif (types.length === 0) {\r\n\t\t\tpass = true;\r\n\t\t} else {\r\n\t\t\tfor (let x = 0; x < types.length; x++) {\r\n\t\t\t\tif (types[x] === loggedUser.type) {\r\n\t\t\t\t\tpass = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (pass) {\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Loading />\r\n\t\t\t\t\t<Route exact path={path} component={Component} />\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn <Redirect to='/' />;\r\n\t\t}\r\n\t} else {\r\n\t\tif (token === null) {\r\n\t\t\treturn <Redirect to='/login' />;\r\n\t\t} else {\r\n\t\t\treturn <Loading />;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(PrivateRoutes);\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Loading from '../../layouts/Loading';\r\n\r\nconst PublicRoutes = ({\r\n\tcomponent: Component,\r\n\tauth: { isAuthenticated, userLogged },\r\n\tpath,\r\n}) => {\r\n\tif (isAuthenticated) {\r\n\t\treturn (\r\n\t\t\t<Redirect\r\n\t\t\t\tto={\r\n\t\t\t\t\tuserLogged && userLogged.type === 'customer'\r\n\t\t\t\t\t\t? '/'\r\n\t\t\t\t\t\t: '/reservations-list'\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t);\r\n\t} else\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Loading />\r\n\t\t\t\t<Route exact path={path} component={Component} />\r\n\t\t\t</>\r\n\t\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps)(PublicRoutes);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter, Link } from 'react-router-dom';\r\n\r\nimport { signup, clearEmailSent } from '../../../actions/auth';\r\nimport { loadUser, updateUser } from '../../../actions/user';\r\n\r\nimport Alert from '../../layouts/Alert';\r\n\r\nimport './EditUser.scss';\r\n\r\nconst EditUser = ({\r\n\tauth: { loggedUser, isAuthenticated, loading, emailSent },\r\n\tuser: { user, loadingUser },\r\n\tlocation,\r\n\tmatch,\r\n\tsignup,\r\n\tloadUser,\r\n\tupdateUser,\r\n\tclearEmailSent,\r\n}) => {\r\n\tconst isAdmin = loggedUser && loggedUser.type === 'admin';\r\n\tconst pathId = match.params.user_id;\r\n\r\n\tlet adminType = location.pathname.replace('/', '');\r\n\r\n\tif (pathId) adminType = adminType.replace(`/${pathId}`, '');\r\n\r\n\tconst [formData, setFormData] = useState({\r\n\t\tid: '',\r\n\t\tname: '',\r\n\t\tlastname: '',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\tpasswordConf: '',\r\n\t\tcel: '',\r\n\t\ttype: '',\r\n\t});\r\n\r\n\tconst { name, lastname, email, password, cel, type, passwordConf } = formData;\r\n\r\n\tuseEffect(() => {\r\n\t\tlet userLoaded;\r\n\r\n\t\tif (\r\n\t\t\t(!userLoaded && adminType !== 'signup' && email === '') ||\r\n\t\t\t(adminType === 'profile' && email !== loggedUser.email)\r\n\t\t) {\r\n\t\t\tclearEmailSent();\r\n\t\t\tif (pathId) {\r\n\t\t\t\tif (loadingUser) loadUser(pathId);\r\n\t\t\t\telse userLoaded = user;\r\n\t\t\t} else userLoaded = loggedUser;\r\n\r\n\t\t\tif (userLoaded)\r\n\t\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t\t...prev,\r\n\t\t\t\t\tid: userLoaded.id,\r\n\t\t\t\t\tname: userLoaded.name,\r\n\t\t\t\t\tlastname: userLoaded.lastname,\r\n\t\t\t\t\ttype: userLoaded.type,\r\n\t\t\t\t\temail: userLoaded.email,\r\n\t\t\t\t\tcel: userLoaded.cel === '0' ? '' : userLoaded.cel,\r\n\t\t\t\t}));\r\n\t\t}\r\n\t}, [\r\n\t\tloggedUser,\r\n\t\tloadingUser,\r\n\t\tuser,\r\n\t\tpathId,\r\n\t\tloadUser,\r\n\t\temail,\r\n\t\tadminType,\r\n\t\tclearEmailSent,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (emailSent) window.scrollTo(0, 0);\r\n\t}, [emailSent]);\r\n\r\n\tconst onChange = (e) => {\r\n\t\tsetFormData((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\t[e.target.id]: e.target.value,\r\n\t\t}));\r\n\t};\r\n\r\n\tconst saveUser = async (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tif (adminType === 'signup') signup(formData);\r\n\t\telse updateUser(formData, adminType === 'profile');\r\n\t};\r\n\r\n\tconst title = () => {\r\n\t\tswitch (adminType) {\r\n\t\t\tcase 'profile':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<i className='fas fa-user-alt'></i>\r\n\t\t\t\t\t\t&nbsp;My Profile\r\n\t\t\t\t\t</>\r\n\t\t\t\t);\r\n\t\t\tcase 'signup':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<i className='fas fa-user-plus'></i>\r\n\t\t\t\t\t\t&nbsp;New account\r\n\t\t\t\t\t</>\r\n\t\t\t\t);\r\n\t\t\tcase 'edit-user':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<i className='fas fa-user-edit'></i>\r\n\t\t\t\t\t\t&nbsp;Edit User\r\n\t\t\t\t\t</>\r\n\t\t\t\t);\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t(!isAuthenticated || !loading) && (\r\n\t\t\t<div className='user'>\r\n\t\t\t\t<h2 className='heading-primary'>\r\n\t\t\t\t\t{/* <FaUserPlus className=\"heading-icon\" /> */}\r\n\t\t\t\t\t{title()}\r\n\t\t\t\t</h2>\r\n\t\t\t\t{!emailSent ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<Alert type='1' />\r\n\t\t\t\t\t\t<form className='form' onSubmit={saveUser}>\r\n\t\t\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t\t\t<div className='form__group-sub'>\r\n\t\t\t\t\t\t\t\t\t<div className='form__group-sub-item'>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='First Name'\r\n\t\t\t\t\t\t\t\t\t\t\tid='name'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='name' className='form__label'>\r\n\t\t\t\t\t\t\t\t\t\t\tFirst Name\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='form__group-sub-item'>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Last Name'\r\n\t\t\t\t\t\t\t\t\t\t\tid='lastname'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={lastname}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='lastname' className='form__label'>\r\n\t\t\t\t\t\t\t\t\t\t\tLast Name\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\t\t\tdisabled={adminType !== 'signup'}\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\tplaceholder='Email'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label htmlFor='email' className='form__label'>\r\n\t\t\t\t\t\t\t\t\tEmail\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{isAdmin && (\r\n\t\t\t\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\tclassName={`form__input ${type === '' ? 'empty' : ''}`}\r\n\t\t\t\t\t\t\t\t\t\tname='type'\r\n\t\t\t\t\t\t\t\t\t\tid='type'\r\n\t\t\t\t\t\t\t\t\t\tvalue={type}\r\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<option value=''>* Select user type</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value='admin'>Admin</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value='customer'>Customer</option>\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\thtmlFor='type'\r\n\t\t\t\t\t\t\t\t\t\tclassName={`form__label ${type === '' ? 'hide' : ''}`}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tUser Type\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{adminType === 'signup' && (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\t\t\tautoComplete='new-password'\r\n\t\t\t\t\t\t\t\t\t\t\tid='password'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='password' className='form__label'>\r\n\t\t\t\t\t\t\t\t\t\t\tPassword\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\t\t\tid='passwordConf'\r\n\t\t\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={passwordConf}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Confirm Password'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='passwordConf' className='form__label'>\r\n\t\t\t\t\t\t\t\t\t\t\tConfirm Password\r\n\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tvalue={cel}\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\tid='cel'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Cellphone'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label htmlFor='cel' className='form__label'>\r\n\t\t\t\t\t\t\t\t\tCellphone\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div className='btn-center'>\r\n\t\t\t\t\t\t\t\t<button className='btn btn-primary' type='submit'>\r\n\t\t\t\t\t\t\t\t\t{adminType === 'signup' ? 'Sign Up' : 'Save'}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{adminType === 'signup' && (\r\n\t\t\t\t\t\t\t\t<p className='user-login'>\r\n\t\t\t\t\t\t\t\t\tDo you already have an account? &nbsp;\r\n\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => window.scrollTo(0, 0)}\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn-link'\r\n\t\t\t\t\t\t\t\t\t\tto='/login'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className='user-email u-center-text'>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<i className='fas fa-envelope user-email-icon'></i>\r\n\t\t\t\t\t\t\t<h4 className='user-email-text'>\r\n\t\t\t\t\t\t\t\tWe've sent an email to{' '}\r\n\t\t\t\t\t\t\t\t<span className='user-email-text-email'>{email}</span>.\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\tClick the confirmation link in that email to start using our\r\n\t\t\t\t\t\t\t\tservicies.\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t<div className='user-email-subtext'>\r\n\t\t\t\t\t\t\t\t<p>If you did not recieve the email,&nbsp;</p>\r\n\t\t\t\t\t\t\t\t<button type='button' onClick={saveUser} className='btn-link'>\r\n\t\t\t\t\t\t\t\t\tresend it.\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<p>Check the spam folder to be sure it was not sent.</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n\tuser: state.user,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tsignup,\r\n\tupdateUser,\r\n\tloadUser,\r\n\tclearEmailSent,\r\n})(withRouter(EditUser));\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { activation } from '../../../actions/auth';\r\nimport { clearReservations } from '../../../actions/reservation';\r\nimport { clearJobs } from '../../../actions/jobs';\r\n\r\nimport './Activation.scss';\r\n\r\nconst Activation = ({\r\n\tmatch,\r\n\tauth: { loading, loggedUser, error },\r\n\tactivation,\r\n\tclearJobs,\r\n\tclearReservations,\r\n\tglobal: { footer, navbar },\r\n}) => {\r\n\tconst token = match.params.token;\r\n\tconst container = useRef();\r\n\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\tfloat: true,\r\n\t});\r\n\r\n\tconst { float } = adminValues;\r\n\r\n\tuseEffect(() => {\r\n\t\tactivation(token);\r\n\t}, [token, activation]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (container.current) {\r\n\t\t\tconst item = container.current.getBoundingClientRect();\r\n\r\n\t\t\tif (item.height + footer + navbar + 60 >= window.innerHeight)\r\n\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t...prev,\r\n\t\t\t\t\tfloat: false,\r\n\t\t\t\t}));\r\n\t\t}\r\n\t}, [footer, navbar]);\r\n\r\n\treturn (\r\n\t\t!loading && (\r\n\t\t\t<div ref={container} className={`activation ${float ? 'float' : ''}`}>\r\n\t\t\t\t{error !== '' ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<h2 className='activation-error-header'>\r\n\t\t\t\t\t\t\tUps... something went wrong!\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t<p className='activation-error-text'>{error.msg}</p>\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\tloggedUser !== null && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<h2 className='heading-secondary-gradient'>\r\n\t\t\t\t\t\t\t\tWelcome {loggedUser.name + ' ' + loggedUser.lastname}!\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t<p className='activation-text'>\r\n\t\t\t\t\t\t\t\tWelcome to Drone Tahoe! You can start using our services now.\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<div className='btn-center'>\r\n\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\tto='/reservation/0'\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tclearJobs();\r\n\t\t\t\t\t\t\t\t\t\tclearReservations();\r\n\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tclassName='btn btn-primary'\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tBook now\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t)\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n\tglobal: state.global,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tactivation,\r\n\tclearJobs,\r\n\tclearReservations,\r\n})(Activation);\r\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { resetPassword } from '../../../actions/auth';\r\n\r\nimport Alert from '../../layouts/Alert';\r\n\r\nimport './ChangePassword.scss';\r\n\r\nconst ChangePassword = ({\r\n\tresetPassword,\r\n\tmatch,\r\n\tglobal: { footer, navbar },\r\n}) => {\r\n\tconst container = useRef();\r\n\r\n\tconst [formData, setFormData] = useState({\r\n\t\tpassword: '',\r\n\t\tpasswordConf: '',\r\n\t});\r\n\r\n\tconst { password, passwordConf } = formData;\r\n\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\tfloat: true,\r\n\t});\r\n\r\n\tconst { float } = adminValues;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (container.current) {\r\n\t\t\tconst item = container.current.getBoundingClientRect();\r\n\r\n\t\t\tif (item.height + footer + navbar + 60 >= window.innerHeight)\r\n\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t...prev,\r\n\t\t\t\t\tfloat: false,\r\n\t\t\t\t}));\r\n\t\t}\r\n\t}, [footer, navbar]);\r\n\r\n\tconst onSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tresetPassword({ ...formData, resetLink: match.params.token });\r\n\t};\r\n\r\n\tconst onChange = (e) => {\r\n\t\tsetFormData((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\t[e.target.id]: e.target.value,\r\n\t\t}));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={`changepassword ${float ? 'float' : ''}`} ref={container}>\r\n\t\t\t\t<h2 className='heading-primary'>Reset Password</h2>\r\n\t\t\t\t<form onSubmit={onSubmit} className='form'>\r\n\t\t\t\t\t<Alert type='1' />\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\tid='password'\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\tvalue={password}\r\n\t\t\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label htmlFor='password' className='form__label'>\r\n\t\t\t\t\t\t\tPassword\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\tid='passwordConf'\r\n\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\tvalue={passwordConf}\r\n\t\t\t\t\t\t\tplaceholder='Confirm Password'\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label htmlFor='passwordConf' className='form__label'>\r\n\t\t\t\t\t\t\tConfirm Password\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='u-center-text'>\r\n\t\t\t\t\t\t<button className='btn btn-primary'>Save</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tglobal: state.global,\r\n});\r\n\r\nexport default connect(mapStateToProps, { resetPassword })(ChangePassword);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Alert from '../layouts/Alert';\r\n\r\nconst HourRangeForm = ({\r\n\tconfirm,\r\n\treservation: { reservations },\r\n\tday: { availableHours, loadingAvailableHours },\r\n\tsetToggleModal,\r\n}) => {\r\n\tconst [formData, setFormData] = useState({\r\n\t\thourFrom: '',\r\n\t\thourTo: '',\r\n\t});\r\n\r\n\tconst { hourFrom, hourTo } = formData;\r\n\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\trangeFrom: [],\r\n\t\trangeTo: [],\r\n\t});\r\n\r\n\tconst { rangeFrom, rangeTo } = adminValues;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!loadingAvailableHours) {\r\n\t\t\tlet rangeFrom = [];\r\n\r\n\t\t\tlet unavailableRange = reservations.filter((item) => !item.jobId);\r\n\r\n\t\t\tunavailableRange = unavailableRange.map((item) => {\r\n\t\t\t\tconst date = new Date(item.hourTo);\r\n\t\t\t\treturn date.getUTCHours();\r\n\t\t\t});\r\n\r\n\t\t\tfor (let x = 0; x < availableHours.length; x++) {\r\n\t\t\t\tfor (let y = availableHours[x][0]; y < availableHours[x][1]; y++) {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tunavailableRange.length === 0 ||\r\n\t\t\t\t\t\tunavailableRange.some((item) => item !== y)\r\n\t\t\t\t\t)\r\n\t\t\t\t\t\trangeFrom.push(y);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tsetAdminValues((prev) => ({ ...prev, rangeFrom }));\r\n\t\t}\r\n\t}, [loadingAvailableHours, availableHours, reservations]);\r\n\r\n\tconst onChange = (e) => {\r\n\t\tsetFormData((prev) => ({ ...prev, [e.target.id]: e.target.value }));\r\n\r\n\t\tif (e.target.id === 'hourFrom' && e.target.value !== '') {\r\n\t\t\tlet rangeTo = [];\r\n\r\n\t\t\tlet start = e.target.value;\r\n\t\t\tconst index = availableHours.findIndex(\r\n\t\t\t\t(item) => start >= item[0] && start <= item[1]\r\n\t\t\t);\r\n\r\n\t\t\tstart++;\r\n\r\n\t\t\twhile (start <= availableHours[index][1]) {\r\n\t\t\t\trangeTo.push(start);\r\n\t\t\t\tstart++;\r\n\t\t\t}\r\n\t\t\tsetAdminValues((prev) => ({ ...prev, rangeTo }));\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form\r\n\t\t\tclassName='form'\r\n\t\t\tonSubmit={(e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tconfirm(formData);\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<h3 className='heading-primary-subheading'>Disable Hour Range:</h3>\r\n\t\t\t<Alert type='2' />\r\n\t\t\t<div className='form__group'>\r\n\t\t\t\t<div className='form__group-sub'>\r\n\t\t\t\t\t<div className='form__group-sub-item'>\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclassName={`form__input ${hourFrom === '' ? 'empty' : ''}`}\r\n\t\t\t\t\t\t\tid='hourFrom'\r\n\t\t\t\t\t\t\tvalue={hourFrom}\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=''>* Start</option>\r\n\t\t\t\t\t\t\t{!loadingAvailableHours &&\r\n\t\t\t\t\t\t\t\trangeFrom.map((item, key) => (\r\n\t\t\t\t\t\t\t\t\t<option key={key} value={item}>\r\n\t\t\t\t\t\t\t\t\t\t{`${item % 12 !== 0 ? item % 12 : 12} ${\r\n\t\t\t\t\t\t\t\t\t\t\titem >= 12 ? 'pm' : 'am'\r\n\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\thtmlFor='hourFrom'\r\n\t\t\t\t\t\t\tclassName={`form__label ${hourFrom === '' ? 'hide' : ''}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tStart\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='form__group-sub-item'>\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclassName={`form__input ${hourTo === '' ? 'empty' : ''}`}\r\n\t\t\t\t\t\t\tid='hourTo'\r\n\t\t\t\t\t\t\tvalue={hourTo}\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\tdisabled={hourFrom === ''}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=''>* End</option>\r\n\t\t\t\t\t\t\t{rangeTo.map((item, key) => (\r\n\t\t\t\t\t\t\t\t<option key={key} value={item}>\r\n\t\t\t\t\t\t\t\t\t{`${item % 12 !== 0 ? item % 12 : 12} ${\r\n\t\t\t\t\t\t\t\t\t\titem >= 12 ? 'pm' : 'am'\r\n\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\thtmlFor='hourTo'\r\n\t\t\t\t\t\t\tclassName={`form__label ${hourTo === '' ? 'hide' : ''}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tEnd\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='popup-btns'>\r\n\t\t\t\t<button className='btn btn-success' type='submit'>\r\n\t\t\t\t\tSave\r\n\t\t\t\t</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype='button'\r\n\t\t\t\t\tclassName='btn btn-danger'\r\n\t\t\t\t\tonClick={setToggleModal}\r\n\t\t\t\t>\r\n\t\t\t\t\tCancel\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n\tday: state.day,\r\n\treservation: state.reservation,\r\n});\r\n\r\nexport default connect(mapStateToProps)(HourRangeForm);\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport Alert from '../layouts/Alert';\r\n\r\nconst JobForm = ({ job, setToggleModal, toggleModal, confirm }) => {\r\n\tconst [formData, setFormData] = useState({\r\n\t\tid: 0,\r\n\t\ttitle: '',\r\n\t\tsubtitle: '',\r\n\t\tpoptext: '',\r\n\t});\r\n\r\n\tconst { title, subtitle, poptext } = formData;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (job) {\r\n\t\t\tsetFormData((prev) => {\r\n\t\t\t\tif (prev.id !== job.id)\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tid: job.id,\r\n\t\t\t\t\t\ttitle: job.title,\r\n\t\t\t\t\t\tsubtitle: job.subtitle ? job.subtitle : '',\r\n\t\t\t\t\t\tpoptext: job.poptext ? job.poptext : '',\r\n\t\t\t\t\t};\r\n\t\t\t\telse return prev;\r\n\t\t\t});\r\n\t\t}\r\n\t}, [job]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!toggleModal)\r\n\t\t\tsetFormData({ id: 0, title: '', subtitle: '', poptext: '' });\r\n\t}, [toggleModal]);\r\n\r\n\tconst onChange = (e) => {\r\n\t\tsetFormData((prev) => ({ ...prev, [e.target.id]: e.target.value }));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form\r\n\t\t\tclassName='form'\r\n\t\t\tonSubmit={(e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tconfirm(formData);\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<h3 className='heading-primary-subheading'>\r\n\t\t\t\t{job ? 'Update' : 'New'} Job:\r\n\t\t\t</h3>\r\n\t\t\t<Alert type='2' />\r\n\t\t\t<div className='form__group'>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tvalue={title}\r\n\t\t\t\t\tid='title'\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tplaceholder='Title'\r\n\t\t\t\t/>\r\n\t\t\t\t<label htmlFor='title' className='form__label'>\r\n\t\t\t\t\tTitle\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<div className='form__group'>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tvalue={subtitle}\r\n\t\t\t\t\tid='subtitle'\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tplaceholder='Subtitle'\r\n\t\t\t\t/>\r\n\t\t\t\t<label htmlFor='subtitle' className='form__label'>\r\n\t\t\t\t\tSubtitle\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<div className='form__group'>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tclassName='form__input textarea'\r\n\t\t\t\t\tvalue={poptext}\r\n\t\t\t\t\trows='3'\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tplaceholder='Extra Info'\r\n\t\t\t\t\tid='poptext'\r\n\t\t\t\t/>\r\n\t\t\t\t<label htmlFor='poptext' className='form__label'>\r\n\t\t\t\t\tExtra Info\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='popup-btns'>\r\n\t\t\t\t<button type='submit' className='btn btn-success'>\r\n\t\t\t\t\tSave\r\n\t\t\t\t</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype='button'\r\n\t\t\t\t\tclassName='btn btn-danger'\r\n\t\t\t\t\tonClick={setToggleModal}\r\n\t\t\t\t>\r\n\t\t\t\t\tCancel\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default JobForm;\r\n","import React, { useState, useEffect, useCallback } from 'react';\r\nimport Moment from 'react-moment';\r\nimport moment from 'moment';\r\nimport Calendar from 'react-calendar';\r\nimport { connect } from 'react-redux';\r\n\r\nimport {\r\n\tcheckDayAvailability,\r\n\tcheckMonthAvailability,\r\n} from '../../actions/day';\r\nimport {\r\n\tupdateReservation,\r\n\tregisterReservation,\r\n} from '../../actions/reservation';\r\n\r\nimport Alert from '../layouts/Alert';\r\nimport PopUp from '../layouts/PopUp';\r\n\r\nimport './Schedule.scss';\r\n\r\nconst Schedule = ({\r\n\tauth: { loggedUser },\r\n\treservation,\r\n\tsetToggleModal,\r\n\tday: { availableHours, loadingAvailableHours, disabledDays },\r\n\tcheckMonthAvailability,\r\n\tcheckDayAvailability,\r\n\tupdateReservation,\r\n\tregisterReservation,\r\n}) => {\r\n\tconst today = moment().add(1, 'day');\r\n\tconst disabled =\r\n\t\treservation.id !== 0 &&\r\n\t\treservation.status !== 'requested' &&\r\n\t\t((loggedUser.type === 'customer' && reservation.status === 'unpaid') ||\r\n\t\t\treservation.status !== 'unpaid');\r\n\r\n\tconst [formData, setFormData] = useState({\r\n\t\thourFrom: '',\r\n\t\thourTo: '',\r\n\t});\r\n\r\n\tconst { hourFrom, hourTo } = formData;\r\n\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\tdate: new Date(),\r\n\t\ttab: 0,\r\n\t\tdiff: 0,\r\n\t\ttoggleModal: false,\r\n\t\tmonth: today.month(),\r\n\t\tyear: today.year(),\r\n\t});\r\n\r\n\tconst { date, tab, diff, toggleModal, month, year } = adminValues;\r\n\r\n\tuseEffect(() => {\r\n\t\tcheckMonthAvailability(month, year, reservation.id, disabled ? diff : 0);\r\n\t}, [checkMonthAvailability, month, year, reservation.id, disabled, diff]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (disabled) {\r\n\t\t\tconst hourFrom = moment(reservation.hourFrom);\r\n\t\t\tconst hourTo = moment(reservation.hourTo);\r\n\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\tdiff: hourTo.utc().hour() - hourFrom.utc().hour(),\r\n\t\t\t}));\r\n\t\t\tconsole.log(reservation);\r\n\t\t}\r\n\t}, [reservation, disabled]);\r\n\r\n\tconst onChangeDate = (changedDate) => {\r\n\t\tsetAdminValues((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\tdate: changedDate,\r\n\t\t\ttab: changedDate.getMonth() === month ? 1 : 0,\r\n\t\t}));\r\n\t\tcheckDayAvailability(\r\n\t\t\tmoment(changedDate).format('YYYY-MM-DD[T00:00:00Z]'),\r\n\t\t\treservation.id,\r\n\t\t\tdisabled ? diff : 0\r\n\t\t);\r\n\t};\r\n\r\n\tconst selectHour = (type, time) => {\r\n\t\tconst newDate = new Date(date);\r\n\t\tnewDate.setHours(time);\r\n\r\n\t\tlet newHourTo = null;\r\n\t\tif (disabled) {\r\n\t\t\tconst oldHourFrom = new Date(reservation.hourFrom);\r\n\t\t\tconst oldHourTo = new Date(reservation.hourTo);\r\n\t\t\tnewHourTo = new Date(date);\r\n\t\t\tnewHourTo.setHours(\r\n\t\t\t\ttime + (oldHourTo.getHours() - oldHourFrom.getHours())\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\tsetFormData((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\t[type]: newDate,\r\n\t\t\t...(newHourTo && { hourTo: newHourTo }),\r\n\t\t}));\r\n\r\n\t\tsetAdminValues((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\ttab: type === 'hourFrom' && !newHourTo ? 2 : 3,\r\n\t\t}));\r\n\t};\r\n\r\n\tconst tileDisabled = useCallback(\r\n\t\t({ date, view }) => {\r\n\t\t\tif (view === 'month' && disabledDays.length > 0) {\r\n\t\t\t\t// Check if a date React-Calendar wants to check is on the list of disabled dates\r\n\t\t\t\treturn disabledDays.some(\r\n\t\t\t\t\t(disabledDay) =>\r\n\t\t\t\t\t\tmoment(disabledDay).utc().format('MM-DD-YYYY') ===\r\n\t\t\t\t\t\tmoment(date).format('MM-DD-YYYY')\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[disabledDays]\r\n\t);\r\n\r\n\tconst startTime = () => {\r\n\t\tlet posibleHours = [];\r\n\r\n\t\tlet minTime = disabled ? diff : 2;\r\n\r\n\t\tfor (let x = 0; x < availableHours.length; x++) {\r\n\t\t\tlet time =\r\n\t\t\t\tloggedUser.type === 'admin' || availableHours[x][0] === 8\r\n\t\t\t\t\t? availableHours[x][0]\r\n\t\t\t\t\t: availableHours[x][0] + 1;\r\n\r\n\t\t\twhile (availableHours[x][1] - time > minTime) {\r\n\t\t\t\tposibleHours.push(time);\r\n\t\t\t\ttime++;\r\n\t\t\t}\r\n\t\t\tif (availableHours[x][1] === 17) posibleHours.push(time);\r\n\t\t\telse if (\r\n\t\t\t\tloggedUser.type === 'admin' &&\r\n\t\t\t\tavailableHours[x][1] - time === minTime\r\n\t\t\t)\r\n\t\t\t\tposibleHours.push(time);\r\n\t\t}\r\n\r\n\t\treturn posibleHours.length > 0 ? (\r\n\t\t\t<>\r\n\t\t\t\t<p className='schedule-details-title'>\r\n\t\t\t\t\t{disabled ? 'Hour Range' : 'Start Time'}:\r\n\t\t\t\t</p>{' '}\r\n\t\t\t\t{posibleHours.map((hour, i) => (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName='schedule-details-item'\r\n\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\tonClick={() => selectHour('hourFrom', hour)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{`${hour % 12 !== 0 ? hour % 12 : 12} ${hour >= 12 ? 'pm' : 'am'}`}{' '}\r\n\t\t\t\t\t\t{disabled &&\r\n\t\t\t\t\t\t\t' - ' +\r\n\t\t\t\t\t\t\t\t`${(hour + diff) % 12 !== 0 ? (hour + diff) % 12 : 12} ${\r\n\t\t\t\t\t\t\t\t\thour + diff >= 12 ? 'pm' : 'am'\r\n\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</>\r\n\t\t) : (\r\n\t\t\t<h2 className='schedule-details-main error'>\r\n\t\t\t\tNo availability on this day\r\n\t\t\t</h2>\r\n\t\t);\r\n\t};\r\n\r\n\tconst endTime = () => {\r\n\t\tlet time = moment(hourFrom).hour();\r\n\t\tlet posibleHours = [];\r\n\r\n\t\tconst usedRange = availableHours.filter(\r\n\t\t\t(item) => item[0] <= time && item[1] > time\r\n\t\t)[0];\r\n\r\n\t\ttime = time + 2;\r\n\r\n\t\twhile (time < usedRange[1]) {\r\n\t\t\tposibleHours.push(time);\r\n\t\t\ttime++;\r\n\t\t}\r\n\t\tif (usedRange[1] === 17) posibleHours.push(time);\r\n\t\telse if (loggedUser.type === 'admin' && time === usedRange[1])\r\n\t\t\tposibleHours.push(time);\r\n\r\n\t\treturn posibleHours.length > 0 ? (\r\n\t\t\t<>\r\n\t\t\t\t<p className='schedule-details-title'>End Time:</p>{' '}\r\n\t\t\t\t{posibleHours.map((hour, i) => (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName='schedule-details-item'\r\n\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\tonClick={() => selectHour('hourTo', hour)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{`${hour % 12 !== 0 ? hour % 12 : 12} ${hour >= 12 ? 'pm' : 'am'}`}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t</>\r\n\t\t) : (\r\n\t\t\t<h2 className='schedule-details-main error'>\r\n\t\t\t\tNo availability on this day\r\n\t\t\t</h2>\r\n\t\t);\r\n\t};\r\n\r\n\tconst tabOpen = () => {\r\n\t\tswitch (tab) {\r\n\t\t\tcase 0:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<h5 className='schedule-details-main'>\r\n\t\t\t\t\t\t\tPick up a Date and Time{' '}\r\n\t\t\t\t\t\t\t{loggedUser.type !== 'admin' && 'you are Available'}\r\n\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t</>\r\n\t\t\t\t);\r\n\t\t\tcase 1:\r\n\t\t\t\treturn !loadingAvailableHours && startTime();\r\n\t\t\tcase 2:\r\n\t\t\t\treturn hourFrom !== '' && endTime();\r\n\t\t\tcase 3:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<p className='schedule-details-title'>Reservation Schedule:</p>\r\n\t\t\t\t\t\t<form\r\n\t\t\t\t\t\t\tclassName='form'\r\n\t\t\t\t\t\t\tonSubmit={async (e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\t\t\t\tif (reservation.id !== 0) {\r\n\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\ttoggleModal: !toggleModal,\r\n\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t//createReservation\r\n\t\t\t\t\t\t\t\t\tconst answer = await registerReservation({\r\n\t\t\t\t\t\t\t\t\t\t...reservation,\r\n\t\t\t\t\t\t\t\t\t\t...(loggedUser.type === 'customer' && {\r\n\t\t\t\t\t\t\t\t\t\t\tuser: loggedUser.id,\r\n\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\thourFrom: moment(hourFrom).format(\r\n\t\t\t\t\t\t\t\t\t\t\t'YYYY-MM-DD[T]HH[:00:00Z]'\r\n\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\thourTo: moment(hourTo).format('YYYY-MM-DD[T]HH[:00:00Z]'),\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tif (answer) setToggleModal();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Alert type='2' />\r\n\t\t\t\t\t\t\t<p className='schedule-details-info'>\r\n\t\t\t\t\t\t\t\t<span className='schedule-details-subtitle'>Date:</span> &nbsp;\r\n\t\t\t\t\t\t\t\t<Moment date={hourFrom} format='MM/DD/YY' />\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t<p className='schedule-details-info'>\r\n\t\t\t\t\t\t\t\t<span className='schedule-details-subtitle'>Time:</span> &nbsp;\r\n\t\t\t\t\t\t\t\t<Moment format='h a' date={hourFrom} /> -{' '}\r\n\t\t\t\t\t\t\t\t<Moment format='h a' date={hourTo} />\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{loggedUser.type !== 'admin' && reservation.id === 0 && (\r\n\t\t\t\t\t\t\t\t<p className='text-warning'>\r\n\t\t\t\t\t\t\t\t\tAfter saving the reservation, we will set the price for the\r\n\t\t\t\t\t\t\t\t\tjob and send you an email confirming your appointment, so you\r\n\t\t\t\t\t\t\t\t\tcan proceed with its payment.\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t\t<div className='btn-center'>\r\n\t\t\t\t\t\t\t\t<button className='btn' type='submit'>\r\n\t\t\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</>\r\n\t\t\t\t);\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='schedule'>\r\n\t\t\t<PopUp\r\n\t\t\t\ttype='confirmation'\r\n\t\t\t\ttoggleModal={toggleModal}\r\n\t\t\t\tsetToggleModal={() =>\r\n\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\ttoggleModal: !toggleModal,\r\n\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\t\t\t\tconfirm={async () => {\r\n\t\t\t\t\tconst answer = await updateReservation({\r\n\t\t\t\t\t\t...reservation,\r\n\t\t\t\t\t\thourFrom: moment(hourFrom).format('YYYY-MM-DD[T]HH:mm:SS[Z]'),\r\n\t\t\t\t\t\thourTo: moment(hourTo).format('YYYY-MM-DD[T]HH:mm:SS[Z]'),\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (answer) setToggleModal();\r\n\t\t\t\t}}\r\n\t\t\t\ttext='Are you sure you want to modify the reservation?'\r\n\t\t\t/>\r\n\r\n\t\t\t<div className='schedule-calendar'>\r\n\t\t\t\t<Calendar\r\n\t\t\t\t\tvalue={date}\r\n\t\t\t\t\tonChange={onChangeDate}\r\n\t\t\t\t\tminDate={new Date(today.format())}\r\n\t\t\t\t\tmaxDate={new Date(today.year() + 1, today.month(), today.date())}\r\n\t\t\t\t\tonActiveStartDateChange={(e) => {\r\n\t\t\t\t\t\tif (e.view === 'month' || e.view === 'year') {\r\n\t\t\t\t\t\t\tconst month = e.activeStartDate.getMonth();\r\n\t\t\t\t\t\t\tconst year = e.activeStartDate.getFullYear();\r\n\t\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, month, year }));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttileDisabled={tileDisabled}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className='schedule-details'>{tabOpen()}</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n\tday: state.day,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tcheckDayAvailability,\r\n\tcheckMonthAvailability,\r\n\tupdateReservation,\r\n\tregisterReservation,\r\n})(Schedule);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { loadUsers, clearUsers } from '../../actions/user';\r\n\r\nconst UserField = ({\r\n\tuser: { users, loading },\r\n\tselectFinalUser,\r\n\treservationUser,\r\n\tsearchDisplay,\r\n\tswitchDisplay,\r\n\tclearUsers,\r\n\tloadUsers,\r\n\tclear,\r\n\tcompleteClear,\r\n\tautoComplete,\r\n}) => {\r\n\tconst initialValue = {\r\n\t\temail: '',\r\n\t\tlockEmail: false,\r\n\t};\r\n\r\n\tconst [adminValues, setAdminValues] = useState(initialValue);\r\n\r\n\tconst { email, lockEmail } = adminValues;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (reservationUser) {\r\n\t\t\tif (reservationUser.email)\r\n\t\t\t\tsetAdminValues((prev) => ({ ...prev, email: reservationUser.email }));\r\n\t\t} else setAdminValues((prev) => ({ ...prev, email: '' }));\r\n\t}, [reservationUser]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (clear) {\r\n\t\t\tsetAdminValues({\r\n\t\t\t\temail: '',\r\n\t\t\t\tlockEmail: false,\r\n\t\t\t});\r\n\t\t\tcompleteClear();\r\n\t\t}\r\n\t}, [clear, completeClear]);\r\n\r\n\tconst selectUser = (user) => {\r\n\t\tsetAdminValues((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\temail: user.email,\r\n\t\t\tlockEmail: true,\r\n\t\t}));\r\n\t\tselectFinalUser(user);\r\n\t\tclearUsers();\r\n\t};\r\n\r\n\tconst cancelUser = () => {\r\n\t\tselectFinalUser();\r\n\t\tsetAdminValues(initialValue);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='form__group form-search'>\r\n\t\t\t<input\r\n\t\t\t\tclassName='form__input'\r\n\t\t\t\ttype='text'\r\n\t\t\t\tvalue={email}\r\n\t\t\t\tdisabled={reservationUser || lockEmail}\r\n\t\t\t\tname='email'\r\n\t\t\t\tid='email'\r\n\t\t\t\tautoComplete={autoComplete}\r\n\t\t\t\tonFocus={() => switchDisplay(true)}\r\n\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\temail: e.target.value,\r\n\t\t\t\t\t}));\r\n\t\t\t\t\tif (e.target.value.length > 1) {\r\n\t\t\t\t\t\tclearUsers();\r\n\t\t\t\t\t\tloadUsers(\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: 'customer',\r\n\t\t\t\t\t\t\t\temail: e.target.value,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tplaceholder=\"User's Email\"\r\n\t\t\t/>\r\n\t\t\t<label htmlFor='email' className='form__label'>\r\n\t\t\t\tUser's Email\r\n\t\t\t</label>\r\n\t\t\t{searchDisplay && email.length > 1 && !reservationUser && (\r\n\t\t\t\t<ul\r\n\t\t\t\t\tclassName={`form-search-display ${\r\n\t\t\t\t\t\tusers.length === 0 ? 'danger' : ''\r\n\t\t\t\t\t}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t{!loading && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t{users.length > 0 ? (\r\n\t\t\t\t\t\t\t\tusers.map((user) => (\r\n\t\t\t\t\t\t\t\t\t<li\r\n\t\t\t\t\t\t\t\t\t\tclassName='form-search-item'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => selectUser(user)}\r\n\t\t\t\t\t\t\t\t\t\tkey={user.id}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{user.email}\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<li className='bg-danger form-search-item'>\r\n\t\t\t\t\t\t\t\t\tNo matching results\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</ul>\r\n\t\t\t)}\r\n\t\t\t{email.length > 1 && !reservationUser && (\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype='button'\r\n\t\t\t\t\tonClick={cancelUser}\r\n\t\t\t\t\tclassName='form-search-close'\r\n\t\t\t\t>\r\n\t\t\t\t\t<i className='far fa-times-circle'></i>\r\n\t\t\t\t</button>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tuser: state.user,\r\n});\r\n\r\nexport default connect(mapStateToProps, { loadUsers, clearUsers })(UserField);\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Moment from 'react-moment';\r\n\r\nimport { updateReservation } from '../../actions/reservation';\r\nimport {\r\n\tloadReservationJobs,\r\n\tclearJobsXReservations,\r\n} from '../../actions/jobsXReservations';\r\n\r\nimport Schedule from '../Schedule';\r\nimport UserField from '../UserField';\r\nimport Alert from '../layouts/Alert';\r\n\r\nimport './ReservationForm.scss';\r\n\r\nconst ReservationForm = ({\r\n\treservation,\r\n\tsetToggleModal,\r\n\tmatch,\r\n\tlocation,\r\n\tjob: { jobs: jobsList },\r\n\tauth: { loggedUser },\r\n\tjobsXreservation: { jobsXreservations, loading },\r\n\tupdateReservation,\r\n\tloadReservationJobs,\r\n\tclearJobsXReservations,\r\n}) => {\r\n\tconst form = useRef();\r\n\tconst schedule = useRef();\r\n\tconst regex = /^[0-9]+(\\.([0-9]{1,2})?)?$/;\r\n\r\n\tconst disabled =\r\n\t\treservation &&\r\n\t\treservation.status !== 'requested' &&\r\n\t\treservation.status !== 'unpaid';\r\n\r\n\tconst [formData, setFormData] = useState({\r\n\t\tid: 0,\r\n\t\tjobs: [\r\n\t\t\t{\r\n\t\t\t\tid: 0,\r\n\t\t\t\tjobId:\r\n\t\t\t\t\tmatch.params.job_id && match.params.job_id !== '0'\r\n\t\t\t\t\t\t? match.params.job_id\r\n\t\t\t\t\t\t: '',\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tdiscount: null,\r\n\t\t\t},\r\n\t\t],\r\n\t\tuser: null,\r\n\t\taddress: '',\r\n\t\tcomments: null,\r\n\t\ttravelExpenses: null,\r\n\t\trefundReason: null,\r\n\t\ttotal: '',\r\n\t\thourFrom: '',\r\n\t\thourTo: '',\r\n\t});\r\n\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\tsearchDisplay: false,\r\n\t\tclear: false,\r\n\t\tchangeDate: false,\r\n\t\tpercentage: [null],\r\n\t});\r\n\r\n\tconst { searchDisplay, clear, changeDate, percentage } = adminValues;\r\n\tconst {\r\n\t\tid,\r\n\t\tjobs,\r\n\t\tuser,\r\n\t\taddress,\r\n\t\tcomments,\r\n\t\ttotal,\r\n\t\ttravelExpenses,\r\n\t\trefundReason,\r\n\t} = formData;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (reservation) {\r\n\t\t\tif (!reservation.jobs && loading) loadReservationJobs(reservation.id);\r\n\t\t\telse {\r\n\t\t\t\tif (id !== reservation.id) {\r\n\t\t\t\t\tsetFormData((prev) => {\r\n\t\t\t\t\t\tlet oldReservation = {};\r\n\t\t\t\t\t\tfor (const x in prev) {\r\n\t\t\t\t\t\t\toldReservation[x] = !reservation[x] ? prev[x] : reservation[x];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t...oldReservation,\r\n\t\t\t\t\t\t\tjobs: jobsXreservations.map((item) => {\r\n\t\t\t\t\t\t\t\treturn { ...item, value: item.value === 0 ? '' : item.value };\r\n\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\tpercentage: jobsXreservations.map((item) => {\r\n\t\t\t\t\t\t\tif (item.discount !== null) {\r\n\t\t\t\t\t\t\t\tconst value = (item.discount * 100) / item.value;\r\n\t\t\t\t\t\t\t\treturn Math.round((value + Number.EPSILON) * 100) / 100;\r\n\t\t\t\t\t\t\t} else return null;\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}, [reservation, id, loading, loadReservationJobs, jobsXreservations]);\r\n\r\n\tconst getTotal = (expence) => {\r\n\t\tconst total = jobs.reduce((sum, item) => {\r\n\t\t\tlet itemValue = Number(item.value);\r\n\t\t\tif (item.discount !== null) itemValue = itemValue - Number(item.discount);\r\n\t\t\treturn sum + itemValue;\r\n\t\t}, 0);\r\n\t\tlet value = expence !== null ? total + Number(expence) : total;\r\n\r\n\t\tvalue = Math.round((value + Number.EPSILON) * 100) / 100;\r\n\r\n\t\treturn value;\r\n\t};\r\n\r\n\tconst onChange = (e) => {\r\n\t\tif (e.target.name === 'travelExpenses') {\r\n\t\t\tif (regex.test(e.target.value) || e.target.value === '') {\r\n\t\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t\t...prev,\r\n\t\t\t\t\ttravelExpenses: e.target.value,\r\n\t\t\t\t\ttotal: getTotal(e.target.value),\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\t[e.target.name]: e.target.value,\r\n\t\t\t}));\r\n\t\t}\r\n\t};\r\n\r\n\tconst onChangeJobs = (e) => {\r\n\t\tif (\r\n\t\t\te.target.name === 'jobId' ||\r\n\t\t\te.target.value === '' ||\r\n\t\t\t(regex.test(e.target.value) &&\r\n\t\t\t\t(jobs[e.target.id].discount === null ||\r\n\t\t\t\t\tNumber(jobs[e.target.id].discount) <= Number(e.target.value)))\r\n\t\t)\r\n\t\t\tjobs[e.target.id][e.target.name] = e.target.value;\r\n\t\telse {\r\n\t\t\tif (regex.test(e.target.value)) jobs[e.target.id].value = e.target.value;\r\n\t\t\tjobs[e.target.id].discount = '';\r\n\t\t\tpercentage[e.target.id] = '';\r\n\t\t\tsetAdminValues((prev) => ({ ...prev, percentage }));\r\n\t\t}\r\n\r\n\t\tsetFormData((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\tjobs,\r\n\t\t\t...(e.target.name !== 'jobId' && { total: getTotal(travelExpenses) }),\r\n\t\t}));\r\n\t};\r\n\r\n\tconst onChangeJobsDiscount = (e) => {\r\n\t\tif (regex.test(e.target.value)) {\r\n\t\t\tif (\r\n\t\t\t\te.target.name === 'discount' &&\r\n\t\t\t\tNumber(jobs[e.target.id].value) >= Number(e.target.value)\r\n\t\t\t) {\r\n\t\t\t\tconst value =\r\n\t\t\t\t\t(Number(e.target.value) * 100) / Number(jobs[e.target.id].value);\r\n\r\n\t\t\t\tpercentage[e.target.id] =\r\n\t\t\t\t\tMath.round((value + Number.EPSILON) * 100) / 100;\r\n\t\t\t\tjobs[e.target.id].discount = e.target.value;\r\n\t\t\t} else {\r\n\t\t\t\tif (Number(e.target.value) <= 100) {\r\n\t\t\t\t\tconst value =\r\n\t\t\t\t\t\t(Number(e.target.value) * Number(jobs[e.target.id].value)) / 100;\r\n\r\n\t\t\t\t\tpercentage[e.target.id] = e.target.value;\r\n\t\t\t\t\tjobs[e.target.id].discount =\r\n\t\t\t\t\t\tMath.round((value + Number.EPSILON) * 100) / 100;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else if (e.target.value === '') {\r\n\t\t\tjobs[e.target.id].discount = '';\r\n\t\t\tpercentage[e.target.id] = '';\r\n\t\t}\r\n\r\n\t\tsetFormData((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\tjobs,\r\n\t\t\ttotal: getTotal(travelExpenses),\r\n\t\t}));\r\n\t\tsetAdminValues((prev) => ({ ...prev, percentage }));\r\n\t};\r\n\r\n\tconst jobListItem = (job, i) => {\r\n\t\tconst index = jobs.findIndex((j) => Number(j.jobId) === job.id);\r\n\r\n\t\tif (index === -1 || index === i)\r\n\t\t\treturn <option value={job.id}>{job.title}</option>;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`reservation-form ${\r\n\t\t\t\tloggedUser.type === 'customer' ? 'border' : ''\r\n\t\t\t}`}\r\n\t\t>\r\n\t\t\t<form\r\n\t\t\t\tref={form}\r\n\t\t\t\tonSubmit={async (e) => {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tconst answer = await updateReservation(formData);\r\n\t\t\t\t\tif (answer) {\r\n\t\t\t\t\t\tsetToggleModal();\r\n\t\t\t\t\t\tclearJobsXReservations();\r\n\t\t\t\t\t} else form.current.scrollIntoView();\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{loggedUser.type === 'customer' && (\r\n\t\t\t\t\t<div className='btn-top-right'>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='reservation-form-cancel'\r\n\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tsetToggleModal();\r\n\t\t\t\t\t\t\t\tclearJobsXReservations();\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<i className='fas fa-times'></i>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<div className='reservation-form-inner'>\r\n\t\t\t\t\t<h4 className='heading-primary-subheading'>\r\n\t\t\t\t\t\t{!reservation\r\n\t\t\t\t\t\t\t? 'New'\r\n\t\t\t\t\t\t\t: reservation &&\r\n\t\t\t\t\t\t\t  reservation.status !== 'canceled' &&\r\n\t\t\t\t\t\t\t  reservation.status !== 'refunded' &&\r\n\t\t\t\t\t\t\t  reservation.status !== 'completed'\r\n\t\t\t\t\t\t\t? 'Update'\r\n\t\t\t\t\t\t\t: ''}{' '}\r\n\t\t\t\t\t\tReservation:\r\n\t\t\t\t\t</h4>\r\n\r\n\t\t\t\t\t{loggedUser.type !== 'admin' && !reservation && (\r\n\t\t\t\t\t\t<p className='text-warning'>\r\n\t\t\t\t\t\t\tEnter job site address and job type. Add additional jobs, if any,\r\n\t\t\t\t\t\t\tby clicking the ‘+ Job’ button. Once all jobs are entered, select\r\n\t\t\t\t\t\t\tyour desired date/time below.\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{reservation && (\r\n\t\t\t\t\t\t<p className='heading-primary-subheading-update'>\r\n\t\t\t\t\t\t\t<Moment\r\n\t\t\t\t\t\t\t\tdate={reservation.hourFrom}\r\n\t\t\t\t\t\t\t\tutc\r\n\t\t\t\t\t\t\t\tclassName='date'\r\n\t\t\t\t\t\t\t\tformat='MM-DD-YY'\r\n\t\t\t\t\t\t\t/>{' '}\r\n\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t<Moment date={reservation.hourFrom} utc format='h a' /> -{' '}\r\n\t\t\t\t\t\t\t<Moment date={reservation.hourTo} utc format='h a' />\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{!changeDate && reservation && <Alert type='2' />}\r\n\t\t\t\t\t{reservation && loggedUser && loggedUser.type === 'admin' && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<p className='reservation-form-item'>\r\n\t\t\t\t\t\t\t\t<span className='reservation-form-title'>Status:</span>{' '}\r\n\t\t\t\t\t\t\t\t{reservation.status.charAt(0).toUpperCase() +\r\n\t\t\t\t\t\t\t\t\treservation.status.slice(1)}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{reservation.status !== 'unpaid' &&\r\n\t\t\t\t\t\t\t\treservation.status !== 'requested' && (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<p className='reservation-form-item'>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='reservation-form-title'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tPayment method:\r\n\t\t\t\t\t\t\t\t\t\t\t</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t{reservation.paymentId ? 'Paypal' : 'Cash'}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t{reservation.paymentId && (\r\n\t\t\t\t\t\t\t\t\t\t\t<p className='reservation-form-item'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className='reservation-form-title'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tPayPal ID:\r\n\t\t\t\t\t\t\t\t\t\t\t\t</span>{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{reservation.paymentId}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{loggedUser && loggedUser.type === 'admin' && (\r\n\t\t\t\t\t\t<UserField\r\n\t\t\t\t\t\t\tselectFinalUser={(user) => {\r\n\t\t\t\t\t\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\tuser: user ? user.id : null,\r\n\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\treservationUser={reservation ? user : null}\r\n\t\t\t\t\t\t\tsearchDisplay={searchDisplay}\r\n\t\t\t\t\t\t\tswitchDisplay={(show) =>\r\n\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, searchDisplay: show }))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclear={clear}\r\n\t\t\t\t\t\t\tcompleteClear={() =>\r\n\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, clear: false }))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tautoComplete='new-password'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvalue={address}\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\tid='address'\r\n\t\t\t\t\t\t\tname='address'\r\n\t\t\t\t\t\t\tplaceholder='Address'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label htmlFor='address' className='form__label'>\r\n\t\t\t\t\t\t\tAddress\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='jobs-list'>\r\n\t\t\t\t\t\t<p className='jobs-list-title'>Jobs List</p>\r\n\t\t\t\t\t\t{jobs.length > 0 &&\r\n\t\t\t\t\t\t\tjobs.map((item, i) => (\r\n\t\t\t\t\t\t\t\t<div className='jobs-list-item' key={i}>\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName={`jobs-list-item-group ${disabled ? 'full' : ''}`}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<p className='jobs-list-item-title'>Job {i + 1}</p>\r\n\t\t\t\t\t\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`form__input ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.jobId === '' ? 'empty' : ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tid={i}\r\n\t\t\t\t\t\t\t\t\t\t\t\tname='jobId'\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.jobId}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsearchDisplay: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChangeJobs}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<option value=''>* Type of Job</option>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{jobsList.length > 0 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tjobsList.map((job) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment key={`jl-${i}-${job.id}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{jobListItem(job, i)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\t\thtmlFor='item'\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`form__label ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.jobId === '' ? 'hide' : ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\tType of Job\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{loggedUser.type === 'admin' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.value}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChangeJobs}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={i}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname='value'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Job Value'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label htmlFor={i} className='form__label'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tJob Value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`form__group ${\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.discount === null ? 'hide' : ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='form__group-sub'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='form__group-sub-item'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Discount'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname='discount'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={i}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChangeJobsDiscount}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.discount !== null ? item.discount : ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label htmlFor='discount' className='form__label'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDiscount\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='form__group-sub-item'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Percentage'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname='percentage'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={i}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={onChangeJobsDiscount}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.discount !== null ? percentage[i] : ''\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thtmlFor='percentage'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form__label'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPercentage\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t{((reservation &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t(reservation.status === 'requested' ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treservation.status === 'unpaid')) ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!reservation) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='form__group switch'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form__label-switch'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thtmlFor='discountChk'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDiscount\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tid='discountChk'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={item.discount !== null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!e.target.checked) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjobs[i].discount = null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpercentage[i] = null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjobs[i].discount = '';\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpercentage[i] = '';\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjobs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...(jobs[i].discount == null && {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttotal: getTotal(travelExpenses),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}));\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpercentage,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form__input-switch'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\titem.value && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='jobs-list-item-price'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<table>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className='text-dark'>Value:</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>&nbsp;${item.value}&nbsp;</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.discount !== null && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className='text-dark'>Discount:</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t${item.discount} ({percentage[i]}% off)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{!disabled && (\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\tjobs.splice(i, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\tpercentage.splice(i, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tjobs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttotal: getTotal(travelExpenses),\r\n\t\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, percentage }));\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-trash-alt'></i>\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t{!disabled && (\r\n\t\t\t\t\t\t\t<div className='btn-right'>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='btn btn-quaternary'\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\tjobs: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t...jobs,\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid: 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tjobId: '',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: '',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdiscount: null,\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\tpercentage.push(null);\r\n\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, percentage }));\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-plus'></i> &nbsp; Job\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className={`form__group ${comments === null ? 'hide' : 'show'}`}>\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tclassName='form__input textarea'\r\n\t\t\t\t\t\t\tvalue={comments}\r\n\t\t\t\t\t\t\tid='comments'\r\n\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\trows='3'\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\tplaceholder='Special Request'\r\n\t\t\t\t\t\t\tname='comments'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label htmlFor='comments' className='form__label'>\r\n\t\t\t\t\t\t\tSpecial Request\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{(!reservation ||\r\n\t\t\t\t\t\t(reservation &&\r\n\t\t\t\t\t\t\t(reservation.status === 'requested' ||\r\n\t\t\t\t\t\t\t\treservation.status === 'unpaid'))) && (\r\n\t\t\t\t\t\t<div className='form__group switch'>\r\n\t\t\t\t\t\t\t<label className='form__label-switch' htmlFor='commentsChk'>\r\n\t\t\t\t\t\t\t\tSpecial Request\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tchecked={comments !== null}\r\n\t\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\t\tid='commentsChk'\r\n\t\t\t\t\t\t\t\tname='commentsChk'\r\n\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\tcomments: e.target.checked ? '' : null,\r\n\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tclassName='form__input-switch'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{(loggedUser.type === 'admin' ||\r\n\t\t\t\t\t\t(loggedUser.type === 'customer' && travelExpenses !== null)) && (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={`form__group ${\r\n\t\t\t\t\t\t\t\ttravelExpenses === null ? 'hide' : 'show'\r\n\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tvalue={travelExpenses !== null ? travelExpenses : ''}\r\n\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\tdisabled={disabled || loggedUser.type === 'customer'}\r\n\t\t\t\t\t\t\t\tid='travelExpenses'\r\n\t\t\t\t\t\t\t\tname='travelExpenses'\r\n\t\t\t\t\t\t\t\tplaceholder='Travel Expenses'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<label htmlFor='travelExpenses' className='form__label'>\r\n\t\t\t\t\t\t\t\tTravel Expenses\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{loggedUser.type === 'admin' &&\r\n\t\t\t\t\t\t((reservation &&\r\n\t\t\t\t\t\t\t(reservation.status === 'requested' ||\r\n\t\t\t\t\t\t\t\treservation.status === 'unpaid')) ||\r\n\t\t\t\t\t\t\t!reservation) && (\r\n\t\t\t\t\t\t\t<div className='form__group switch'>\r\n\t\t\t\t\t\t\t\t<label className='form__label-switch' htmlFor='travelExpChk'>\r\n\t\t\t\t\t\t\t\t\tTravel Expenses\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tchecked={travelExpenses !== null}\r\n\t\t\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\t\t\tid='travelExpChk'\r\n\t\t\t\t\t\t\t\t\tname='travelExpChk'\r\n\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\ttravelExpenses: e.target.checked ? '' : null,\r\n\t\t\t\t\t\t\t\t\t\t\t...(!e.target.checked && { total: getTotal(null) }),\r\n\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tclassName='form__input-switch'\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t{refundReason !== null && (\r\n\t\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tclassName='form__input textarea'\r\n\t\t\t\t\t\t\t\tvalue={refundReason}\r\n\t\t\t\t\t\t\t\tid='refundReason'\r\n\t\t\t\t\t\t\t\trows='3'\r\n\t\t\t\t\t\t\t\tdisabled={loggedUser.type === 'customer'}\r\n\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\tplaceholder='Refund Reason'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<label htmlFor='refundReason' className='form__label'>\r\n\t\t\t\t\t\t\t\tRefund Reason\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{total !== '' && total !== 0 && (\r\n\t\t\t\t\t\t<h4 className='reservation-form-total'>\r\n\t\t\t\t\t\t\t<span className='reservation-form-total-title'>Total:</span> $\r\n\t\t\t\t\t\t\t{total}\r\n\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{reservation &&\r\n\t\t\t\t\t\treservation.status !== 'canceled' &&\r\n\t\t\t\t\t\treservation.status !== 'completed' && (\r\n\t\t\t\t\t\t\t<div className='btn-center'>\r\n\t\t\t\t\t\t\t\t{!changeDate &&\r\n\t\t\t\t\t\t\t\t\t(reservation.status !== 'paid' ||\r\n\t\t\t\t\t\t\t\t\t\t(refundReason !== null && loggedUser.type === 'admin')) && (\r\n\t\t\t\t\t\t\t\t\t\t<button className='btn' type='submit'>\r\n\t\t\t\t\t\t\t\t\t\t\tSave\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{location.pathname !== '/schedule' && (\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn'\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\tif (!changeDate) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tschedule.current.scrollIntoView(true);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}, 30);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\tchangeDate: !changeDate,\r\n\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{changeDate ? 'Keep Date' : 'Change Date'}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t\t<div ref={schedule}>\r\n\t\t\t\t{(changeDate || !reservation) && (\r\n\t\t\t\t\t<Schedule setToggleModal={setToggleModal} reservation={formData} />\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tjob: state.job,\r\n\tauth: state.auth,\r\n\tjobsXreservation: state.jobsXreservation,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tupdateReservation,\r\n\tloadReservationJobs,\r\n\tclearJobsXReservations,\r\n})(withRouter(ReservationForm));\r\n","import React, { useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { updatePayment, makePayment } from '../../actions/reservation';\r\nimport {\r\n\tloadReservationJobs,\r\n\tclearJobsXReservations,\r\n} from '../../actions/jobsXReservations';\r\n\r\nimport Alert from '../layouts/Alert';\r\n\r\nconst PayPalButton = window.paypal.Buttons.driver('react', { React, ReactDOM });\r\n\r\nconst PayPal = ({\r\n\treservation,\r\n\tloadReservationJobs,\r\n\tclearJobsXReservations,\r\n\tupdatePayment,\r\n\tmakePayment,\r\n\tsetToggleModal,\r\n\tauth: { loggedUser },\r\n\tjobsXreservation: { jobsXreservations, loading },\r\n}) => {\r\n\tuseEffect(() => {\r\n\t\tif (loading && reservation) loadReservationJobs(reservation.id, 'full');\r\n\t}, [loading, reservation, loadReservationJobs]);\r\n\r\n\treturn (\r\n\t\t<div className='payment'>\r\n\t\t\t<h3 className='heading-primary-subheading'>\r\n\t\t\t\tReservation Payment: &nbsp; ${reservation && reservation.total}\r\n\t\t\t</h3>\r\n\t\t\t<Alert type='2' />\r\n\t\t\t{loggedUser && loggedUser.type === 'admin' && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='btn btn-tertiary'\r\n\t\t\t\t\t\tonClick={async () => {\r\n\t\t\t\t\t\t\tconst answer = await updatePayment(reservation.id);\r\n\t\t\t\t\t\t\tif (answer) setToggleModal();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tPay Cash\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<p className='payment-text'>OR</p>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\r\n\t\t\t<PayPalButton\r\n\t\t\t\tcreateOrder={async () => {\r\n\t\t\t\t\tconst jobs =\r\n\t\t\t\t\t\treservation.travelExpenses === null\r\n\t\t\t\t\t\t\t? jobsXreservations\r\n\t\t\t\t\t\t\t: [\r\n\t\t\t\t\t\t\t\t\t...jobsXreservations,\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tvalue: reservation.travelExpenses,\r\n\t\t\t\t\t\t\t\t\t\tjob: { title: 'Travel Expenses' },\r\n\t\t\t\t\t\t\t\t\t\tdiscount: null,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t  ];\r\n\t\t\t\t\tconst payment = await makePayment({\r\n\t\t\t\t\t\tjobs,\r\n\t\t\t\t\t\ttotal: reservation.total,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconsole.log(payment);\r\n\t\t\t\t\treturn payment.id;\r\n\t\t\t\t}}\r\n\t\t\t\tonApprove={async (data, actions) => {\r\n\t\t\t\t\tconst order = await actions.order.capture();\r\n\t\t\t\t\tconst answer = await updatePayment(reservation.id, {\r\n\t\t\t\t\t\tpaymentId: order.id,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (answer) {\r\n\t\t\t\t\t\tsetToggleModal();\r\n\t\t\t\t\t\tclearJobsXReservations();\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tonError={(err) => console.log(err)}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n\tjobsXreservation: state.jobsXreservation,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tupdatePayment,\r\n\tmakePayment,\r\n\tloadReservationJobs,\r\n\tclearJobsXReservations,\r\n})(PayPal);\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport Alert from '../layouts/Alert';\r\n\r\nconst EmailForm = ({ setToggleModal, toggleModal, confirm, users }) => {\r\n\tconst [formData, setFormData] = useState({\r\n\t\tsubject: '',\r\n\t\tmessage: '',\r\n\t});\r\n\r\n\tconst { subject, message } = formData;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!toggleModal) setFormData({ subject: '', message: '' });\r\n\t}, [toggleModal]);\r\n\r\n\tconst onChange = (e) => {\r\n\t\tsetFormData((prev) => ({ ...prev, [e.target.id]: e.target.value }));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form\r\n\t\t\tclassName='form'\r\n\t\t\tonSubmit={(e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tconfirm({ ...formData, users });\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<h3 className='heading-primary-subheading'>Outreach Email:</h3>\r\n\t\t\t<Alert type='2' />\r\n\t\t\t<h5 className='popup-email-item'>\r\n\t\t\t\t<span className='popup-email-title'>To: </span>\r\n\t\t\t\t{users.map((email, i) =>\r\n\t\t\t\t\ti + 1 !== users.length ? email + ', ' : email + '.'\r\n\t\t\t\t)}\r\n\t\t\t</h5>\r\n\t\t\t<div className='form__group'>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tvalue={subject}\r\n\t\t\t\t\tid='subject'\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tplaceholder='Subject'\r\n\t\t\t\t/>\r\n\t\t\t\t<label htmlFor='subject' className='form__label'>\r\n\t\t\t\t\tSubject\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<div className='form__group'>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tclassName='form__input textarea'\r\n\t\t\t\t\tvalue={message}\r\n\t\t\t\t\trows='5'\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tplaceholder='Email Message'\r\n\t\t\t\t\tid='message'\r\n\t\t\t\t/>\r\n\t\t\t\t<label htmlFor='message' className='form__label'>\r\n\t\t\t\t\tEmail Message\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='popup-btns'>\r\n\t\t\t\t<button type='submit' className='btn btn-success'>\r\n\t\t\t\t\tSend\r\n\t\t\t\t</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype='button'\r\n\t\t\t\t\tclassName='btn btn-danger'\r\n\t\t\t\t\tonClick={setToggleModal}\r\n\t\t\t\t>\r\n\t\t\t\t\tCancel\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default EmailForm;\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport Alert from '../layouts/Alert';\r\n\r\nconst RefundForm = ({ confirm, setToggleModal, reservation }) => {\r\n\tconst regex = /^[0-9]+(\\.([0-9]{1,2})?)?$/;\r\n\r\n\tconst [formData, setFormData] = useState({\r\n\t\tamount: '',\r\n\t\trefundReason: '',\r\n\t});\r\n\r\n\tconst { amount, refundReason } = formData;\r\n\r\n\tuseEffect(() => {\r\n\t\tsetFormData((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\tamount: '',\r\n\t\t\trefundReason: '',\r\n\t\t}));\r\n\t}, [confirm]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (reservation && reservation.refundReason !== null)\r\n\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\trefundReason: reservation.refundReason,\r\n\t\t\t}));\r\n\t}, [reservation]);\r\n\r\n\tconst onChange = (e) => {\r\n\t\tif (\r\n\t\t\te.target.id !== 'amount' ||\r\n\t\t\te.target.value === '' ||\r\n\t\t\t(regex.test(e.target.value) &&\r\n\t\t\t\treservation.total >= Number(e.target.value))\r\n\t\t)\r\n\t\t\tsetFormData((prev) => ({ ...prev, [e.target.id]: e.target.value }));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form\r\n\t\t\tclassName='form'\r\n\t\t\tonSubmit={(e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tconfirm(formData);\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<h3 className='heading-primary-subheading'>\r\n\t\t\t\tReservation Total: &nbsp; ${reservation && reservation.total}\r\n\t\t\t</h3>\r\n\t\t\t<Alert type='2' />\r\n\t\t\t<div className='form__group'>\r\n\t\t\t\t<input\r\n\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tvalue={amount}\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tid='amount'\r\n\t\t\t\t\tplaceholder='Refund'\r\n\t\t\t\t/>\r\n\t\t\t\t<label htmlFor='amount' className='form__label'>\r\n\t\t\t\t\tRefund\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<div className='form__group'>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tclassName='form__input textarea'\r\n\t\t\t\t\tvalue={refundReason}\r\n\t\t\t\t\tid='refundReason'\r\n\t\t\t\t\trows='3'\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tplaceholder='Refund Reason'\r\n\t\t\t\t/>\r\n\t\t\t\t<label htmlFor='refundReason' className='form__label'>\r\n\t\t\t\t\tRefund Reason\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className='popup-btns'>\r\n\t\t\t\t<button className='btn btn-success' type='submit'>\r\n\t\t\t\t\tRefund\r\n\t\t\t\t</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype='button'\r\n\t\t\t\t\tclassName='btn btn-danger'\r\n\t\t\t\t\tonClick={setToggleModal}\r\n\t\t\t\t>\r\n\t\t\t\t\tCancel\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nexport default RefundForm;\r\n","import React from 'react';\r\n\r\nimport logo from '../../../img/logoDRONE-dark-cropped-final.png';\r\nimport HourRangeForm from '../../HourRangeForm';\r\nimport JobForm from '../../JobForm';\r\nimport ReservationForm from '../../ReservationForm';\r\nimport PayPal from '../../PayPal';\r\nimport EmailForm from '../../EmailForm';\r\nimport RefundForm from '../../RefundForm';\r\n\r\nimport './PopUp.scss';\r\n\r\nconst PopUp = ({\r\n\ttoggleModal,\r\n\tsetToggleModal,\r\n\tconfirm,\r\n\ttext,\r\n\tsubtext,\r\n\ttype,\r\n\ttoUpdate,\r\n\tclearJobs,\r\n}) => {\r\n\tconst selectType = () => {\r\n\t\tswitch (type) {\r\n\t\t\tcase 'confirmation':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className='popup-text'>\r\n\t\t\t\t\t\t<p>{text}</p>\r\n\t\t\t\t\t\t{subtext ? <p>{subtext}</p> : ''}\r\n\t\t\t\t\t\t<div className='popup-btns'>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName='btn btn-success'\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tconfirm();\r\n\t\t\t\t\t\t\t\t\tsetToggleModal();\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tOK\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\tclassName='btn btn-danger'\r\n\t\t\t\t\t\t\t\tonClick={setToggleModal}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tcase 'schedule':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className='popup-schedule wrapper wrapper-popup'>\r\n\t\t\t\t\t\t<ReservationForm\r\n\t\t\t\t\t\t\treservation={toUpdate}\r\n\t\t\t\t\t\t\tsetToggleModal={setToggleModal}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tcase 'job':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className='popup-job wrapper wrapper-popup'>\r\n\t\t\t\t\t\t<JobForm\r\n\t\t\t\t\t\t\ttoggleModal={toggleModal}\r\n\t\t\t\t\t\t\tconfirm={confirm}\r\n\t\t\t\t\t\t\tjob={toUpdate}\r\n\t\t\t\t\t\t\tsetToggleModal={setToggleModal}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tcase 'hour':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className='popup-hour wrapper wrapper-popup'>\r\n\t\t\t\t\t\t<HourRangeForm setToggleModal={setToggleModal} confirm={confirm} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tcase 'payment':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className='popup-payment'>\r\n\t\t\t\t\t\t<PayPal reservation={toUpdate} setToggleModal={setToggleModal} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tcase 'email':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className='popup-email'>\r\n\t\t\t\t\t\t<EmailForm\r\n\t\t\t\t\t\t\ttoggleModal={toggleModal}\r\n\t\t\t\t\t\t\tconfirm={confirm}\r\n\t\t\t\t\t\t\tsetToggleModal={setToggleModal}\r\n\t\t\t\t\t\t\tusers={toUpdate}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tcase 'refund':\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<div className='popup-refund'>\r\n\t\t\t\t\t\t<RefundForm\r\n\t\t\t\t\t\t\tconfirm={confirm}\r\n\t\t\t\t\t\t\tsetToggleModal={setToggleModal}\r\n\t\t\t\t\t\t\treservation={toUpdate}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t);\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={`blurr-bg popup ${!toggleModal ? 'hide' : ''}`}>\r\n\t\t\t<div className={`popup-content ${type}`}>\r\n\t\t\t\t<div className='popup-heading'>\r\n\t\t\t\t\t<img className='popup-heading-img' src={logo} alt='logo' />\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsetToggleModal();\r\n\t\t\t\t\t\t\tif (clearJobs) clearJobs();\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tclassName='popup-heading-btn'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<i className='fas fa-times'></i>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t{selectType()}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default PopUp;\r\n","import React, { useEffect, useState, useRef } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport Moment from 'react-moment';\r\n\r\nimport { loadJobs } from '../../../actions/jobs';\r\nimport {\r\n\tloadReservations,\r\n\tdeleteReservation,\r\n} from '../../../actions/reservation';\r\nimport { clearJobsXReservations } from '../../../actions/jobsXReservations';\r\n\r\nimport Alert from '../../layouts/Alert';\r\nimport Loading from '../../layouts/Loading';\r\nimport PopUp from '../../layouts/PopUp';\r\n\r\nimport './Reservation.scss';\r\nimport ReservationForm from '../../ReservationForm';\r\n\r\nconst Reservation = ({\r\n\tauth: { loggedUser, token },\r\n\treservation: { reservations, loading: loadingReservations },\r\n\tjob: { loading },\r\n\tloadJobs,\r\n\tloadReservations,\r\n\tdeleteReservation,\r\n\tclearJobsXReservations,\r\n\tmatch,\r\n}) => {\r\n\tconst list = useRef();\r\n\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\treservation: null,\r\n\t\ttoggleModal: false,\r\n\t\tposition: 0,\r\n\t\teditReservation:\r\n\t\t\tmatch.params.job_id && match.params.job_id !== '0' ? true : false,\r\n\t\tcheckout: false,\r\n\t});\r\n\r\n\tconst { reservation, toggleModal, position, editReservation, checkout } =\r\n\t\tadminValues;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (loading && token) loadJobs({}, true);\r\n\t\tif (loggedUser && loggedUser.type !== 'admin' && loadingReservations)\r\n\t\t\tloadReservations({ hourFrom: new Date(), user: loggedUser.id }, true);\r\n\t}, [\r\n\t\tloading,\r\n\t\tloadJobs,\r\n\t\tloggedUser,\r\n\t\tloadReservations,\r\n\t\tloadingReservations,\r\n\t\ttoken,\r\n\t]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!loadingReservations) {\r\n\t\t\tconst item = list.current.getBoundingClientRect();\r\n\t\t\tconst scrollTop =\r\n\t\t\t\twindow.pageYOffset || document.documentElement.scrollTop;\r\n\r\n\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\tposition: item.bottom + scrollTop - 60,\r\n\t\t\t}));\r\n\t\t\tif (match.params.job_id && match.params.job_id !== '0')\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\twindow.scrollTo(0, item.bottom + scrollTop);\r\n\t\t\t\t}, 30);\r\n\t\t}\r\n\t}, [loadingReservations, match.params.job_id]);\r\n\r\n\treturn (\r\n\t\t<div className='reservation'>\r\n\t\t\t<Loading />\r\n\t\t\t<h2 className='heading-primary'>Reservations</h2>\r\n\t\t\t<PopUp\r\n\t\t\t\ttype='confirmation'\r\n\t\t\t\ttoggleModal={toggleModal}\r\n\t\t\t\tsetToggleModal={() =>\r\n\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\ttoggleModal: !toggleModal,\r\n\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\t\t\t\tconfirm={() => {\r\n\t\t\t\t\tdeleteReservation(reservation);\r\n\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, reservation: null }));\r\n\t\t\t\t}}\r\n\t\t\t\ttext={`Are you sure you want to ${\r\n\t\t\t\t\treservation && reservation.status !== 'paid' ? 'delete' : 'cancel'\r\n\t\t\t\t} the reservation?`}\r\n\t\t\t\tsubtext={\r\n\t\t\t\t\treservation && reservation.status === 'paid'\r\n\t\t\t\t\t\t? 'A refund will be placed through paypal.'\r\n\t\t\t\t\t\t: ''\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t{checkout && (\r\n\t\t\t\t<PopUp\r\n\t\t\t\t\ttype='payment'\r\n\t\t\t\t\ttoUpdate={reservation}\r\n\t\t\t\t\tsetToggleModal={() =>\r\n\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\tcheckout: false,\r\n\t\t\t\t\t\t\treservation: null,\r\n\t\t\t\t\t\t}))\r\n\t\t\t\t\t}\r\n\t\t\t\t\tclearJobs={clearJobsXReservations}\r\n\t\t\t\t\ttoggleModal={checkout}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\r\n\t\t\t<Alert type='1' />\r\n\t\t\t{!loggedUser ? (\r\n\t\t\t\t<h5 className='heading-primary-subheading error'>\r\n\t\t\t\t\tYou need to be logged in to make a reservation. &nbsp;\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\tto='/login'\r\n\t\t\t\t\t\tonClick={() => window.scrollTo(0, 0)}\r\n\t\t\t\t\t\tclassName='btn-link'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tLogin\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</h5>\r\n\t\t\t) : (\r\n\t\t\t\tloggedUser.cel === '0' && (\r\n\t\t\t\t\t<h5 className='heading-primary-subheading error'>\r\n\t\t\t\t\t\tYou need to save your cellphone in your profile to make a\r\n\t\t\t\t\t\treservation. &nbsp;\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tto='/profile'\r\n\t\t\t\t\t\t\tonClick={() => window.scrollTo(0, 0)}\r\n\t\t\t\t\t\t\tclassName='btn-link'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tProfile\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</h5>\r\n\t\t\t\t)\r\n\t\t\t)}\r\n\t\t\t{loggedUser && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div className='reservation-list' ref={list}>\r\n\t\t\t\t\t\t{!loadingReservations && reservations.length > 0 ? (\r\n\t\t\t\t\t\t\treservations.map((res, i) => (\r\n\t\t\t\t\t\t\t\t<div className='reservation-item' key={res.id}>\r\n\t\t\t\t\t\t\t\t\t<div className='reservation-item-date'>\r\n\t\t\t\t\t\t\t\t\t\t<Moment\r\n\t\t\t\t\t\t\t\t\t\t\tdate={res.hourFrom}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='date'\r\n\t\t\t\t\t\t\t\t\t\t\tformat='MM-DD-YY'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t<Moment date={res.hourFrom} utc format='h a' /> -{' '}\r\n\t\t\t\t\t\t\t\t\t\t<Moment date={res.hourTo} utc format='h a' />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='reservation-item-status'>\r\n\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='reservation-item-title'>Address: </span>\r\n\t\t\t\t\t\t\t\t\t\t\t{res.address}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='reservation-item-title'>Value: </span>\r\n\t\t\t\t\t\t\t\t\t\t\t{res.total ? '$' + res.total : 'Pending'}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='reservation-item-title'>Status: </span>\r\n\t\t\t\t\t\t\t\t\t\t\t{res.status.charAt(0).toUpperCase() + res.status.slice(1)}\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='reservation-item-icons'>\r\n\t\t\t\t\t\t\t\t\t\t{res.status === 'unpaid' && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='tooltip'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treservation: res,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcheckout: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-dollar-sign'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className='tooltiptext'>Pay</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t<div className='tooltip'>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treservation: res,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\teditReservation: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}));\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, position);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, 30);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res.status !== 'refunded' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tres.status !== 'canceled' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-edit'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-search'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='tooltiptext'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{res.status !== 'refunded' && res.status !== 'canceled'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'Edit'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 'See details'}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{(res.status === 'requested' ||\r\n\t\t\t\t\t\t\t\t\t\t\tres.status === 'unpaid') && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='tooltip'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoggleModal: !toggleModal,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treservation: res,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-trash-alt'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<span className='tooltiptext'>Delete</span>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<h2 className='heading-primary-subheading'>\r\n\t\t\t\t\t\t\t\tNo Reservations Made\r\n\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{!loading && loggedUser.cel !== '0' && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t{!editReservation ? (\r\n\t\t\t\t\t\t\t\t<div className='btn-right'>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\teditReservation: true,\r\n\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, position);\r\n\t\t\t\t\t\t\t\t\t\t\t}, 30);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-primary'\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-plus'></i> &nbsp; Reservation\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<ReservationForm\r\n\t\t\t\t\t\t\t\t\treservation={reservation}\r\n\t\t\t\t\t\t\t\t\tsetToggleModal={() =>\r\n\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\treservation: null,\r\n\t\t\t\t\t\t\t\t\t\t\teditReservation: false,\r\n\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tauth: state.auth,\r\n\tjob: state.job,\r\n\treservation: state.reservation,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tloadJobs,\r\n\tloadReservations,\r\n\tdeleteReservation,\r\n\tclearJobsXReservations,\r\n})(Reservation);\r\n","import React from 'react';\r\n\r\nconst DatesFiled = ({ onChange, onFocus, hourFrom, hourTo }) => {\r\n\treturn (\r\n\t\t<div className='form__group'>\r\n\t\t\t<div className='form__group-sub'>\r\n\t\t\t\t<div className='form__group-sub-item'>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='date'\r\n\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\tplaceholder='YYYY/MM/DD'\r\n\t\t\t\t\t\tid='hourFrom'\r\n\t\t\t\t\t\tvalue={hourFrom}\r\n\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\tonFocus={onFocus}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label htmlFor='hourFrom' className='form__label'>\r\n\t\t\t\t\t\tFrom\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='form__group-sub-item'>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='date'\r\n\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\tid='hourTo'\r\n\t\t\t\t\t\tplaceholder='YYYY/MM/DD'\r\n\t\t\t\t\t\tmin={hourFrom !== '' ? hourFrom : null}\r\n\t\t\t\t\t\tonFocus={onFocus}\r\n\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\tvalue={hourTo}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label htmlFor='hourTo' className='form__label'>\r\n\t\t\t\t\t\tTo\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default DatesFiled;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport Moment from 'react-moment';\r\n\r\nimport {\r\n\tloadReservations,\r\n\tdeleteReservation,\r\n\tcancelReservation,\r\n} from '../../../actions/reservation';\r\nimport { clearUsers } from '../../../actions/user';\r\nimport { loadJobs } from '../../../actions/jobs';\r\nimport { clearJobsXReservations } from '../../../actions/jobsXReservations';\r\n\r\nimport PopUp from '../../layouts/PopUp';\r\nimport Alert from '../../layouts/Alert';\r\n\r\nimport UserField from '../../UserField';\r\nimport DatesFiled from '../../DatesFiled';\r\n\r\nconst ReservationsList = ({\r\n\tdeleteReservation,\r\n\tloadReservations,\r\n\tcancelReservation,\r\n\tloadJobs,\r\n\treservation: { reservations, error, loading },\r\n\tclearUsers,\r\n\tclearJobsXReservations,\r\n}) => {\r\n\tconst initialValue = {\r\n\t\thourFrom: '',\r\n\t\thourTo: '',\r\n\t\tuser: '',\r\n\t\tstatus: '',\r\n\t};\r\n\tconst [formData, setFormData] = useState(initialValue);\r\n\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\ttoggleDeleteConf: false,\r\n\t\ttoggleReservation: false,\r\n\t\ttoggleRefund: false,\r\n\t\tshowFilter: false,\r\n\t\treservation: null,\r\n\t\tsearchDisplay: false,\r\n\t\tclear: false,\r\n\t\tcheckout: false,\r\n\t});\r\n\r\n\tconst { hourFrom, hourTo, status } = formData;\r\n\r\n\tconst {\r\n\t\ttoggleDeleteConf,\r\n\t\ttoggleReservation,\r\n\t\ttoggleRefund,\r\n\t\tshowFilter,\r\n\t\treservation,\r\n\t\tsearchDisplay,\r\n\t\tclear,\r\n\t\tcheckout,\r\n\t} = adminValues;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (loading) {\r\n\t\t\tloadJobs({}, true);\r\n\t\t\tloadReservations({ hourFrom: new Date() }, true);\r\n\t\t}\r\n\t}, [loading, loadReservations, loadJobs]);\r\n\r\n\tconst onChange = (e) => {\r\n\t\tsetFormData((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\t[e.target.id]: e.target.value,\r\n\t\t}));\r\n\t};\r\n\r\n\tconst onSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetFormData(initialValue);\r\n\t\tloadReservations(formData, false);\r\n\t\tsetAdminValues((prev) => ({ ...prev, clear: true }));\r\n\t};\r\n\r\n\tconst completeClear = () => {\r\n\t\tsetAdminValues((prev) => ({ ...prev, clear: false }));\r\n\t};\r\n\r\n\tconst setToggle = (type) => {\r\n\t\tsetAdminValues((prev) => ({ ...prev, [type]: ![type], reservation: null }));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='list'>\r\n\t\t\t<PopUp\r\n\t\t\t\ttype='refund'\r\n\t\t\t\ttoUpdate={reservation}\r\n\t\t\t\tconfirm={async (formData) => {\r\n\t\t\t\t\tconst answer = await cancelReservation(reservation, formData);\r\n\r\n\t\t\t\t\tif (answer)\r\n\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\ttoggleRefund: !toggleRefund,\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t}}\r\n\t\t\t\tsetToggleModal={() => setToggle('toggleRefund')}\r\n\t\t\t\ttoggleModal={toggleRefund}\r\n\t\t\t/>\r\n\t\t\t<PopUp\r\n\t\t\t\ttype='confirmation'\r\n\t\t\t\tconfirm={() => deleteReservation(reservation)}\r\n\t\t\t\tsetToggleModal={() => setToggle('toggleDeleteConf')}\r\n\t\t\t\ttoggleModal={toggleDeleteConf}\r\n\t\t\t\ttext='Are you sure you want to delete the reservation?'\r\n\t\t\t\tsubtext={\r\n\t\t\t\t\treservation &&\r\n\t\t\t\t\treservation.paymentId !== '' &&\r\n\t\t\t\t\treservation.status === 'paid' &&\r\n\t\t\t\t\t'A refund should be made before deleting it.'\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t{checkout && (\r\n\t\t\t\t<PopUp\r\n\t\t\t\t\ttype='payment'\r\n\t\t\t\t\tclearJobs={clearJobsXReservations}\r\n\t\t\t\t\ttoUpdate={reservation && reservation}\r\n\t\t\t\t\tsetToggleModal={() => setToggle('checkout')}\r\n\t\t\t\t\ttoggleModal={checkout}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\r\n\t\t\t{toggleReservation && (\r\n\t\t\t\t<PopUp\r\n\t\t\t\t\ttype='schedule'\r\n\t\t\t\t\tclearJobs={clearJobsXReservations}\r\n\t\t\t\t\ttoUpdate={reservation}\r\n\t\t\t\t\ttoggleModal={toggleReservation}\r\n\t\t\t\t\tsetToggleModal={() => setToggle('toggleReservation')}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\r\n\t\t\t<h2 className='heading-primary'>Reservations</h2>\r\n\r\n\t\t\t<Alert type='1' />\r\n\t\t\t<form className='form filter' onSubmit={onSubmit}>\r\n\t\t\t\t<p className='filter-title'>Filter</p>\r\n\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='filter-icon'\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, showFilter: !showFilter }));\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{showFilter ? (\r\n\t\t\t\t\t\t<i className='fas fa-chevron-up'></i>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<i className='fas fa-chevron-down'></i>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</button>\r\n\t\t\t\t<div className={`filter-content ${!showFilter ? 'hide' : ''}`}>\r\n\t\t\t\t\t<DatesFiled\r\n\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\tsearchDisplay: false,\r\n\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\thourFrom={hourFrom}\r\n\t\t\t\t\t\thourTo={hourTo}\r\n\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<UserField\r\n\t\t\t\t\t\tselectFinalUser={(user) => {\r\n\t\t\t\t\t\t\tsetFormData((prev) => ({ ...prev, user: user ? user.id : '' }));\r\n\t\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, searchDisplay: false }));\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tsearchDisplay={searchDisplay}\r\n\t\t\t\t\t\tswitchDisplay={(show) =>\r\n\t\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, searchDisplay: show }))\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tclear={clear}\r\n\t\t\t\t\t\tcompleteClear={completeClear}\r\n\t\t\t\t\t\tautoComplete='off'\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclassName={`form__input ${status === '' ? 'empty' : ''}`}\r\n\t\t\t\t\t\t\tid='status'\r\n\t\t\t\t\t\t\tvalue={status}\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\tonFocus={() =>\r\n\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\tsearchDisplay: false,\r\n\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=''>* Status</option>\r\n\t\t\t\t\t\t\t<option value='requested'>Requested</option>\r\n\t\t\t\t\t\t\t<option value='unpaid'>Unpaid</option>\r\n\t\t\t\t\t\t\t<option value='pending'>Pending</option>\r\n\t\t\t\t\t\t\t<option value='paid'>Paid</option>\r\n\t\t\t\t\t\t\t<option value='completed'>Completed</option>\r\n\t\t\t\t\t\t\t<option value='canceled'>Canceled</option>\r\n\t\t\t\t\t\t\t<option value='refunded'>Refunded</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\thtmlFor='staus'\r\n\t\t\t\t\t\t\tclassName={`form__label ${status === '' ? 'hide' : ''}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tStatus\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button type='submit' className='btn btn-tertiary'>\r\n\t\t\t\t\t\t<i className='fas fa-search'></i>&nbsp; Search\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t\t{!loading && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{reservations.length > 0 ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<div className='wrapper'>\r\n\t\t\t\t\t\t\t\t<table className='icon-6'>\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Date</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>From</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>To</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>User</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Status</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t{reservations.map((res) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={res.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Moment date={res.hourFrom} utc format='MM/DD/YY' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Moment date={res.hourFrom} utc format='h a' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Moment date={res.hourTo} utc format='h a' />\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclearUsers();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-link text-dark'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/edit-user/${res.user.id}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>{`${res.user.name} ${res.user.lastname}`}</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{res.status.charAt(0).toUpperCase() +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.status.slice(1)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{res.status === 'unpaid' && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='tooltip'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcheckout: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treservation: res,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-dollar-sign'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className='tooltiptext'>Pay</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{res.status === 'paid' && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='tooltip'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoggleRefund: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treservation: res,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-redo-alt'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className='tooltiptext'>Refund</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='tooltip'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoggleReservation: !toggleReservation,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treservation: res,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.status !== 'refunded' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.status !== 'completed' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.status !== 'canceled' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-edit'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-search'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className='tooltiptext'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{res.status !== 'refunded' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.status !== 'completed' &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tres.status !== 'canceled'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'Edit'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'See details'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='tooltip'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoggleDeleteConf: !toggleDeleteConf,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treservation: res,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-trash-alt'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className='tooltiptext'>Delete</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='list-total'>\r\n\t\t\t\t\t\t\t\t<span className='list-total-title text-dark'>Total:</span>\r\n\t\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t\t{reservations.length}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<h3 className='heading-primary-subheading u-center-text text-danger'>\r\n\t\t\t\t\t\t\t{error.msg}\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className='btn-right'>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\ttoggleReservation: !toggleReservation,\r\n\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName='btn btn-primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<i className='fas fa-plus'></i> &nbsp; Reservation\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\treservation: state.reservation,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tloadReservations,\r\n\tdeleteReservation,\r\n\tcancelReservation,\r\n\tclearUsers,\r\n\tloadJobs,\r\n\tclearJobsXReservations,\r\n})(ReservationsList);\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { loadJobs, deleteJob, registerUpdateJob } from '../../../actions/jobs';\r\n\r\nimport PopUp from '../../layouts/PopUp';\r\nimport Alert from '../../layouts/Alert';\r\n\r\nconst JobsList = ({\r\n\tloadJobs,\r\n\tdeleteJob,\r\n\tregisterUpdateJob,\r\n\tjob: { jobs, loading, error },\r\n}) => {\r\n\tconst [formData, setFormData] = useState({\r\n\t\ttitle: '',\r\n\t});\r\n\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\ttoggleDeleteConf: false,\r\n\t\ttoggleJob: false,\r\n\t\tshowFilter: false,\r\n\t\tjob: null,\r\n\t\tupdate: false,\r\n\t});\r\n\r\n\tconst { title } = formData;\r\n\r\n\tconst { toggleDeleteConf, toggleJob, showFilter, update, job } = adminValues;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (loading) loadJobs({});\r\n\t}, [loading, loadJobs]);\r\n\r\n\tconst onChange = (e) => {\r\n\t\tsetFormData((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\t[e.target.id]: e.target.value,\r\n\t\t}));\r\n\t};\r\n\r\n\tconst onSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetFormData({\r\n\t\t\ttitle: '',\r\n\t\t});\r\n\t\tloadJobs(formData);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='list'>\r\n\t\t\t<PopUp\r\n\t\t\t\ttype='confirmation'\r\n\t\t\t\tconfirm={() => deleteJob(job.id)}\r\n\t\t\t\tsetToggleModal={() =>\r\n\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\ttoggleDeleteConf: !toggleDeleteConf,\r\n\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\t\t\t\ttoggleModal={toggleDeleteConf}\r\n\t\t\t\ttext='Are you sure you want to delete the job?'\r\n\t\t\t/>\r\n\t\t\t<PopUp\r\n\t\t\t\ttype='job'\r\n\t\t\t\ttoUpdate={update ? job : null}\r\n\t\t\t\tconfirm={async (jobData) => {\r\n\t\t\t\t\tconst answer = await registerUpdateJob(jobData, job ? job.id : 0);\r\n\t\t\t\t\tif (answer)\r\n\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\ttoggleJob: false,\r\n\t\t\t\t\t\t\tjob: null,\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t}}\r\n\t\t\t\ttoggleModal={toggleJob}\r\n\t\t\t\tsetToggleModal={() =>\r\n\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\ttoggleJob: !toggleJob,\r\n\t\t\t\t\t\tjob: null,\r\n\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<h2 className='heading-primary'>Jobs</h2>\r\n\r\n\t\t\t<Alert type='1' />\r\n\t\t\t<form className='form filter' onSubmit={onSubmit}>\r\n\t\t\t\t<p className='filter-title'>Filter</p>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='filter-icon'\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, showFilter: !showFilter }));\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{showFilter ? (\r\n\t\t\t\t\t\t<i className='fas fa-chevron-up'></i>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<i className='fas fa-chevron-down'></i>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</button>\r\n\t\t\t\t<div className={`filter-content ${!showFilter ? 'hide' : ''}`}>\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvalue={title}\r\n\t\t\t\t\t\t\tid='title'\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\tplaceholder='Title'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label htmlFor='title' className='form__label'>\r\n\t\t\t\t\t\t\tTitle\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button type='submit' className='btn btn-tertiary'>\r\n\t\t\t\t\t\t<i className='fas fa-search'></i>&nbsp; Search\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t\t{!loading && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{jobs.length > 0 ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div className='wrapper'>\r\n\t\t\t\t\t\t\t\t<table className='icon-2'>\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Title</th>\r\n\t\t\t\t\t\t\t\t\t\t\t{/* <th>Subtitle</th> */}\r\n\t\t\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t{jobs.map((job) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={job.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{job.title}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/* <td>{job.subtitle}</td> */}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='tooltip'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoggleJob: !toggleJob,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjob,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tupdate: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-edit'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className='tooltiptext'>Edit</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='tooltip'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoggleDeleteConf: !toggleDeleteConf,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjob,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-trash-alt'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className='tooltiptext'>Delete</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<h3 className='heading-primary-subheading u-center-text text-danger'>\r\n\t\t\t\t\t\t\t{error.msg}\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div className='btn-right'>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\tupdate: false,\r\n\t\t\t\t\t\t\t\t\ttoggleJob: !toggleJob,\r\n\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName='btn btn-primary'\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<i className='fas fa-plus'></i> &nbsp; Job\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tjob: state.job,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tloadJobs,\r\n\tdeleteJob,\r\n\tregisterUpdateJob,\r\n})(JobsList);\r\n","import React, { useState, useCallback, useEffect } from 'react';\r\nimport moment from 'moment';\r\nimport { Link } from 'react-router-dom';\r\nimport Calendar from 'react-calendar';\r\nimport { connect } from 'react-redux';\r\n\r\nimport {\r\n\tcheckMonthSchedule,\r\n\tcheckDayAvailability,\r\n\tdisableDate,\r\n\tdisableDateRange,\r\n\tenableDate,\r\n} from '../../../actions/day';\r\nimport {\r\n\tloadReservations,\r\n\tdeleteReservation,\r\n\tclearReservations,\r\n\tdisableHourRange,\r\n} from '../../../actions/reservation';\r\nimport { setAlert } from '../../../actions/alert';\r\nimport { clearUsers } from '../../../actions/user';\r\nimport { loadJobs } from '../../../actions/jobs';\r\nimport { clearJobsXReservations } from '../../../actions/jobsXReservations';\r\n\r\nimport Alert from '../../layouts/Alert';\r\n\r\nimport './ManageSchedule.scss';\r\nimport Moment from 'react-moment';\r\nimport PopUp from '../../layouts/PopUp';\r\n\r\nconst ManageSchedule = ({\r\n\tday: { disabledDays, reservedDays, timeDisabledDays },\r\n\treservation: { loading, reservations },\r\n\tauth: { loggedUser },\r\n\tjob: { loading: loadingJobs },\r\n\tcheckMonthSchedule,\r\n\tcheckDayAvailability,\r\n\tloadReservations,\r\n\tdeleteReservation,\r\n\tdisableHourRange,\r\n\tdisableDate,\r\n\tenableDate,\r\n\tsetAlert,\r\n\tdisableDateRange,\r\n\tclearReservations,\r\n\tclearUsers,\r\n\tclearJobsXReservations,\r\n\tloadJobs,\r\n}) => {\r\n\tconst today = moment();\r\n\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\tdate: new Date(),\r\n\t\ttab: 0,\r\n\t\trange: false,\r\n\t\tmonth: today.month(),\r\n\t\tyear: today.year(),\r\n\t\ttoggleModal: false,\r\n\t\ttoggleReservation: false,\r\n\t\treservation: null,\r\n\t});\r\n\r\n\tconst {\r\n\t\tdate,\r\n\t\ttab,\r\n\t\trange,\r\n\t\tmonth,\r\n\t\tyear,\r\n\t\ttoggleModal,\r\n\t\ttoggleReservation,\r\n\t\treservation,\r\n\t} = adminValues;\r\n\r\n\tuseEffect(() => {\r\n\t\tcheckMonthSchedule(month, year);\r\n\t}, [checkMonthSchedule, month, year]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (loadingJobs) loadJobs({}, true);\r\n\t}, [loadingJobs, loadJobs]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (range && date[1] && date[0].getDate() !== date[1].getDate()) {\r\n\t\t\tconst startDate = moment(date[0], 'DD/MM/YYYY');\r\n\t\t\tconst endDate = moment(date[1], 'DD/MM/YYYY');\r\n\r\n\t\t\tconst isAfter = today.isAfter(startDate);\r\n\t\t\tconst betweenReserved =\r\n\t\t\t\t!isAfter &&\r\n\t\t\t\treservedDays.some((item) => {\r\n\t\t\t\t\tconst compareDate = moment(item).add(1, 'day');\r\n\t\t\t\t\treturn compareDate.isBetween(startDate, endDate);\r\n\t\t\t\t});\r\n\t\t\tconst betweenDisabled =\r\n\t\t\t\t!isAfter &&\r\n\t\t\t\t!betweenReserved &&\r\n\t\t\t\tdisabledDays.some((item) => {\r\n\t\t\t\t\tconst compareDate = moment(item).add(1, 'day');\r\n\t\t\t\t\treturn compareDate.isBetween(startDate, endDate);\r\n\t\t\t\t});\r\n\t\t\tconst betweenTimeDisabled =\r\n\t\t\t\t!isAfter &&\r\n\t\t\t\t!betweenReserved &&\r\n\t\t\t\t!betweenDisabled &&\r\n\t\t\t\ttimeDisabledDays.some((item) => {\r\n\t\t\t\t\tconst compareDate = moment(item).add(1, 'day');\r\n\t\t\t\t\treturn compareDate.isBetween(startDate, endDate);\r\n\t\t\t\t});\r\n\r\n\t\t\tconst notAllowed =\r\n\t\t\t\tisAfter || betweenReserved || betweenDisabled || betweenTimeDisabled;\r\n\r\n\t\t\tif (notAllowed) {\r\n\t\t\t\tsetAlert(\r\n\t\t\t\t\t`Can not choose a range with a ${\r\n\t\t\t\t\t\tisAfter\r\n\t\t\t\t\t\t\t? 'date older than today.'\r\n\t\t\t\t\t\t\t: `${\r\n\t\t\t\t\t\t\t\t\tbetweenReserved\r\n\t\t\t\t\t\t\t\t\t\t? 'reserved date'\r\n\t\t\t\t\t\t\t\t\t\t: betweenDisabled\r\n\t\t\t\t\t\t\t\t\t\t? 'disabled day'\r\n\t\t\t\t\t\t\t\t\t\t: 'disabled time range'\r\n\t\t\t\t\t\t\t  } in between.`\r\n\t\t\t\t\t}`,\r\n\t\t\t\t\t'danger',\r\n\t\t\t\t\t'2'\r\n\t\t\t\t);\r\n\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t...prev,\r\n\t\t\t\t\tdate: [date[0], date[0]],\r\n\t\t\t\t\ttab: 0,\r\n\t\t\t\t}));\r\n\t\t\t}\r\n\t\t}\r\n\t}, [\r\n\t\trange,\r\n\t\tdate,\r\n\t\tsetAlert,\r\n\t\tdisabledDays,\r\n\t\treservedDays,\r\n\t\ttimeDisabledDays,\r\n\t\ttoday,\r\n\t]);\r\n\r\n\tconst onChangeDate = (changedDate) => {\r\n\t\tlet loadRes;\r\n\r\n\t\tif (!range) {\r\n\t\t\tchangedDate.setHours(0, 0, 0, 0);\r\n\r\n\t\t\tloadRes =\r\n\t\t\t\treservedDays.some((item) => {\r\n\t\t\t\t\tconst pastDate = new Date(item);\r\n\t\t\t\t\treturn pastDate.getUTCDate() === changedDate.getDate();\r\n\t\t\t\t}) ||\r\n\t\t\t\ttimeDisabledDays.some((item) => {\r\n\t\t\t\t\tconst pastDate = new Date(item);\r\n\t\t\t\t\treturn pastDate.getUTCDate() === changedDate.getDate();\r\n\t\t\t\t});\r\n\r\n\t\t\tif (loadRes)\r\n\t\t\t\tloadReservations({\r\n\t\t\t\t\thourFrom: changedDate,\r\n\t\t\t\t\thourTo: changedDate,\r\n\t\t\t\t\ttype: 'all',\r\n\t\t\t\t\tavailable: true,\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\tsetAdminValues((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\tdate: changedDate,\r\n\t\t\ttab: range ? 3 : loadRes ? 1 : 2,\r\n\t\t}));\r\n\t};\r\n\r\n\tconst tileClassName = useCallback(\r\n\t\t(info) => {\r\n\t\t\treturn info.view === 'month' &&\r\n\t\t\t\treservedDays.some((item) => {\r\n\t\t\t\t\tconst pastDate = new Date(item);\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\tpastDate.getUTCDate() === info.date.getDate() &&\r\n\t\t\t\t\t\tpastDate.getUTCMonth() === info.date.getMonth()\r\n\t\t\t\t\t);\r\n\t\t\t\t})\r\n\t\t\t\t? 'reserved'\r\n\t\t\t\t: disabledDays.some((item) => {\r\n\t\t\t\t\t\tconst pastDate = new Date(item);\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\tpastDate.getUTCDate() === info.date.getDate() &&\r\n\t\t\t\t\t\t\tpastDate.getUTCMonth() === info.date.getMonth()\r\n\t\t\t\t\t\t);\r\n\t\t\t\t  })\r\n\t\t\t\t? 'disabled'\r\n\t\t\t\t: timeDisabledDays.some((item) => {\r\n\t\t\t\t\t\tconst pastDate = new Date(item);\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\tpastDate.getUTCDate() === info.date.getDate() &&\r\n\t\t\t\t\t\t\tpastDate.getUTCMonth() === info.date.getMonth()\r\n\t\t\t\t\t\t);\r\n\t\t\t\t  }) && 'time-disabled';\r\n\t\t},\r\n\t\t[disabledDays, reservedDays, timeDisabledDays]\r\n\t);\r\n\r\n\tconst tileDisabled = useCallback(({ date, view }) => {\r\n\t\tif (view === 'month') return date.getDay() === 6 || date.getDay() === 0;\r\n\t}, []);\r\n\r\n\tconst tabOpen = () => {\r\n\t\tswitch (tab) {\r\n\t\t\tcase 0:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<h5 className='manage-schedule-details-title'>Select a Date</h5>\r\n\t\t\t\t\t</>\r\n\t\t\t\t);\r\n\t\t\tcase 1:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t!loading && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<Alert type='1' />\r\n\t\t\t\t\t\t\t<h5 className='manage-schedule-details-title'>\r\n\t\t\t\t\t\t\t\t{reservations.every((item) => item.status === 'hourRange')\r\n\t\t\t\t\t\t\t\t\t? 'Unavailable Time Ranges'\r\n\t\t\t\t\t\t\t\t\t: 'Reservations'}{' '}\r\n\t\t\t\t\t\t\t\t- <Moment format='MM/DD/YY' date={date} />\r\n\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t<div className='manage-schedule-details-res'>\r\n\t\t\t\t\t\t\t\t{reservations.map((item) => (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName={`manage-schedule-details-item tooltip ${\r\n\t\t\t\t\t\t\t\t\t\t\titem.status === 'hourRange' && 'disabled'\r\n\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t\tkey={item.id}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t<Moment format='h a' utc date={item.hourFrom} />\r\n\t\t\t\t\t\t\t\t\t\t\t&nbsp; - &nbsp;\r\n\t\t\t\t\t\t\t\t\t\t\t<Moment\r\n\t\t\t\t\t\t\t\t\t\t\t\tformat='h a'\r\n\t\t\t\t\t\t\t\t\t\t\t\tutc\r\n\t\t\t\t\t\t\t\t\t\t\t\tdate={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titem.status !== 'hourRange'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? item.hourTo\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: moment(item.hourTo).add(1, 'hour')\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tclearUsers();\r\n\t\t\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn-link'\r\n\t\t\t\t\t\t\t\t\t\t\tto={`/edit-user/${item.user.id}`}\r\n\t\t\t\t\t\t\t\t\t\t>{`${item.user.name} ${item.user.lastname}`}</Link>\r\n\t\t\t\t\t\t\t\t\t\t{item.status !== 'hourRange' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoggleReservation: !toggleReservation,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treservation: item,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-search'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (reservations.length === 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, tab: 2 }));\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdeleteReservation(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titem,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treservations.length === 1 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmoment(date).format('YYYY-MM-DD[T00:00:00Z]')\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-trash-alt'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{today.isBefore(moment(date)) && (\r\n\t\t\t\t\t\t\t\t<div className='btn-right'>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName='btn btn-quaternary'\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\ttoggleModal: !toggleModal,\r\n\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\tcheckDayAvailability(\r\n\t\t\t\t\t\t\t\t\t\t\t\tmoment(date).format('YYYY-MM-DD[T00:00:00Z]'),\r\n\t\t\t\t\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-ban'></i> &nbsp; Hour Range\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\tcase 2:\r\n\t\t\t\tconst disable = disabledDays.some((item) => {\r\n\t\t\t\t\tconst pastDate = new Date(item);\r\n\t\t\t\t\treturn pastDate.getUTCDate() === date.getDate();\r\n\t\t\t\t});\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<h5\r\n\t\t\t\t\t\t\tclassName={`manage-schedule-details-title ${\r\n\t\t\t\t\t\t\t\tdisable && 'text-danger'\r\n\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Moment date={date} format='MM/DD/YYYY' />\r\n\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t<div className='btn-center'>\r\n\t\t\t\t\t\t\t{today.isBefore(moment(date)) && (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t{disable ? (\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\tenableDate(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmoment(date).format('YYYY-MM-DD[T00:00:00Z]')\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-check-circle'></i> &nbsp; Date\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisableDate(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmoment(date).format('YYYY-MM-DD[T00:00:00Z]')\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-ban'></i> &nbsp; Date\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoggleModal: !toggleModal,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (reservations.length > 0) clearReservations();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcheckDayAvailability(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmoment(date).format('YYYY-MM-DD[T00:00:00Z]'),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-ban'></i> &nbsp; Hour Range\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t);\r\n\t\t\tcase 3:\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<h5 className='manage-schedule-details-title'>\r\n\t\t\t\t\t\t\t<Moment date={date[0]} format='MM/DD/YYYY' /> -{' '}\r\n\t\t\t\t\t\t\t<Moment date={date[1]} format='MM/DD/YYYY' />\r\n\t\t\t\t\t\t</h5>\r\n\r\n\t\t\t\t\t\t<div className='btn-center'>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName='btn'\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\trange: !range,\r\n\t\t\t\t\t\t\t\t\t\tdate: date[0],\r\n\t\t\t\t\t\t\t\t\t\ttab: 0,\r\n\t\t\t\t\t\t\t\t\t}));\r\n\r\n\t\t\t\t\t\t\t\t\tdisableDateRange(\r\n\t\t\t\t\t\t\t\t\t\tmoment(date[0]).format('YYYY-MM-DD[T00:00:00Z]'),\r\n\t\t\t\t\t\t\t\t\t\tmoment(date[1]).format('YYYY-MM-DD[T00:00:00Z]')\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-ban'></i> &nbsp; Date Range\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</>\r\n\t\t\t\t);\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='list manage-schedule'>\r\n\t\t\t{toggleReservation && (\r\n\t\t\t\t<PopUp\r\n\t\t\t\t\ttype='schedule'\r\n\t\t\t\t\tclearJobs={clearJobsXReservations}\r\n\t\t\t\t\ttoUpdate={reservation}\r\n\t\t\t\t\ttoggleModal={toggleReservation}\r\n\t\t\t\t\tsetToggleModal={() =>\r\n\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\ttoggleReservation: !toggleReservation,\r\n\t\t\t\t\t\t\treservation: null,\r\n\t\t\t\t\t\t}))\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<PopUp\r\n\t\t\t\ttype='hour'\r\n\t\t\t\ttoggleModal={toggleModal}\r\n\t\t\t\tconfirm={async ({ hourFrom, hourTo }) => {\r\n\t\t\t\t\tconst answer = await disableHourRange(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\thourFrom: moment(date)\r\n\t\t\t\t\t\t\t\t.set('hour', hourFrom)\r\n\t\t\t\t\t\t\t\t.format('YYYY-MM-DD[T]HH[:00:00Z]'),\r\n\t\t\t\t\t\t\thourTo: moment(date)\r\n\t\t\t\t\t\t\t\t.set('hour', hourTo - 1)\r\n\t\t\t\t\t\t\t\t.format('YYYY-MM-DD[T]HH[:00:00Z]'),\r\n\t\t\t\t\t\t\tuser: loggedUser.id,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\treservations.length === 0 &&\r\n\t\t\t\t\t\t\tmoment(date).format('YYYY-MM-DD[T00:00:00Z]')\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\tif (answer)\r\n\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\ttab: 1,\r\n\t\t\t\t\t\t\ttoggleModal: !toggleModal,\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t}}\r\n\t\t\t\tsetToggleModal={() =>\r\n\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\ttoggleModal: !toggleModal,\r\n\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<h2 className='heading-primary'>Schedule</h2>\r\n\r\n\t\t\t<div className='manage-schedule-row'>\r\n\t\t\t\t<div className='manage-schedule-calendar'>\r\n\t\t\t\t\t<Calendar\r\n\t\t\t\t\t\tvalue={date}\r\n\t\t\t\t\t\tselectRange={range}\r\n\t\t\t\t\t\tonChange={onChangeDate}\r\n\t\t\t\t\t\ttileDisabled={tileDisabled}\r\n\t\t\t\t\t\tminDate={new Date(2021, 9, 1)}\r\n\t\t\t\t\t\tmaxDate={new Date(today.year() + 1, today.month(), today.date())}\r\n\t\t\t\t\t\tonActiveStartDateChange={(e) => {\r\n\t\t\t\t\t\t\tif (e.view === 'month' || e.view === 'year') {\r\n\t\t\t\t\t\t\t\tconst month = e.activeStartDate.getMonth();\r\n\t\t\t\t\t\t\t\tconst year = e.activeStartDate.getFullYear();\r\n\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, month, year }));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\ttileClassName={tileClassName}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<div className='form__group switch' id='range'>\r\n\t\t\t\t\t\t<label className='form__label-switch' htmlFor='range'>\r\n\t\t\t\t\t\t\tDate Range\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tchecked={range}\r\n\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\tonChange={() =>\r\n\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\trange: !range,\r\n\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tclassName='form__input-switch'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='manage-schedule-color-guide'>\r\n\t\t\t\t\t\t<p className='manage-schedule-color-item '>\r\n\t\t\t\t\t\t\t<i className='fas fa-square reserved'></i> Reserved Days\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className='manage-schedule-color-item'>\r\n\t\t\t\t\t\t\t<i className='fas fa-square disabled'></i> Disabled Days\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<p className='manage-schedule-color-item'>\r\n\t\t\t\t\t\t\t<i className='fas fa-square partially-disabled'></i> Partially\r\n\t\t\t\t\t\t\tDisabled Days\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='manage-schedule-details'>\r\n\t\t\t\t\t<Alert type='2' />\r\n\t\t\t\t\t{tabOpen()}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tday: state.day,\r\n\treservation: state.reservation,\r\n\tauth: state.auth,\r\n\tjob: state.job,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tcheckMonthSchedule,\r\n\tcheckDayAvailability,\r\n\tloadReservations,\r\n\tdisableDate,\r\n\tenableDate,\r\n\tsetAlert,\r\n\tdisableDateRange,\r\n\tdisableHourRange,\r\n\tclearUsers,\r\n\tclearReservations,\r\n\tdeleteReservation,\r\n\tloadJobs,\r\n\tclearJobsXReservations,\r\n})(ManageSchedule);\r\n","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { clearUser, loadUsers } from '../../../actions/user';\r\n\r\nimport Alert from '../../layouts/Alert';\r\n\r\nconst ReservationsList = ({\r\n\tloadUsers,\r\n\tuser: { users, loading, error },\r\n\tauth: { loggedUser },\r\n\tclearUser,\r\n}) => {\r\n\tconst [formData, setFormData] = useState({\r\n\t\tname: '',\r\n\t\tlastname: '',\r\n\t\temail: '',\r\n\t\ttype: '',\r\n\t});\r\n\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\tshowFilter: false,\r\n\t});\r\n\r\n\tconst { name, lastname, email, type } = formData;\r\n\r\n\tconst { showFilter } = adminValues;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (loading) loadUsers({});\r\n\t}, [loading, loadUsers]);\r\n\r\n\tconst onChange = (e) => {\r\n\t\tsetFormData((prev) => ({\r\n\t\t\t...prev,\r\n\t\t\t[e.target.id]: e.target.value,\r\n\t\t}));\r\n\t};\r\n\r\n\tconst onSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetFormData({\r\n\t\t\tname: '',\r\n\t\t\tlastname: '',\r\n\t\t\temail: '',\r\n\t\t\ttype: '',\r\n\t\t});\r\n\t\tloadUsers(formData);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='list'>\r\n\t\t\t<h2 className='heading-primary'>Users</h2>\r\n\r\n\t\t\t<Alert type='1' />\r\n\t\t\t<form className='form filter' onSubmit={onSubmit}>\r\n\t\t\t\t<p className='filter-title'>Filter</p>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='filter-icon'\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, showFilter: !showFilter }));\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{showFilter ? (\r\n\t\t\t\t\t\t<i className='fas fa-chevron-up'></i>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<i className='fas fa-chevron-down'></i>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</button>\r\n\t\t\t\t<div className={`filter-content ${!showFilter ? 'hide' : ''}`}>\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<div className='form__group-sub'>\r\n\t\t\t\t\t\t\t<div className='form__group-sub-item'>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Name'\r\n\t\t\t\t\t\t\t\t\tid='name'\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\tvalue={name}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label htmlFor='name' className='form__label'>\r\n\t\t\t\t\t\t\t\t\tName\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form__group-sub-item'>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Last Name'\r\n\t\t\t\t\t\t\t\t\tid='lastname'\r\n\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\tvalue={lastname}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<label htmlFor='lastname' className='form__label'>\r\n\t\t\t\t\t\t\t\t\tLast Name\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvalue={email}\r\n\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\tplaceholder='Email'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label htmlFor='email' className='form__label'>\r\n\t\t\t\t\t\t\tEmail\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tclassName={`form__input ${type === '' ? 'empty' : ''}`}\r\n\t\t\t\t\t\t\tid='type'\r\n\t\t\t\t\t\t\tvalue={type}\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<option value=''>* Type of User</option>\r\n\t\t\t\t\t\t\t<option value='admin'>Admin</option>\r\n\t\t\t\t\t\t\t<option value='customer'>Customer</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\thtmlFor='type'\r\n\t\t\t\t\t\t\tclassName={`form__label ${type === '' ? 'hide' : ''}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tType of User\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<button type='submit' className='btn btn-tertiary'>\r\n\t\t\t\t\t\t<i className='fas fa-search'></i>&nbsp; Search\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t\t{!loading && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{users.length > 0 ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div className='wrapper'>\r\n\t\t\t\t\t\t\t\t<table className='icon-5'>\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Email</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Type</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Cellphone</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t{users.map((user) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={user.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{user.name} {user.lastname}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{user.email}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{user.type.charAt(0).toUpperCase() +\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuser.type.slice(1)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{user.cel}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='tooltip'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tloggedUser.id === user.id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? '/profile'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: `/edit-user/${user.id}`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-icon'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclearUser();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='far fa-edit'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className='tooltiptext'>Edit</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='list-total'>\r\n\t\t\t\t\t\t\t\t<span className='list-total-title text-dark'>Total:</span>\r\n\t\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t\t{users.length}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<h3 className='heading-primary-subheading u-center-text text-danger'>\r\n\t\t\t\t\t\t\t{error.msg}\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tuser: state.user,\r\n\tauth: state.auth,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tclearUser,\r\n\tloadUsers,\r\n})(ReservationsList);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { loadJobs } from '../../../actions/jobs';\r\nimport { loadJobUsers } from '../../../actions/jobsXReservations';\r\nimport { clearUser } from '../../../actions/user';\r\nimport { sendEmail } from '../../../actions/auth';\r\n\r\nimport Alert from '../../layouts/Alert';\r\nimport PopUp from '../../layouts/PopUp';\r\nimport DatesFiled from '../../DatesFiled';\r\n\r\nimport './Outreach.scss';\r\n\r\nconst Outreach = ({\r\n\tloadJobs,\r\n\tloadJobUsers,\r\n\tclearUser,\r\n\tsendEmail,\r\n\tjob: { loading: loadingJobs, jobs: jobsList },\r\n\tjobsXreservation: { loading, error, jobsXreservations },\r\n}) => {\r\n\tconst initialValues = {\r\n\t\thourFrom: '',\r\n\t\thourTo: '',\r\n\t\ttotal: '',\r\n\t\tjobs: [],\r\n\t};\r\n\r\n\tconst [adminValues, setAdminValues] = useState({\r\n\t\tshowFilter: true,\r\n\t\tusers: [],\r\n\t\ttoggleEmail: false,\r\n\t});\r\n\r\n\tconst [formData, setFormData] = useState(initialValues);\r\n\r\n\tconst { showFilter, users, toggleEmail } = adminValues;\r\n\r\n\tconst { hourFrom, hourTo, total, jobs } = formData;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (loadingJobs) loadJobs({});\r\n\t}, [loadingJobs, loadJobs]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (jobsXreservations.length > 0)\r\n\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\tusers: jobsXreservations.map((item) => item.reservation.user.email),\r\n\t\t\t}));\r\n\t}, [jobsXreservations]);\r\n\r\n\tconst onSubmit = (e) => {\r\n\t\te.preventDefault();\r\n\t\tloadJobUsers(formData);\r\n\t};\r\n\r\n\tconst onChange = (e, job) => {\r\n\t\tif (\r\n\t\t\te.target.id !== 'total' ||\r\n\t\t\t(e.target.id === 'total' &&\r\n\t\t\t\t(Number(e.target.value) || e.target.value === ''))\r\n\t\t)\r\n\t\t\tsetFormData((prev) => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\t...(job\r\n\t\t\t\t\t? {\r\n\t\t\t\t\t\t\tjobs: e.target.checked\r\n\t\t\t\t\t\t\t\t? [...jobs, Number(e.target.value)]\r\n\t\t\t\t\t\t\t\t: jobs.filter((item) => item !== job.id),\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t: { [e.target.id]: e.target.value }),\r\n\t\t\t}));\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='outreach list'>\r\n\t\t\t<PopUp\r\n\t\t\t\ttype='email'\r\n\t\t\t\tconfirm={async (emailData) => {\r\n\t\t\t\t\tconst answer = await sendEmail(emailData, true);\r\n\t\t\t\t\tif (answer) {\r\n\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\ttoggleEmail: false,\r\n\t\t\t\t\t\t\tusers: [],\r\n\t\t\t\t\t\t}));\r\n\t\t\t\t\t\tsetFormData(initialValues);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\ttoUpdate={users}\r\n\t\t\t\ttoggleModal={toggleEmail}\r\n\t\t\t\tsetToggleModal={() =>\r\n\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\ttoggleEmail: !toggleEmail,\r\n\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\t\t\t/>\r\n\t\t\t<h2 className='heading-primary'>Outreach</h2>\r\n\t\t\t<Alert type='1' />\r\n\t\t\t<form className='form filter' onSubmit={onSubmit}>\r\n\t\t\t\t<p className='filter-title'>Filter</p>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='filter-icon'\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tsetAdminValues((prev) => ({ ...prev, showFilter: !showFilter }));\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{showFilter ? (\r\n\t\t\t\t\t\t<i className='fas fa-chevron-up'></i>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<i className='fas fa-chevron-down'></i>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<div className={`filter-content ${!showFilter ? 'hide' : ''}`}>\r\n\t\t\t\t\t<DatesFiled hourFrom={hourFrom} onChange={onChange} hourTo={hourTo} />\r\n\t\t\t\t\t<div className='form__group'>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tclassName='form__input'\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tvalue={total}\r\n\t\t\t\t\t\t\tid='total'\r\n\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\tplaceholder='Minimal Total'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<label htmlFor='total' className='form__label'>\r\n\t\t\t\t\t\t\tMinimal Total\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='outreach-jobs-list'>\r\n\t\t\t\t\t\t{!loadingJobs &&\r\n\t\t\t\t\t\t\tjobsList.map((job) => (\r\n\t\t\t\t\t\t\t\t<div className='outreach-jobs-item' key={job.id}>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\t\t\t\tvalue={job.id}\r\n\t\t\t\t\t\t\t\t\t\tclassName='form__input-chk'\r\n\t\t\t\t\t\t\t\t\t\tid={`chk-${job.id}`}\r\n\t\t\t\t\t\t\t\t\t\tname='jobs'\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => onChange(e, job)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<label className='form__label-chk' htmlFor={`chk-${job.id}`}>\r\n\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t<svg width='12px' height='9px' viewBox='0 0 12 9'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<polyline points='1 5 4 8 11 1'></polyline>\r\n\t\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t<span>{job.title}</span>\r\n\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button type='submit' className='btn btn-tertiary'>\r\n\t\t\t\t\t\t<i className='fas fa-search'></i>&nbsp; Search\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t</form>\r\n\t\t\t{!loading && (\r\n\t\t\t\t<>\r\n\t\t\t\t\t{jobsXreservations.length > 0 ? (\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div className='wrapper'>\r\n\t\t\t\t\t\t\t\t<table>\r\n\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Name</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Email</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th>Job</th>\r\n\t\t\t\t\t\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t{jobsXreservations.map((item) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<tr key={item.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn-link'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tto={`/edit-user/${item.reservation.userId}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twindow.scrollTo(0, 0);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclearUser();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.reservation.user.name}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.reservation.user.lastname}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>{item.reservation.user.email}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.jobs\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? item.jobs.map((job) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`jb-${job.id}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='outreach-list-jobs'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{job.title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: item.job.title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='checkbox'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={item.reservation.user.email}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form__input-chk'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid={`user-${item.id}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={users.some(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(email) => email === item.reservation.user.email\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (e.target.checked)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tusers: [...users, e.target.value],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tusers: users.filter(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(item) => item !== e.target.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='form__label-chk'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thtmlFor={`user-${item.id}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg width='12px' height='9px' viewBox='0 0 12 9'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<polyline points='1 5 4 8 11 1'></polyline>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='list-total'>\r\n\t\t\t\t\t\t\t\t<span className='list-total-title text-dark'>Total:</span>\r\n\t\t\t\t\t\t\t\t&nbsp;\r\n\t\t\t\t\t\t\t\t{jobsXreservations.length}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<h3 className='heading-primary-subheading u-center-text text-danger'>\r\n\t\t\t\t\t\t\t{error.msg}\r\n\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{users.length > 0 && (\r\n\t\t\t\t\t\t<div className='btn-right'>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\tsetAdminValues((prev) => ({\r\n\t\t\t\t\t\t\t\t\t\t...prev,\r\n\t\t\t\t\t\t\t\t\t\ttoggleEmail: !toggleEmail,\r\n\t\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tclassName='btn btn-primary'\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-paper-plane'></i> &nbsp; Email\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tjob: state.job,\r\n\tjobsXreservation: state.jobsXreservation,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tloadJobs,\r\n\tclearUser,\r\n\tloadJobUsers,\r\n\tsendEmail,\r\n})(Outreach);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport PrivateRoutes from '../PrivateRoutes';\r\nimport PublicRoutes from '../PublicRoutes';\r\n\r\nimport EditUser from '../../pages/EditUser';\r\nimport Activation from '../../pages/Activation';\r\nimport ChangePassword from '../../pages/ChangePassword';\r\nimport Reservation from '../../pages/Reservation';\r\nimport ReservationsList from '../../pages/ReservationsList';\r\nimport JobsList from '../../pages/JobsList';\r\nimport ManageSchedule from '../../pages/ManageSchedule';\r\nimport UsersList from '../../pages/UsersList';\r\nimport Outreach from '../../pages/Outreach';\r\n\r\nconst Routes = ({ global: { navbar, footer } }) => {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName='container'\r\n\t\t\tstyle={{\r\n\t\t\t\tminHeight: `calc(100vh - ${footer}px - ${navbar}px)`,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Switch>\r\n\t\t\t\t<PublicRoutes path='/signup' component={EditUser} />\r\n\t\t\t\t<PublicRoutes path='/resetpassword/:token' component={ChangePassword} />\r\n\t\t\t\t<Route exact path='/reservation/:job_id' component={Reservation} />\r\n\t\t\t\t<Route path='/activation/:token' component={Activation} />\r\n\t\t\t\t<PrivateRoutes\r\n\t\t\t\t\tpath='/profile'\r\n\t\t\t\t\tcomponent={EditUser}\r\n\t\t\t\t\ttypes={['admin', 'customer']}\r\n\t\t\t\t/>\r\n\t\t\t\t<PrivateRoutes\r\n\t\t\t\t\tpath='/edit-user/:user_id'\r\n\t\t\t\t\tcomponent={EditUser}\r\n\t\t\t\t\ttypes={['admin']}\r\n\t\t\t\t/>\r\n\t\t\t\t<PrivateRoutes\r\n\t\t\t\t\tpath='/reservations-list'\r\n\t\t\t\t\tcomponent={ReservationsList}\r\n\t\t\t\t\ttypes={['admin']}\r\n\t\t\t\t/>\r\n\t\t\t\t<PrivateRoutes\r\n\t\t\t\t\tpath='/jobs-list'\r\n\t\t\t\t\tcomponent={JobsList}\r\n\t\t\t\t\ttypes={['admin']}\r\n\t\t\t\t/>\r\n\t\t\t\t<PrivateRoutes\r\n\t\t\t\t\tpath='/schedule'\r\n\t\t\t\t\tcomponent={ManageSchedule}\r\n\t\t\t\t\ttypes={['admin']}\r\n\t\t\t\t/>\r\n\t\t\t\t<PrivateRoutes\r\n\t\t\t\t\tpath='/users-list'\r\n\t\t\t\t\tcomponent={UsersList}\r\n\t\t\t\t\ttypes={['admin']}\r\n\t\t\t\t/>\r\n\t\t\t\t<PrivateRoutes\r\n\t\t\t\t\tpath='/outreach'\r\n\t\t\t\t\tcomponent={Outreach}\r\n\t\t\t\t\ttypes={['admin']}\r\n\t\t\t\t/>\r\n\t\t\t</Switch>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tglobal: state.global,\r\n});\r\n\r\nexport default connect(mapStateToProps)(Routes);\r\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Router, Switch, Route } from 'react-router-dom';\n\nimport './sass/main.scss';\n\nimport setAuthToken from './utils/setAuthToken';\nimport history from './utils/history';\n\nimport { loadUser } from './actions/auth';\n\nimport Navbar from './components/layouts/Navbar';\nimport Footer from './components/layouts/Footer';\nimport Home from './components/pages/Home';\nimport Contact from './components/pages/Contact';\nimport ServicesFull from './components/pages/ServicesFull';\nimport VRM from './components/pages/VRM';\nimport Portfolio from './components/pages/Portfolio';\nimport Booking from './components/pages/Booking';\nimport Login from './components/pages/Login';\nimport Routes from './components/routing/Routes';\n\nconst App = ({ global: { navbar }, loadUser }) => {\n\tuseEffect(() => {\n\t\tif (localStorage.token) {\n\t\t\tsetAuthToken(localStorage.token);\n\t\t\tloadUser();\n\t\t}\n\t}, [loadUser]);\n\n\treturn (\n\t\t<Router history={history}>\n\t\t\t<Navbar />\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\t/* minHeight: `calc(100vh - ${footer}px)`, */\n\t\t\t\t\tpaddingTop: `${navbar}px`,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Switch>\n\t\t\t\t\t<Route path='/' exact component={Home} />\n\t\t\t\t\t<Route path='/portfolio' exact component={Portfolio} />\n\t\t\t\t\t<Route path='/contact' exact component={Contact} />\n\t\t\t\t\t<Route path='/servicesfull' exact component={ServicesFull} />\n\t\t\t\t\t<Route path='/vrm' component={VRM} />\n\t\t\t\t\t<Route path='/booking' component={Booking} />\n\t\t\t\t\t<Route path='/login' component={Login} />\n\t\t\t\t\t<Routes />\n\t\t\t\t</Switch>\n\t\t\t</div>\n\t\t\t<Footer />\n\t\t</Router>\n\t);\n};\n\nconst mapStateToProps = (state) => ({\n\tglobal: state.global,\n});\n\nexport default connect(mapStateToProps, { loadUser })(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\n//Redux\nimport store from './utils/store';\nimport { Provider } from 'react-redux';\n\nimport App from './App';\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<App />\n\t</Provider>,\n\tdocument.getElementById('root')\n);\n"],"sourceRoot":""}