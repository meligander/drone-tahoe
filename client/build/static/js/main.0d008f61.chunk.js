(this["webpackJsonpyt-website"]=this["webpackJsonpyt-website"]||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),r=a(14),l=a.n(r),o=a(15),n=a(33),i=a(34);const d="LOADINGSPINNER_UPDATED",j="FOOTER_HEIGHT_SETTED",m="NAVBAR_HEIGHT_SETTED",b="USERAUTH_LOADED",u="LOGIN_SUCCESS",h="LOGIN_FAIL",p="LOGOUT",g="AUTH_ERROR",O="SIGNUP_FAIL",x="SIGNUP_SUCCESS",v="EMAIL_SENT",f="EMAIL_ERROR",N="EMAIL_CLEARED",y="PASSWORD_CHANGED",_="ALERT_REMOVED",w="ALERT_SETTED",D="USER_LOADED",E="USERS_LOADED",T="USER_UPDATED",R="USER_DELETED",k="USER_ERROR",C="USERS_ERROR",S="USER_CLEARED",F="USERS_CLEARED",A="RESERVATION_LOADED",M="RESERVATIONS_LOADED",U="RESERVATION_REGISTERED",Y="RESERVATION_UPDATED",I="RESERVATION_DELETED",L="RESERVATION_CANCELED",J="RESERVATIONS_CLEARED",P="RESERVATION_CLEARED",H="RESERVATION_ERROR",B="RESERVATIONS_ERROR",V="JOBSXRESERVATIONS_LOADED",X="JOBSXRESERVATIONS_CLEARED",q="JOBSXRESERVATIONS_ERROR",G="MONTHAVAILABILITY_LOADED",W="DAYAVAILABILITY_LOADED",Z="DAY_ENABLED",K="DAY_DISABLED",z="DAYS_DISABLED",$="ADD_RESERVED_DAY",Q="DELETE_RESERVED_DAY",ee="ADD_TIME_DISABLED_DAY",te="DELETE_TIME_DISABLED_DAY",ae="DAYSAVAILABILITY_CLEARED",se="DAYSAVAILABILITY_ERROR",ce="JOB_LOADED",re="JOBS_LOADED",le="JOB_REGISTERED",oe="JOB_UPDATED",ne="JOB_DELETED",ie="JOB_ERROR",de="JOBS_ERROR",je="JOB_CLEARED",me="JOBS_CLEARED",be="PAYMENT_STATUS_UPDATED",ue="PAYMENT_ERROR",he={token:localStorage.getItem("token"),loggedUser:null,loading:!0,isAuthenticated:!1,error:"",emailSent:!1};var pe=(e=he,t)=>{const{type:a,payload:s}=t;switch(a){case b:return{...e,loading:!1,loggedUser:s,isAuthenticated:!0};case x:return{...e,loading:!1,loggedUser:s.user,isAuthenticated:!0,token:s.token};case u:return{...e,loading:!1,token:s.token};case g:return{...e,token:null,isAuthenticated:!1,loggedUser:null,loading:!1,error:s||""};case y:return{...e,token:s.token,loading:!1,loggedUser:s.user,isAuthenticated:!0};case O:case h:return{...e,error:s,loading:!1,token:null,isAuthenticated:!1,loggedUser:null};case f:return{...e,error:s,emailSent:!1};case v:return{...e,emailSent:!0,error:""};case p:return{...e,token:null,isAuthenticated:!1,loggedUser:null,loading:!0,error:""};case N:return{...e,emailSent:!1};default:return e}};const ge=[];var Oe=(e=ge,t)=>{const{type:a,payload:s}=t;switch(a){case w:return e.some((e=>e.msg===s.msg))?e:[...e,s];case _:return e.filter((e=>e.id!==s));default:return e}};const xe={loadingAvailableHours:!0,loadingDisabledDays:!0,availableHours:[],disabledDays:[],reservedDays:[],timeDisabledDays:[],error:{}};var ve=(e=xe,t)=>{const{type:a,payload:s}=t;switch(a){case G:return{...e,loadingDisabledDays:!1,disabledDays:s.disabledDays?s.disabledDays:s,...s.reservedDays&&{reservedDays:s.reservedDays},...s.timeDisabledDays&&{timeDisabledDays:s.timeDisabledDays},error:{}};case W:return{...e,loadingAvailableHours:!1,availableHours:s,error:{}};case ae:return xe;case se:return{...e,availableHours:[],loadingAvailableHours:!1,error:s};case Z:case Q:case te:const t=new Date(s.date),a=e[s.type].filter((e=>new Date(e).getTime()!==t.getTime()));return{...e,[s.type]:a};case K:case $:case ee:case z:return{...e,[s.type]:s.dates?[...e[s.type],...s.dates]:[...e[s.type],s.date]};default:return e}};const fe={loadingSpinner:!1,footer:0,navbar:0};var Ne=(e=fe,t)=>{const{type:a,payload:s}=t;switch(a){case d:return{...e,loadingSpinner:s};case m:return{...e,navbar:s};case j:return{...e,footer:s};default:return e}};const ye={loading:!0,loadingJob:!0,job:null,jobs:[],error:{}};var _e=(e=ye,t)=>{const{type:a,payload:s}=t;switch(a){case ce:return{...e,loadingJob:!1,job:s,error:{}};case re:return{...e,loading:!1,jobs:s,error:{}};case le:return{...e,loading:!1,jobs:[...e.jobs,s],error:{}};case oe:return{...e,loading:!1,job:s,loadingJob:!1,jobs:e.jobs.map((e=>e.id!==s.id?e:s)),error:{}};case ne:return{...e,jobs:e.jobs.filter((e=>e.id!==s)),loading:!1,error:{}};case me:return ye;case je:return{...e,job:null,loadingJob:!0};case ie:return{...e,job:null,loadingJob:!1,error:s};case de:return{...e,jobs:[],loading:!1,error:s};default:return e}},we=a(5),De=a.n(we);const Ee={loading:!0,loadingReservation:!0,reservation:null,reservations:[],error:{}};var Te=(e=Ee,t)=>{const{type:a,payload:s}=t;switch(a){case A:return{...e,loadingReservation:!1,reservation:s,error:{}};case M:return{...e,loading:!1,reservations:s,error:{}};case U:let t=[...e.reservations,s];return t=t.sort(((e,t)=>De()(e.hourFrom).diff(De()(t.hourFrom)))),{...e,loading:!1,reservations:t,error:{}};case L:case Y:return{...e,loadingReservation:!1,reservations:e.reservations.map((e=>e.id===s.id?s:e)),error:{}};case be:return s?{...e,loadingReservation:!1,reservations:e.reservations.map((e=>e.id===s.id?s:e)),error:{}}:e;case I:return{...e,reservations:e.reservations.filter((e=>e.id!==s)),loading:!1,error:{}};case J:return Ee;case P:return{...e,loadingReservation:!0,reservation:null,error:{}};case H:return{...e,reservation:null,loadingReservation:!1,error:s};case B:return{...e,reservations:[],loading:!1,error:s};case ue:return{...e,error:s};default:return e}};const Re={loading:!0,jobsXreservations:[],error:{}};var ke=(e=Re,t)=>{const{type:a,payload:s}=t;switch(a){case V:return{...e,loading:!1,jobsXreservations:s,error:{}};case X:return Re;case q:return{...e,jobsXreservations:[],loading:!1,error:s};default:return e}};const Ce={loading:!0,loadingUser:!0,user:null,users:[],error:{}};var Se=(e=Ce,t)=>{const{type:a,payload:s}=t;switch(a){case D:return{...e,loadingUser:!1,user:s,error:{}};case E:return{...e,loading:!1,users:s,error:{}};case T:return{...e,loading:!1,users:e.users.map((e=>e.id===s.id?s:e)),error:{}};case R:return{...e,users:e.users.filter((e=>e._id!==s)),loading:!1,error:{}};case F:return Ce;case S:return{...e,user:null,loadingUser:!0,error:{}};case k:return{...e,user:null,loadingUser:!1,error:s};case C:return{...e,users:[],loading:!1,error:s};default:return e}},Fe=Object(o.combineReducers)({alert:Oe,auth:pe,day:ve,global:Ne,job:_e,reservation:Te,jobsXreservation:ke,user:Se}),Ae=a(35),Me=a.n(Ae),Ue=a(9),Ye=Object(Ue.a)(),Ie=a(36);const Le=(e,t,a="1",s=500)=>c=>{const r=Object(Ie.v4)();c({type:w,payload:{id:r,alertType:t,msg:e,type:a,code:s}}),setTimeout((()=>c({type:_,payload:r})),5e3)},Je=e=>t=>{t({type:d,payload:e})},Pe=(e,t,a)=>async s=>{s(Je(!0));let c=!1;try{const c=await st.get("/day/".concat(e,"/").concat(t,"/").concat(a));s({type:W,payload:c.data})}catch(r){401!==r.response.status?(s(Le(r.response.data.msg,"danger","1")),s(He(se,r.response)),window.scrollTo(0,0)):c=!0}c||s(Je(!1))},He=(e,t)=>a=>{a({type:e,payload:{type:t.statusText,status:t.status,msg:t.data.msg}})},Be=(e,t)=>async a=>{t||a(Je(!0)),t&&await a(Ve());let s=!1,c="";const r=Object.keys(e);for(let t=0;t<r.length;t++){const a=r[t];""!==e[a]&&(""!==c&&(c+="&"),c=c+r[t]+"="+e[a])}try{const e=await st.get("/reservation?".concat(c));a({type:M,payload:e.data})}catch(l){401!==l.response.status?a(We(B,l.response)):s=!0}s||a(Je(!1))},Ve=()=>async e=>{try{await st.put("/reservation/status/update"),e({type:be})}catch(t){401!==t.response.status&&(e(Le(t.response.data.msg,"danger","2")),e(We(ue,t.response)))}},Xe=e=>async t=>{t(Je(!0));let a={};for(const c in e)""!==e[c]&&(a[c]=e[c]);try{let s=await st.put("/reservation/".concat(e.id),a);return t({type:Y,payload:s.data}),t(Le("Reservation Updated","success","1")),window.scrollTo(0,0),t(Je(!1)),!0}catch(s){return 401!==s.response.status&&(t(We(H,s.response)),s.response.data.errors?s.response.data.errors.forEach((e=>{t(Le(e.msg,"danger","2"))})):t(Le(s.response.data.msg,"danger","2")),t(Je(!1))),!1}},qe=(e,t)=>async a=>{a(Je(!0));let s=!1;try{await st.delete("/reservation/".concat(e.id)),a({type:I,payload:e.id});const s="hourRange"!==e.status;t&&a(((e,t)=>async a=>{a({type:t?Q:te,payload:{type:t?"reservedDays":"timeDisabledDays",date:e}})})(t,s)),a(Le("Reservation Deleted","success","1"))}catch(c){401!==c.response.status?(a(Le(c.response.data.msg,"danger","1")),a(We(H,c.response))):s=!0}s||(window.scrollTo(0,0),a(Je(!1)))},Ge=()=>e=>{e({type:J})},We=(e,t)=>a=>{a({type:e,payload:t.data.errors?t.data.errors:{type:t.statusText,status:t.status,msg:t.data.msg}})},Ze=(e,t)=>async a=>{a(Je(!0));let s=!1,c="";for(const t in e)""!==e[t]&&(c="".concat(""!==c?"".concat(c,"&"):"").concat(t,"=").concat(e[t]));try{const e=await st.get("/job?".concat(c));a({type:re,payload:e.data})}catch(r){401!==r.response.status?a(ze(de,r.response)):s=!0}t||s||a(Je(!1))},Ke=()=>e=>{e({type:me})},ze=(e,t)=>a=>{a({type:e,payload:t.data.errors?t.data.errors:{type:t.statusText,status:t.status,msg:t.data.msg}})},$e=e=>async t=>{try{const a=await st.get("/user/info");t({type:b,payload:a.data}),e&&("admin"===a.data.type?(t(Ge()),t(Ke()),Ye.push("/reservations-list")):(Ye.push("/"),t(Je(!1))))}catch(a){401!==a.response.status&&(t(Le(a.response.data.msg,"danger","1")),t(tt(g,a.response)),t(Je(!1)))}},Qe=(e,t)=>async a=>{a(Je(!0));let s={};for(const t in e)""!==e[t]&&(s[t]=e[t]);try{const e=await st.post(t?"/auth/outreach-email":"/auth/send-email",s);return a({type:v}),a(Le(e.data.msg,"success","1")),window.scrollTo(0,0),a(Je(!1)),!0}catch(c){return 401!==c.response.status&&(a(tt(f,c.response)),c.response.data.errors?c.response.data.errors.forEach((e=>{a(Le(e.msg,"danger",t?"2":"1"))})):a(Le(c.response.data.msg,"danger",t?"2":"1"))),a(Je(!1)),!1}},et=()=>e=>{e({type:p}),Ye.push("/login")},tt=(e,t)=>a=>{a({type:e,payload:t.data.errors?t.data.errors:{type:t.statusText,status:t.status,msg:t.data.msg}})},at=Me.a.create({baseURL:"/api",headers:{"Content-Type":"application/json"}});at.interceptors.response.use((e=>e),(e=>(401!==e.response.status||0!==it.getState().alert.length&&it.getState().alert.some((e=>401===e.code))||(it.dispatch(et()),it.dispatch(Le(e.response.data.msg,"danger","1",401)),it.dispatch(tt(g,e.response)),it.dispatch(Je(!1)),window.scrollTo(0,0)),Promise.reject(e))));var st=at;var ct=e=>{e?(st.defaults.headers.common["auth-token"]=e,localStorage.setItem("token",e)):(delete st.defaults.headers.common["auth-token"],localStorage.removeItem("token"))};const rt=[n.a],lt=Object(i.composeWithDevTools)({trace:!0,traceLimit:25}),ot=Object(o.createStore)(Fe,{},lt(Object(o.applyMiddleware)(...rt)));let nt={auth:{token:null,isAuthenticated:null,loading:!0,user:null}};ot.subscribe((()=>{let e=nt;if(nt=ot.getState(),e.auth.token!==nt.auth.token){const e=nt.auth.token;ct(e)}}));var it=ot,dt=a(3),jt=a(8),mt=(a(72),a(4));const bt=(e,t)=>async a=>{a(Je(!0));let s=!1;try{const s=await st.get("/res/job/reservation/".concat(e,"&").concat(t?"?type="+t:""));a({type:V,payload:s.data})}catch(c){401!==c.response.status?a(ht(q,c.response)):s=!0}s||a(Je(!1))},ut=()=>e=>{e({type:X})},ht=(e,t)=>a=>{a({type:e,payload:{type:t.statusText,status:t.status,msg:t.data.msg}})},pt=(e,t)=>async a=>{t||a(Je(!0));let s=!1,c="";for(const t in e)""!==e[t]&&(c="".concat(""!==c?"".concat(c,"&"):"").concat(t,"=").concat(e[t]));try{const e=await st.get("/user?".concat(c));a({type:E,payload:e.data})}catch(r){401!==r.response.status?a(xt(C,r.response)):s=!0}t||s||a(Je(!1))},gt=()=>e=>{e({type:S})},Ot=()=>e=>{e({type:F})},xt=(e,t)=>a=>{a({type:e,payload:t.data.errors?t.data.errors:{type:t.statusText,status:t.status,msg:t.data.msg}})};a(73);var vt=a(0);var ft=Object(dt.b)((e=>({auth:e.auth})),{logOut:et,clearReservations:Ge,clearJobs:Ke,clearUsers:Ot,setNavbarHeight:e=>t=>{t({type:m,payload:e})},clearJobsXReservations:ut})((({logOut:e,clearReservations:t,clearJobs:a,clearUsers:c,clearJobsXReservations:r,setNavbarHeight:l,auth:{loggedUser:o,loading:n}})=>{const[i,d]=Object(s.useState)(!1),[j,m]=Object(s.useState)(!0),b=()=>d(!1),u=Object(s.useRef)();Object(s.useEffect)((()=>{h(),setTimeout((()=>{l(u.current.offsetHeight)}),30)}),[l]);const h=()=>{m(window.innerWidth>960)};return window.addEventListener("resize",h),Object(vt.jsxs)("nav",{ref:u,className:"navbar",style:{justifyContent:j?"space-between":"flex-end",padding:j?"1.8rem 0.5rem":"1rem 1.2rem"},id:"top",children:[Object(vt.jsxs)("div",{className:"navbar-container",children:[Object(vt.jsx)("div",{className:"menu-icon",onClick:()=>d(!i),children:Object(vt.jsx)("i",{className:i?"fas fa-times":"fas fa-bars"})}),Object(vt.jsxs)("ul",{className:i?"nav-menu active":"nav-menu",children:[!n&&o&&Object(vt.jsx)("li",{className:"nav-links-salute",children:Object(vt.jsxs)(mt.a,{to:"/profile",onClick:()=>{b(),c(),window.scrollTo(0,0)},className:"btn-link",children:[Object(vt.jsx)("i",{className:"fas fa-user-alt"})," Hi ",o.name,"!"]})}),Object(vt.jsx)("li",{className:"nav-item ".concat(o&&"admin"===o.type?"hide":""),children:Object(vt.jsx)(mt.a,{to:"/",className:"nav-links",onClick:()=>{b(),window.scrollTo(0,0)},children:"Home"})}),!n&&o&&"admin"===o.type?Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsx)("li",{className:"nav-item",children:Object(vt.jsx)(mt.a,{to:"/reservations-list",className:"nav-links",onClick:()=>{b(),t(),a(),r(),window.scrollTo(0,0)},children:"Reservations"})}),Object(vt.jsx)("li",{className:"nav-item",children:Object(vt.jsx)(mt.a,{to:"/schedule",className:"nav-links",onClick:()=>{b(),t(),window.scrollTo(0,0)},children:"Schedule"})}),Object(vt.jsx)("li",{className:"nav-item",children:Object(vt.jsx)(mt.a,{to:"/users-list",className:"nav-links",onClick:()=>{b(),c(),window.scrollTo(0,0)},children:"Users"})}),Object(vt.jsx)("li",{className:"nav-item",children:Object(vt.jsx)(mt.a,{to:"/jobs-list",className:"nav-links",onClick:()=>{b(),a(),window.scrollTo(0,0)},children:"Jobs"})}),Object(vt.jsx)("li",{className:"nav-item",children:Object(vt.jsx)(mt.a,{to:"/outreach",className:"nav-links",onClick:()=>{b(),a(),r(),window.scrollTo(0,0)},children:"Outreach"})})]}):Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsx)("li",{className:"nav-item",children:Object(vt.jsx)(mt.a,{to:"/servicesfull",className:"nav-links",onClick:()=>{b(),a(),window.scrollTo(0,0)},children:"Services"})}),Object(vt.jsx)("li",{className:"nav-item",style:!n&&o?{order:5}:null,children:Object(vt.jsx)(mt.a,{to:"/portfolio",className:"nav-links",onClick:()=>{b(),window.scrollTo(0,0)},children:"Portfolio"})}),Object(vt.jsx)("li",{className:"nav-item",style:!n&&o?{order:4}:null,children:Object(vt.jsx)(mt.a,{to:!n&&o?"/reservation/0":"/contact",className:"nav-links",onClick:()=>{b(),window.scrollTo(0,0),!n&&o&&(t(),a())},children:!n&&o?"Reservations":"Contact"})})]}),Object(vt.jsx)("li",{className:"nav-item",style:!n&&o?{order:6}:null,children:Object(vt.jsx)(mt.a,{to:!n&&o?"/":"/login",onClick:()=>{!n&&o&&e(),b(),window.scrollTo(0,0)},className:"nav-links-mobile btn btn-outline",children:!n&&o?"Log Out":"Log In"})})]})]}),!n&&o&&Object(vt.jsx)("div",{className:"nav-salute",children:Object(vt.jsxs)(mt.a,{to:"/profile",onClick:()=>{window.scrollTo(0,0),c()},className:"btn-link",children:["Hi ",o.name,"!"]})}),j&&Object(vt.jsx)("div",{className:"nav-button",children:Object(vt.jsx)(mt.a,{to:!n&&o?"/":"/login",onClick:()=>{!n&&o&&e(),window.scrollTo(0,0)},className:"btn btn-outline",children:!n&&o?"Log Out":"Log In"})})]})})),Nt=a.p+"static/media/logoDRONE-dark-cropped-final.b2f133be.png";a(79);var yt=Object(dt.b)(null,{setFooterHeight:e=>t=>{t({type:j,payload:e})}})((function({setFooterHeight:e}){const t=Object(s.useRef)(),a=new Date;return Object(s.useEffect)((()=>{setTimeout((()=>{e(t.current.offsetHeight)}),80)}),[e]),Object(vt.jsx)("div",{className:"footer-container",ref:t,children:Object(vt.jsx)("section",{className:"social-media",children:Object(vt.jsxs)("div",{className:"social-media-wrap",children:[Object(vt.jsx)("div",{className:"social-media-wrap-section",children:Object(vt.jsxs)("big",{className:"website-rights",children:["DRONE TAHOE \xa9 ",a.getFullYear()]})}),Object(vt.jsx)("div",{className:"social-media-wrap-section",children:Object(vt.jsx)("div",{className:"footer-logo",children:Object(vt.jsx)(mt.a,{to:"/",onClick:()=>window.scrollTo(0,0),className:"social-logo",children:Object(vt.jsx)("img",{src:Nt,className:"footer-logo",alt:""})})})}),Object(vt.jsx)("div",{className:"social-media-wrap-section",children:Object(vt.jsxs)("div",{className:"social-icon",children:[Object(vt.jsx)(mt.a,{className:"social-icon-link facebook",to:{pathname:"https://www.facebook.com/profile.php?id=100054789366613"},target:"_blank","aria-label":"Facebook",children:Object(vt.jsx)("i",{className:"fab fa-facebook-f"})}),Object(vt.jsx)(mt.a,{className:"social-icon-link instagram",to:{pathname:"https://www.instagram.com/dronetahoe/"},target:"_blank","aria-label":"Instagram",children:Object(vt.jsx)("i",{className:"fab fa-instagram"})}),Object(vt.jsx)(mt.a,{className:"social-icon-link youtube",to:{pathname:"https://vimeo.com/user153997361"},target:"_blank","aria-label":"Vimeo",children:Object(vt.jsx)("i",{className:"fab fa-vimeo-v"})}),Object(vt.jsx)(mt.a,{className:"social-icon-link twitter",to:{pathname:"https://twitter.com/Drone_Tahoe"},target:"_blank","aria-label":"Twitter",children:Object(vt.jsx)("i",{className:"fab fa-twitter"})})]})})]})})})})),_t=(a(80),a.p+"static/media/landing-video.a3b6255a.m4v");var wt=Object(dt.b)((e=>({auth:e.auth})))((({clearReservations:e,clearJobs:t,auth:{loggedUser:a}})=>Object(vt.jsxs)("div",{className:"hero-container",children:[Object(vt.jsx)("video",{className:"hero-container-video",src:_t,autoPlay:!0,loop:!0,muted:!0,playsInline:!0}),Object(vt.jsx)("div",{className:"hero-container-image"}),Object(vt.jsxs)("div",{className:"hero-box",children:[Object(vt.jsx)("div",{className:"hero-container-logo",children:Object(vt.jsx)("img",{src:Nt,alt:"",className:"hero-container-logo-img"})}),Object(vt.jsx)("p",{className:"hero-subheading",children:"Drone Mapping, Inspection, and Walkthrough Services in North Lake Tahoe"}),Object(vt.jsx)("div",{className:"hero-button",children:Object(vt.jsx)(mt.a,{to:!a||a&&"admin"!==a.type?"/reservation/0":"/reservations-list",onClick:()=>{e(),t(),window.scrollTo(0,0)},className:"btn btn-primary",children:!a||a&&"admin"!==a.type?"Schedule Now":"Reservations"})})]}),Object(vt.jsxs)("div",{className:"hero-bottom",children:["360 Virtual Walkthrough brings drone data + 360 videos and photos into one solution -"," ",Object(vt.jsx)("span",{children:Object(vt.jsx)(mt.a,{to:"/vrm",onClick:()=>window.scrollTo(0,0),className:"btn-link",children:"Learn More"})})]})]})));a(81);var Dt=Object(dt.b)((e=>({auth:e.auth})))((({clearReservations:e,clearJobs:t,auth:{loggedUser:a}})=>Object(vt.jsxs)("section",{className:"about",id:"about",children:[Object(vt.jsxs)("div",{className:"about-text",children:[Object(vt.jsx)("h2",{className:"heading-secondary-gradient",children:"WE\u2019RE DREAMERS, BELIEVERS, & ACHIEVERS"}),Object(vt.jsx)("p",{className:"about-text-description",children:"Our dream of engineering, building and flying sUAS drones equipped w/ First Person View (FPV) began in 1976. DRONE TAHOE now has over 50 combined years of career military & commercial aviation experience."}),Object(vt.jsx)("p",{className:"about-text-description",children:"Dreams do come true!"}),Object(vt.jsxs)("div",{className:"about-text-description",children:[Object(vt.jsx)("p",{children:"Credentials include:"}),Object(vt.jsxs)("ul",{className:"about-credentials",children:[Object(vt.jsxs)("li",{className:"about-credentials-item",children:[" ","FAA sUAS Pilot Certification"," "]}),Object(vt.jsx)("li",{className:"about-credentials-item",children:"NTSB Aviation Accident Investigation Certification"})]})]})]}),Object(vt.jsx)("div",{className:"about-text-link",children:Object(vt.jsx)(mt.a,{to:!a||a&&"admin"!==a.type?"/reservation/0":"/reservations-list",onClick:()=>{e(),t(),window.scrollTo(0,0)},className:"btn",children:!a||a&&"admin"!==a.type?"Schedule Your Project Today":"Reservations"})}),Object(vt.jsx)("div",{className:"about-image"})]})));var Et=Object(dt.b)(null,{clearReservations:Ge,clearJobs:Ke})((({image:e,title:t,details:a,job:s,clearReservations:c,clearJobs:r})=>Object(vt.jsxs)("div",{className:"services-section-item",children:[Object(vt.jsx)("img",{src:e,className:"services-section-item-image",alt:""}),Object(vt.jsxs)("div",{className:"services-section-item-text",children:[Object(vt.jsx)("h3",{className:"services-section-item-heading",children:t}),Object(vt.jsxs)("div",{className:"services-section-item-sub",children:[Object(vt.jsx)("h5",{className:"services-section-item-sub-details",children:a}),Object(vt.jsx)(mt.a,{to:"/reservation/".concat(s),onClick:()=>{c(),r()},className:"btn btn-tertiary",children:"Book Now"})]})]})]}))),Tt=(a(82),a.p+"static/media/construction.664e6551.jpg"),Rt=a.p+"static/media/inspection.843d2f0f.jpg",kt=a.p+"static/media/elevation-map.17e190b0.jpg";var Ct=()=>Object(vt.jsxs)("div",{className:"services-section",id:"services",children:[Object(vt.jsx)(mt.a,{to:"/servicesfull",onClick:()=>window.scrollTo(0,0),className:"services-heading-link",children:Object(vt.jsx)("h2",{className:"services-heading",children:"Services"})}),Object(vt.jsxs)("div",{className:"services-section-items",children:[Object(vt.jsx)(Et,{image:Tt,title:"Construction",details:"Create accurate, high-resolution digital replicas with 3D models, real-time 2D maps, and 360 virtual tours for any construction site.",job:"3"}),Object(vt.jsx)(Et,{image:Rt,title:"Inspection",details:"Commercial, Residential, Architecture, Legal, Resort, Tall Structures, Towers, Live View! (UHD)",job:"4"}),Object(vt.jsx)(Et,{image:kt,title:"Mapping",details:"Mapping of any size parcel. Accurate to 1\u201d.",job:"1"})]}),Object(vt.jsx)("div",{children:Object(vt.jsx)(mt.a,{to:"/servicesfull",onClick:()=>window.scrollTo(0,0),className:"btn",children:"See All Services"})})]}),St=(a(83),a.p+"static/media/bruin.c3c4b2f1.jpg"),Ft=a.p+"static/media/brassfield.d8a6f31e.jpg",At=a.p+"static/media/corteva.e0f1eadd.jpg",Mt=a.p+"static/media/mccarthy.abf978dd.jpg",Ut=a.p+"static/media/tahoenalu.140d5b2b.jpg",Yt=a.p+"static/media/tahoegal.1decac46.jpg",It=a.p+"static/media/tahoeyachtclub.81f2640c.jpg",Lt=a.p+"static/media/tgma.ad01854b.jpg",Jt=a.p+"static/media/eaa.ead83013.jpg",Pt=a.p+"static/media/greybluerealty.58255b7d.jpg";var Ht=()=>Object(vt.jsx)("div",{className:"testimonials",children:Object(vt.jsxs)("div",{className:"testimonials-clients",children:[Object(vt.jsx)("h2",{className:"testimonials-clients-heading",children:"Clients"}),Object(vt.jsx)("p",{className:"testimonials-clients-subheading",children:"We have recently worked with the following satisfied clients:"}),Object(vt.jsxs)("div",{className:"testimonials-clients-group",children:[Object(vt.jsx)("img",{src:Ut,alt:"Tahoe Nalu",className:"testimonials-clients-group-item gray"}),Object(vt.jsx)("img",{src:Ft,alt:"Brass Field",className:"testimonials-clients-group-item"}),Object(vt.jsx)("img",{src:It,alt:"Tahoe Yacth Club",className:"testimonials-clients-group-item gray"}),Object(vt.jsx)("img",{src:Mt,alt:"Mccarthy",className:"testimonials-clients-group-item"}),Object(vt.jsx)("img",{src:Yt,alt:"Tahoe Gal",className:"testimonials-clients-group-item gray"})]}),Object(vt.jsxs)("div",{className:"testimonials-clients-group",children:[Object(vt.jsx)("img",{src:Jt,alt:"EAA",className:"testimonials-clients-group-item gray"}),Object(vt.jsx)("img",{src:Pt,alt:"Grey Blue",className:"testimonials-clients-group-item gray"}),Object(vt.jsx)("img",{src:At,alt:"Corteva",className:"testimonials-clients-group-item"}),Object(vt.jsx)("img",{src:Lt,alt:"TGMA",className:"testimonials-clients-group-item gray"}),Object(vt.jsx)("img",{src:St,alt:"Bruin",className:"testimonials-clients-group-item smaller"})]})]})});a(84);var Bt=Object(dt.b)((e=>({alerts:e.alert})))((({alerts:e,type:t,classType:a})=>null!==e&&e.map((e=>Object(vt.jsx)(c.a.Fragment,{children:e.type===t&&Object(vt.jsx)("div",{className:"alert alert-".concat(e.alertType," ").concat(a),children:e.msg})},e.id))))),Vt=a.p+"static/media/spinner.e2ffacc9.gif";var Xt=Object(dt.b)((e=>({global:e.global})))((({global:{loadingSpinner:e}})=>Object(vt.jsx)(vt.Fragment,{children:e&&Object(vt.jsx)("div",{className:"blurr-bg",style:{zIndex:1e3},children:Object(vt.jsx)("img",{src:Vt,style:{width:"300px",display:"flex",margin:"0 auto"},alt:""})})})));a(85);var qt=Object(dt.b)((e=>({auth:e.auth})),{sendEmail:Qe})((({sendEmail:e,auth:{loggedUser:t}})=>{const[a,c]=Object(s.useState)({name:"",lastname:"",phone:"",email:"",company:"",experience:"",message:""}),{name:r,lastname:l,phone:o,email:n,company:i,experience:d,message:j}=a,m=e=>{c((t=>({...t,[e.target.id]:e.target.value})))};return Object(vt.jsxs)("div",{className:"booking",id:"booking",children:[Object(vt.jsx)(Xt,{}),Object(vt.jsx)("section",{className:"section-book",id:"section-booking",children:Object(vt.jsx)("div",{className:"row",children:Object(vt.jsx)("div",{className:"book",children:Object(vt.jsx)("div",{className:"book__form",children:Object(vt.jsxs)("form",{onSubmit:s=>{s.preventDefault(),e({...a,...t&&{name:t.name,lastname:t.lastname,phone:t.cel,email:t.email}})},className:"form",id:"form",children:[Object(vt.jsxs)("div",{className:"u-margin-bottom-6 booking-title",children:[Object(vt.jsx)("h2",{className:"booking-title-heading",children:"Contact Us"}),Object(vt.jsx)("h3",{className:"booking-title-subheading",children:"Let us know a little bit about your project and we'll take it from there."})]}),Object(vt.jsx)(Bt,{type:"1"}),!t&&Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsx)("div",{className:"form__group",children:Object(vt.jsxs)("div",{className:"form__group-sub",children:[Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",value:r,onChange:m,name:"name",placeholder:"First Name",id:"name",required:!0}),Object(vt.jsx)("label",{htmlFor:"nafme",className:"form__label",children:"First Name"})]}),Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",name:"lastname",value:l,onChange:m,placeholder:"Last Name",id:"lastname",required:!0}),Object(vt.jsx)("label",{htmlFor:"lastname",className:"form__label",children:"Last Name"})]})]})}),Object(vt.jsx)("div",{className:"form__group",children:Object(vt.jsxs)("div",{className:"form__group-sub",children:[Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",name:"phone",value:o,onChange:m,placeholder:"Phone",id:"phone",required:!0}),Object(vt.jsx)("label",{htmlFor:"phone",className:"form__label",children:"Phone"})]}),Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"email",className:"form__input",name:"email",placeholder:"Email Address",value:n,onChange:m,id:"email",required:!0}),Object(vt.jsx)("label",{htmlFor:"email",className:"form__label",children:"Email Address"})]})]})})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",name:"company",value:i,onChange:m,placeholder:"Company Name",id:"company"}),Object(vt.jsx)("label",{htmlFor:"company",className:"form__label",children:"Company Name"})]}),Object(vt.jsxs)("div",{style:{width:"100%"},children:[Object(vt.jsx)("label",{htmlFor:"experience",className:"form__label",children:"What's Your Experience With Drones?"}),Object(vt.jsxs)("select",{id:"experience",className:"form__input space ".concat(""===d?"empty":""),value:d,onChange:m,name:"experience",children:[Object(vt.jsx)("option",{value:"",children:"* Select your Experience"}),Object(vt.jsx)("option",{value:"Own Drones",children:"Own Drones"}),Object(vt.jsx)("option",{value:"Use Third Party Drone Services",children:"Use Third Party Drone Services"}),Object(vt.jsx)("option",{value:"Interested in Using Drones",children:"Interested in Using Drones"}),Object(vt.jsx)("option",{value:"Not Interested in Using Drones",children:"Not Interested in Using Drones"})]})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("textarea",{type:"text",value:j,onChange:m,className:"form__input",name:"message",placeholder:"Tell us About Your Project",id:"message"}),Object(vt.jsx)("label",{htmlFor:"message",className:"form__label",children:"Tell us About Your Project"})]}),Object(vt.jsx)("div",{className:"form__group",children:Object(vt.jsx)("button",{type:"submit",className:"btn btn-secondary",children:"Submit \u2192"})})]})})})})})]})}));var Gt=Object(dt.b)((e=>({auth:e.auth})),{clearJobs:Ke,clearReservations:Ge})((({clearReservations:e,clearJobs:t,auth:{loggedUser:a}})=>Object(vt.jsxs)("div",{children:[Object(vt.jsx)(wt,{clearJobs:t,clearReservations:e}),Object(vt.jsx)(Ct,{}),Object(vt.jsx)(Dt,{clearJobs:t,clearReservations:e}),Object(vt.jsx)(Ht,{}),(!a||a&&"admin"!==a.type)&&Object(vt.jsx)(qt,{})]})));a(86);function Wt(){return c.a.useEffect((()=>{window.scrollTo(0,0)})),Object(vt.jsxs)("div",{children:[Object(vt.jsxs)("div",{className:"contact",children:[Object(vt.jsx)("h1",{className:"contact-heading",children:"Get in Touch with Us."}),Object(vt.jsx)("h3",{className:"contact-subheading",children:"Do not hesitate to reach out with any questions. We'll be in touch."})]}),Object(vt.jsx)(qt,{})]})}a(87);var Zt=Object(dt.b)((e=>({job:e.job})),{loadJobs:Ze})((({loadJobs:e,job:{jobs:t,loading:a}})=>(Object(s.useEffect)((()=>{a&&e({})}),[a,e]),Object(vt.jsxs)("div",{className:"servicesfull",id:"servicesfull",children:[Object(vt.jsx)("h2",{className:"heading-primary",children:"Our Services"}),Object(vt.jsx)(Xt,{}),Object(vt.jsx)("div",{className:"card-services",children:!a&&t.map(((e,t)=>Object(vt.jsx)("div",{className:"card",children:Object(vt.jsxs)("div",{className:"card-inner",children:[Object(vt.jsx)("div",{className:"card-front card-front-".concat(t+1),children:Object(vt.jsx)("h4",{className:"card-heading card-heading-".concat(t+1),children:Object(vt.jsx)("span",{className:"card-heading-span card-heading-span-".concat(t+1),children:e.title})})}),Object(vt.jsx)("div",{className:"card-back card-back-".concat(t+1),children:Object(vt.jsxs)("div",{className:"card-cta",children:[Object(vt.jsxs)("div",{className:"card-price-box",children:[Object(vt.jsx)("p",{className:"card-price-only",children:e.subtitle}),Object(vt.jsx)("p",{className:"card-price-value",children:e.poptext})]}),Object(vt.jsx)("div",{className:"popup-button",children:Object(vt.jsx)(mt.a,{to:"/booking",onClick:()=>window.scrollTo(0,0),className:"btn btn-quaternary",children:"Contact Us"})})]})})]})},t)))})]})))),Kt=(a(88),a.p+"static/media/global.fc9ea976.png"),zt=a.p+"static/media/progress.9a7ba162.png",$t=a.p+"static/media/safety.c8723814.png";var Qt=()=>Object(vt.jsxs)("div",{children:[Object(vt.jsx)("div",{className:"vrm-header",id:"vrm",children:Object(vt.jsxs)("div",{className:"vrm-header-section",children:[Object(vt.jsx)("h1",{className:"vrm-header-text",children:"Virtual Reality Management with 360 Virtual Walkthrough"}),Object(vt.jsx)("h2",{className:"vrm-header-subtext",children:"Unlimited perspectives in one solution."})]})}),Object(vt.jsxs)("section",{className:"vrm-benefits",children:[Object(vt.jsxs)("div",{className:"vrm-benefits-item",children:[Object(vt.jsx)("img",{src:zt,className:"vrm-benefits-item-image",alt:"global"}),Object(vt.jsxs)("div",{children:[Object(vt.jsx)("h3",{className:"vrm-benefits-item-heading",children:"Complete Site Documentation"}),Object(vt.jsx)("h5",{className:"vrm-benefits-item-text",children:"DroneTahoe digitizes your entire site with drones and 360 cameras."})]})]}),Object(vt.jsxs)("div",{className:"vrm-benefits-item",children:[Object(vt.jsx)("img",{src:Kt,className:"vrm-benefits-item-image",alt:"progress"}),Object(vt.jsxs)("div",{children:[Object(vt.jsx)("h3",{className:"vrm-benefits-item-heading",children:"One Solution for Entire Site Reality"}),Object(vt.jsx)("h5",{className:"vrm-benefits-item-text",children:"Analyze drone and 360 data on one mobile platform."})]})]}),Object(vt.jsxs)("div",{className:"vrm-benefits-item",children:[Object(vt.jsx)("img",{src:$t,className:"vrm-benefits-item-image",alt:"maps"}),Object(vt.jsxs)("div",{children:[Object(vt.jsx)("h3",{className:"vrm-benefits-item-heading",children:"Increase Safety, Decrease Rework"}),Object(vt.jsx)("h5",{className:"vrm-benefits-item-text",children:"Catch issues earlier than ever with visual data."})]})]})]}),Object(vt.jsxs)("section",{className:"vrm-description",children:[Object(vt.jsx)("div",{className:"vrm-description-img img1"}),Object(vt.jsx)("p",{className:"vrm-description-text",children:"DroneTahoe takes interior, exterior and aerial imagery of your job site and digitizes it into Virtual Reality. Once digitized, your entire team can inspect, validate, and comprehend site progress \u2013 no matter where they are in the world - with a 360\xb0 perspective."}),Object(vt.jsxs)("div",{className:"vrm-group",children:[Object(vt.jsx)("img",{src:St,alt:"",className:"vrm-group-item"}),Object(vt.jsx)("img",{src:Ft,alt:"",className:"vrm-group-item"}),Object(vt.jsx)("img",{src:At,alt:"",className:"vrm-group-item"}),Object(vt.jsx)("img",{src:Mt,alt:"",className:"vrm-group-item"})]})]}),Object(vt.jsx)(qt,{})]});a(89);var ea=()=>Object(vt.jsxs)("div",{className:"portfolio",children:[Object(vt.jsx)("h1",{className:"heading-primary",children:"Portfolio"}),Object(vt.jsx)("h2",{className:"heading-primary-subheading",children:"A few examples of our recent work:"}),Object(vt.jsxs)("div",{className:"portfolio-group",children:[Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/630298172?h=481cc9d119&badge=0&autopause=0&player_id=0&app_id=58479",frameborder:"0",allow:"autoplay; fullscreen; picture-in-picture",allowfullscreen:!0,title:"Phoenix Rising"}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"Phoenix Rising"})]}),Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/631210506?h=b5af32c692&badge=0&autopause=0&player_id=0&app_id=58479",title:"Vimeo video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"Martis House Layout"})]}),Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/643232672?h=ceaec90017&badge=0&autopause=0&player_id=0&app_id=58479",title:"Vimeo video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"Fannette Island 3D Model"})]}),Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/643238467?h=a248a1f339&badge=0&autopause=0&player_id=0&app_id=58479",title:"Vimeo video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"Emerald Bay Teahouse Fantasy Full Moon"})]}),Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/631124253?h=8cccc7bfec&badge=0&autopause=0&player_id=0&app_id=58479",title:"Vimeo video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"Phoenix Rising Roof Barcode"})]}),Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/643418675?h=544a013c78&badge=0&autopause=0&player_id=0&app_id=58479",title:"Vimeo video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"Emerald Bay & Granite Lake"})]}),Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/643385157?h=ae7d4a6f15&badge=0&autopause=0&player_id=0&app_id=58479",title:"Vimeo video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"Eagle Falls 2021"})]}),Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/643244364?h=ebcd7c5215&badge=0&autopause=0&player_id=0&app_id=58479",title:"Vimeo video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"Lake Azure"})]}),Object(vt.jsxs)("div",{className:"portfolio-group-item",children:[Object(vt.jsx)("iframe",{className:"portfolio-item",src:"https://player.vimeo.com/video/643279221?h=25bb357e5c&badge=0&autopause=0&player_id=0&app_id=58479",title:"Vimeo video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; fullscreen",allowFullScreen:!0}),Object(vt.jsx)("h2",{className:"portfolio-item-caption",children:"South Yuba River Running #1"})]})]})]}),ta=a(39),aa=a(40),sa=a.n(aa);a(90);var ca=Object(dt.b)((e=>({auth:e.auth})),{facebookLogin:e=>async t=>{let a=!1;try{const a=await st.post("/auth/facebooklogin",e);t({type:u,payload:a.data}),t($e(!0))}catch(s){401!==s.response.status?(t(Le(s.response.data.msg,"danger","1")),t(tt(h,s.response)),t(Je(!1))):a=!0}a||window.scrollTo(0,0)},googleLogin:e=>async t=>{let a=!1;try{const a=await st.post("/auth/googlelogin",e);t({type:u,payload:a.data}),t($e(!0))}catch(s){401!==s.response.status?(t(Le(s.response.data.msg,"danger","1")),t(tt(h,s.response)),t(Je(!1))):a=!0}a||window.scrollTo(0,0)},loginUser:e=>async t=>{t(Je(!0));let a=!1,s={};for(const r in e)""!==e[r]&&(s[r]=e[r]);try{const e=await st.post("/auth",s);t({type:u,payload:e.data}),t($e(!0))}catch(c){401!==c.response.status?(t(tt(h,c.response)),c.response.data.errors?c.response.data.errors.forEach((e=>{t(Le(e.msg,"danger","1"))})):t(Le(c.response.msg,"danger","1")),t(Je(!1))):a=!0}a||window.scrollTo(0,0)},setAlert:Le,sendPasswordLink:e=>async t=>{t(Je(!0));let a=!1;try{const a=await st.put("/auth/password",{email:e});t({type:v}),t(Le(a.data.msg,"success","1"))}catch(s){401!==s.response.status?(t(tt(g,s.response)),s.response.data.errors?s.response.data.errors.forEach((e=>{t(Le(e.msg,"danger","1"))})):t(Le(s.response.data.msg,"danger","1"))):a=!0}a||(window.scrollTo(0,0),t(Je(!1)))},updateLoadingSpinner:Je})((({facebookLogin:e,googleLogin:t,loginUser:a,setAlert:c,sendPasswordLink:r,updateLoadingSpinner:l})=>{const[o,n]=Object(s.useState)({email:"",password:""}),{email:i,password:d}=o,[j,m]=Object(s.useState)({forgotPassword:!1}),{forgotPassword:b}=j,u=e=>{n({...o,[e.target.name]:e.target.value})};return Object(vt.jsxs)("div",{className:"section-login",children:[Object(vt.jsx)(Xt,{}),Object(vt.jsx)("div",{className:"login",children:Object(vt.jsxs)("div",{className:"login-card",children:[Object(vt.jsxs)("form",{onSubmit:e=>{e.preventDefault(),b?r(i):a(o)},className:"form",children:[Object(vt.jsx)("h2",{className:"heading-primary",children:b?"Change Password":"Login"}),b?Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsx)("div",{className:"form-section",children:Object(vt.jsxs)("div",{className:"form-group",children:[Object(vt.jsx)("input",{className:"form__input",type:"email",name:"email",value:i,onChange:e=>u(e),placeholder:"Email"}),Object(vt.jsx)("label",{htmlFor:"email",className:"form__label",children:"Email"})]})}),Object(vt.jsxs)("div",{className:"u-center-text",children:[Object(vt.jsx)("div",{className:"login-btn",children:Object(vt.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Send Link"})}),Object(vt.jsx)("p",{className:"login-card-sign",children:"An email will be sent to the email address so you can change the password."}),Object(vt.jsx)("p",{className:"login-card-sign",children:"Please, check your spam folder before resendig the email."})]}),Object(vt.jsx)("br",{}),Object(vt.jsx)("button",{className:"btn-link",onClick:()=>m((e=>({...e,forgotPassword:!1}))),children:"Go Back"})]}):Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsxs)("div",{className:"form-section",children:[Object(vt.jsx)(Bt,{type:"1"}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"email",name:"email",value:i,onChange:e=>u(e),placeholder:"Email"}),Object(vt.jsx)("label",{htmlFor:"email",className:"form__label",children:"Email"})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"password",value:d,name:"password",onChange:e=>u(e),placeholder:"Password"}),Object(vt.jsx)("label",{htmlFor:"name",className:"form__label",children:"Password"})]})]}),Object(vt.jsxs)("div",{className:"u-center-text",children:[Object(vt.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Sign In"}),Object(vt.jsxs)("p",{className:"login-card-sign",children:["Don't have an account? \xa0",Object(vt.jsx)(mt.a,{className:"btn-link",onClick:()=>window.scrollTo(0,0),to:"/signup",children:"Sign up"})]}),Object(vt.jsxs)("p",{className:"login-card-sign",children:["Forgot password? \xa0",Object(vt.jsx)("button",{className:"btn-link",onClick:()=>m((e=>({...e,forgotPassword:!0}))),children:"Change Password"})]}),Object(vt.jsxs)("div",{className:"login-card-smedia",children:[Object(vt.jsx)(ta.GoogleLogin,{clientId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_GOOGLE_KEY,buttonText:"Login",className:"btn-google",onRequest:()=>l(!0),onSuccess:e=>{t({tokenId:e.tokenId})},onFailure:e=>{console.log(e.error),l(!1),c("Error login in","danger","2")},cookiePolicy:"single_host_origin"}),Object(vt.jsx)("span",{className:"btn-facebook",children:Object(vt.jsx)(sa.a,{onClick:()=>l(!0),appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FACEBOOK_KEY,autoLoad:!1,textButton:Object(vt.jsx)("i",{className:"fab fa-facebook-f"}),callback:t=>{e({accessToken:t.accessToken,userID:t.userID})}})})]})]})]})]}),Object(vt.jsx)("div",{className:"login-img img"})]})})]})}));var ra=Object(dt.b)((e=>({auth:e.auth})))((({component:e,auth:{loggedUser:t,loading:a,token:s},types:c,path:r})=>{if(!a&&s){let a=!1;if(0===c.length)a=!0;else for(let e=0;e<c.length;e++)if(c[e]===t.type){a=!0;break}return a?Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsx)(Xt,{}),Object(vt.jsx)(jt.b,{exact:!0,path:r,component:e})]}):Object(vt.jsx)(jt.a,{to:"/"})}return null===s?Object(vt.jsx)(jt.a,{to:"/login"}):Object(vt.jsx)(Xt,{})}));var la=Object(dt.b)((e=>({auth:e.auth})))((({component:e,auth:{isAuthenticated:t,userLogged:a},path:s})=>t?Object(vt.jsx)(jt.a,{to:a&&"customer"===a.type?"/":"/reservations-list"}):Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsx)(Xt,{}),Object(vt.jsx)(jt.b,{exact:!0,path:s,component:e})]})));a(91);var oa=Object(dt.b)((e=>({auth:e.auth,user:e.user})),{signup:e=>async t=>{t(Je(!0));let a=!1,s={};for(const r in e)""!==e[r]&&(s[r]=e[r]);try{await st.post("/auth/signup",s),t({type:v})}catch(c){401!==c.response.status?(t(tt(O,c.response)),c.response.data.errors?c.response.data.errors.forEach((e=>{t(Le(e.msg,"danger","1"))})):t(Le(c.response.data.msg,"danger","1")),window.scrollTo(0,0)):a=!0}a||t(Je(!1))},updateUser:(e,t)=>async a=>{a(Je(!0));let s=!1,c={};for(const t in e)""!==e[t]&&(c[t]=e[t]);try{const s=await st.put("/user/".concat(e.id),c);a({type:t?b:T,payload:s.data}),a(Le("".concat(t?"Profile":"User"," Successfully Updated"),"success","1")),t||(a(Ge()),Ye.goBack())}catch(r){401!==r.response.status?(a(xt(k,r.response)),r.response.data.errors?r.response.data.errors.forEach((e=>{a(Le(e.msg,"danger","1"))})):a(Le(r.response.data.msg,"danger","1"))):s=!0}s||(window.scrollTo(0,0),a(Je(!1)))},loadUser:e=>async t=>{t(Je(!0));let a=!1;try{const a=await st.get("/user/".concat(e));t({type:D,payload:a.data})}catch(s){401!==s.response.status?(t(Le(s.response.data.msg,"danger","1")),t(xt(k,s.response))):a=!0}a||t(Je(!1))},clearEmailSent:()=>e=>{e({type:N})}})(Object(jt.g)((({auth:{loggedUser:e,isAuthenticated:t,loading:a,emailSent:c},user:{user:r,loadingUser:l},location:o,match:n,signup:i,loadUser:d,updateUser:j,clearEmailSent:m})=>{const b=e&&"admin"===e.type,u=n.params.user_id;let h=o.pathname.replace("/","");u&&(h=h.replace("/".concat(u),""));const[p,g]=Object(s.useState)({id:"",name:"",lastname:"",email:"",password:"",passwordConf:"",cel:"",type:""}),{name:O,lastname:x,email:v,password:f,cel:N,type:y,passwordConf:_}=p;Object(s.useEffect)((()=>{let t;(!t&&"signup"!==h&&""===v||"profile"===h&&v!==e.email)&&(m(),u?l?d(u):t=r:t=e,t&&g((e=>({...e,id:t.id,name:t.name,lastname:t.lastname,type:t.type,email:t.email,cel:"0"===t.cel?"":t.cel}))))}),[e,l,r,u,d,v,h,m]),Object(s.useEffect)((()=>{c&&window.scrollTo(0,0)}),[c]);const w=e=>{g((t=>({...t,[e.target.id]:e.target.value})))},D=async e=>{e.preventDefault(),"signup"===h?i(p):j(p,"profile"===h)};return(!t||!a)&&Object(vt.jsxs)("div",{className:"user",children:[Object(vt.jsx)("h2",{className:"heading-primary",children:(()=>{switch(h){case"profile":return Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsx)("i",{className:"fas fa-user-alt"}),"\xa0My Profile"]});case"signup":return Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsx)("i",{className:"fas fa-user-plus"}),"\xa0New account"]});case"edit-user":return Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsx)("i",{className:"fas fa-user-edit"}),"\xa0Edit User"]})}})()}),c?Object(vt.jsx)("div",{className:"user-email u-center-text",children:Object(vt.jsxs)("div",{children:[Object(vt.jsx)("i",{className:"fas fa-envelope user-email-icon"}),Object(vt.jsxs)("h4",{className:"user-email-text",children:["We've sent an email to"," ",Object(vt.jsx)("span",{className:"user-email-text-email",children:v}),".",Object(vt.jsx)("br",{}),"Click the confirmation link in that email to start using our servicies."]}),Object(vt.jsxs)("div",{className:"user-email-subtext",children:[Object(vt.jsx)("p",{children:"If you did not recieve the email,\xa0"}),Object(vt.jsx)("button",{type:"button",onClick:D,className:"btn-link",children:"resend it."}),Object(vt.jsx)("br",{}),Object(vt.jsx)("p",{children:"Check the spam folder to be sure it was not sent."})]})]})}):Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsx)(Bt,{type:"1"}),Object(vt.jsxs)("form",{className:"form",onSubmit:D,children:[Object(vt.jsx)("div",{className:"form__group",children:Object(vt.jsxs)("div",{className:"form__group-sub",children:[Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",placeholder:"First Name",id:"name",onChange:w,value:O}),Object(vt.jsx)("label",{htmlFor:"name",className:"form__label",children:"First Name"})]}),Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",placeholder:"Last Name",id:"lastname",onChange:w,value:x}),Object(vt.jsx)("label",{htmlFor:"lastname",className:"form__label",children:"Last Name"})]})]})}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:v,id:"email",disabled:"signup"!==h,onChange:w,placeholder:"Email"}),Object(vt.jsx)("label",{htmlFor:"email",className:"form__label",children:"Email"})]}),b&&Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsxs)("select",{className:"form__input ".concat(""===y?"empty":""),name:"type",id:"type",value:y,onChange:w,children:[Object(vt.jsx)("option",{value:"",children:"* Select user type"}),Object(vt.jsx)("option",{value:"admin",children:"Admin"}),Object(vt.jsx)("option",{value:"customer",children:"Customer"})]}),Object(vt.jsx)("label",{htmlFor:"type",className:"form__label ".concat(""===y?"hide":""),children:"User Type"})]}),"signup"===h&&Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",autoComplete:"new-password",id:"password",type:"password",value:f,placeholder:"Password",onChange:w}),Object(vt.jsx)("label",{htmlFor:"password",className:"form__label",children:"Password"})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",id:"passwordConf",type:"password",value:_,placeholder:"Confirm Password",onChange:w}),Object(vt.jsx)("label",{htmlFor:"passwordConf",className:"form__label",children:"Confirm Password"})]})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:N,onChange:w,id:"cel",placeholder:"Cellphone"}),Object(vt.jsx)("label",{htmlFor:"cel",className:"form__label",children:"Cellphone"})]}),Object(vt.jsx)("div",{className:"btn-center",children:Object(vt.jsx)("button",{className:"btn btn-primary",type:"submit",children:"signup"===h?"Sign Up":"Save"})}),"signup"===h&&Object(vt.jsxs)("p",{className:"user-login",children:["Do you already have an account? \xa0",Object(vt.jsx)(mt.a,{onClick:()=>window.scrollTo(0,0),className:"btn-link",to:"/login",children:"Login"})]})]})]})]})})));a(92);var na=Object(dt.b)((e=>({auth:e.auth,global:e.global})),{activation:e=>async t=>{t(Je(!0));let a=!1;try{const a=await st.post("/auth/activation",{token:e});t({type:x,payload:a.data})}catch(s){401!==s.response.status&&t(tt(O,s.response)),a=!0}a||(window.scrollTo(0,0),t(Je(!1)))},clearJobs:Ke,clearReservations:Ge})((({match:e,auth:{loading:t,loggedUser:a,error:c},activation:r,clearJobs:l,clearReservations:o,global:{footer:n,navbar:i}})=>{const d=e.params.token,j=Object(s.useRef)(),[m,b]=Object(s.useState)({float:!0}),{float:u}=m;return Object(s.useEffect)((()=>{r(d)}),[d,r]),Object(s.useEffect)((()=>{if(j.current){j.current.getBoundingClientRect().height+n+i+60>=window.innerHeight&&b((e=>({...e,float:!1})))}}),[n,i]),!t&&Object(vt.jsx)("div",{ref:j,className:"activation ".concat(u?"float":""),children:""!==c?Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsx)("h2",{className:"activation-error-header",children:"Ups... something went wrong!"}),Object(vt.jsx)("p",{className:"activation-error-text",children:c.msg})]}):null!==a&&Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsxs)("h2",{className:"heading-secondary-gradient",children:["Welcome ",a.name+" "+a.lastname,"!"]}),Object(vt.jsx)("p",{className:"activation-text",children:"Welcome to Drone Tahoe! You can start using our services now."}),Object(vt.jsx)("div",{className:"btn-center",children:Object(vt.jsx)(mt.a,{to:"/reservation/0",onClick:()=>{l(),o(),window.scrollTo(0,0)},className:"btn btn-primary",children:"Book now"})})]})})}));a(93);var ia=Object(dt.b)((e=>({global:e.global})),{resetPassword:e=>async t=>{t(Je(!0));let a=!1,s={};for(const r in e)""!==e[r]&&(s[r]=e[r]);try{const e=await st.put("/auth/reset-password",s);t({type:y,payload:e.data}),"admin"===e.data.type?Ye.push("/reservations-list"):Ye.push("/"),t(Le("Password successfully changed","success","1"))}catch(c){401!==c.response.status?(t(tt(g,c.response)),c.response.data.errors?c.response.data.errors.forEach((e=>{t(Le(e.msg,"danger","1"))})):t(Le(c.response.data.msg,"danger","1"))):a=!0}a||(window.scrollTo(0,0),t(Je(!1)))}})((({resetPassword:e,match:t,global:{footer:a,navbar:c}})=>{const r=Object(s.useRef)(),[l,o]=Object(s.useState)({password:"",passwordConf:""}),{password:n,passwordConf:i}=l,[d,j]=Object(s.useState)({float:!0}),{float:m}=d;Object(s.useEffect)((()=>{if(r.current){r.current.getBoundingClientRect().height+a+c+60>=window.innerHeight&&j((e=>({...e,float:!1})))}}),[a,c]);const b=e=>{o((t=>({...t,[e.target.id]:e.target.value})))};return Object(vt.jsx)(vt.Fragment,{children:Object(vt.jsxs)("div",{className:"changepassword ".concat(m?"float":""),ref:r,children:[Object(vt.jsx)("h2",{className:"heading-primary",children:"Reset Password"}),Object(vt.jsxs)("form",{onSubmit:a=>{a.preventDefault(),e({...l,resetLink:t.params.token})},className:"form",children:[Object(vt.jsx)(Bt,{type:"1"}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",id:"password",type:"password",value:n,placeholder:"Password",onChange:b}),Object(vt.jsx)("label",{htmlFor:"password",className:"form__label",children:"Password"})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",id:"passwordConf",type:"password",value:i,placeholder:"Confirm Password",onChange:b}),Object(vt.jsx)("label",{htmlFor:"passwordConf",className:"form__label",children:"Confirm Password"})]}),Object(vt.jsx)("div",{className:"u-center-text",children:Object(vt.jsx)("button",{className:"btn btn-primary",children:"Save"})})]})]})})})),da=a(7),ja=a.n(da);var ma=Object(dt.b)((e=>({auth:e.auth,day:e.day,reservation:e.reservation})))((({confirm:e,reservation:{reservations:t},day:{availableHours:a,loadingAvailableHours:c},setToggleModal:r})=>{const[l,o]=Object(s.useState)({hourFrom:"",hourTo:""}),{hourFrom:n,hourTo:i}=l,[d,j]=Object(s.useState)({rangeFrom:[],rangeTo:[]}),{rangeFrom:m,rangeTo:b}=d;Object(s.useEffect)((()=>{if(!c){let e=[],s=t.filter((e=>!e.jobId));s=s.map((e=>new Date(e.hourTo).getUTCHours()));for(let t=0;t<a.length;t++)for(let c=a[t][0];c<a[t][1];c++)(0===s.length||s.some((e=>e!==c)))&&e.push(c);j((t=>({...t,rangeFrom:e})))}}),[c,a,t]);const u=e=>{if(o((t=>({...t,[e.target.id]:e.target.value}))),"hourFrom"===e.target.id&&""!==e.target.value){let t=[],s=e.target.value;const c=a.findIndex((e=>s>=e[0]&&s<=e[1]));for(s++;s<=a[c][1];)t.push(s),s++;j((e=>({...e,rangeTo:t})))}};return Object(vt.jsxs)("form",{className:"form",onSubmit:t=>{t.preventDefault(),e(l)},children:[Object(vt.jsx)("h3",{className:"heading-primary-subheading",children:"Disable Hour Range:"}),Object(vt.jsx)(Bt,{type:"2"}),Object(vt.jsx)("div",{className:"form__group",children:Object(vt.jsxs)("div",{className:"form__group-sub",children:[Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsxs)("select",{className:"form__input ".concat(""===n?"empty":""),id:"hourFrom",value:n,onChange:u,children:[Object(vt.jsx)("option",{value:"",children:"* Start"}),!c&&m.map(((e,t)=>Object(vt.jsx)("option",{value:e,children:"".concat(e%12!==0?e%12:12," ").concat(e>=12?"pm":"am")},t)))]}),Object(vt.jsx)("label",{htmlFor:"hourFrom",className:"form__label ".concat(""===n?"hide":""),children:"Start"})]}),Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsxs)("select",{className:"form__input ".concat(""===i?"empty":""),id:"hourTo",value:i,onChange:u,disabled:""===n,children:[Object(vt.jsx)("option",{value:"",children:"* End"}),b.map(((e,t)=>Object(vt.jsx)("option",{value:e,children:"".concat(e%12!==0?e%12:12," ").concat(e>=12?"pm":"am")},t)))]}),Object(vt.jsx)("label",{htmlFor:"hourTo",className:"form__label ".concat(""===i?"hide":""),children:"End"})]})]})}),Object(vt.jsxs)("div",{className:"popup-btns",children:[Object(vt.jsx)("button",{className:"btn btn-success",type:"submit",children:"Save"}),Object(vt.jsx)("button",{type:"button",className:"btn btn-danger",onClick:r,children:"Cancel"})]})]})}));var ba=({job:e,setToggleModal:t,toggleModal:a,confirm:c})=>{const[r,l]=Object(s.useState)({id:0,title:"",subtitle:"",poptext:""}),{title:o,subtitle:n,poptext:i}=r;Object(s.useEffect)((()=>{e&&l((t=>t.id!==e.id?{id:e.id,title:e.title,subtitle:e.subtitle?e.subtitle:"",poptext:e.poptext?e.poptext:""}:t))}),[e]),Object(s.useEffect)((()=>{a||l({id:0,title:"",subtitle:"",poptext:""})}),[a]);const d=e=>{l((t=>({...t,[e.target.id]:e.target.value})))};return Object(vt.jsxs)("form",{className:"form",onSubmit:e=>{e.preventDefault(),c(r)},children:[Object(vt.jsxs)("h3",{className:"heading-primary-subheading",children:[e?"Update":"New"," Job:"]}),Object(vt.jsx)(Bt,{type:"2"}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:o,id:"title",onChange:d,placeholder:"Title"}),Object(vt.jsx)("label",{htmlFor:"title",className:"form__label",children:"Title"})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:n,id:"subtitle",onChange:d,placeholder:"Subtitle"}),Object(vt.jsx)("label",{htmlFor:"subtitle",className:"form__label",children:"Subtitle"})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("textarea",{type:"text",className:"form__input textarea",value:i,rows:"3",onChange:d,placeholder:"Extra Info",id:"poptext"}),Object(vt.jsx)("label",{htmlFor:"poptext",className:"form__label",children:"Extra Info"})]}),Object(vt.jsxs)("div",{className:"popup-btns",children:[Object(vt.jsx)("button",{type:"submit",className:"btn btn-success",children:"Save"}),Object(vt.jsx)("button",{type:"button",className:"btn btn-danger",onClick:t,children:"Cancel"})]})]})},ua=a(17);a(94);var ha=Object(dt.b)((e=>({auth:e.auth,day:e.day})),{checkDayAvailability:Pe,checkMonthAvailability:(e,t,a,s)=>async c=>{c(Je(!0));let r=!1;try{const r=await st.get("/day/".concat(e,"/").concat(t,"/").concat(a,"/").concat(s));c({type:G,payload:r.data})}catch(l){401!==l.response.status?(c(Le(l.response.data.msg,"danger","1")),c(He(se,l.response)),window.scrollTo(0,0)):r=!0}r||c(Je(!1))},updateReservation:Xe,registerReservation:e=>async t=>{t(Je(!0));let a={};for(const c in e)""!==e[c]&&(a[c]=e[c]);try{let e=await st.post("/reservation",a);return t({type:U,payload:e.data}),t(Le("Reservation Registered","success","1")),window.scrollTo(0,0),t(Je(!1)),!0}catch(s){return 401!==s.response.status&&(t(We(H,s.response)),s.response.data.errors?s.response.data.errors.forEach((e=>{t(Le(e.msg,"danger","2"))})):t(Le(s.response.data.msg,"danger","2")),t(Je(!1))),!1}}})((({auth:{loggedUser:e},reservation:t,setToggleModal:a,day:{availableHours:c,loadingAvailableHours:r,disabledDays:l},checkMonthAvailability:o,checkDayAvailability:n,updateReservation:i,registerReservation:d})=>{const j=De()().add(1,"day"),m=0!==t.id&&"requested"!==t.status&&("customer"===e.type&&"unpaid"===t.status||"unpaid"!==t.status),[b,u]=Object(s.useState)({hourFrom:"",hourTo:""}),{hourFrom:h,hourTo:p}=b,[g,O]=Object(s.useState)({date:new Date,tab:0,diff:0,toggleModal:!1,month:j.month(),year:j.year()}),{date:x,tab:v,diff:f,toggleModal:N,month:y,year:_}=g;Object(s.useEffect)((()=>{o(y,_,t.id,m?f:0)}),[o,y,_,t.id,m,f]),Object(s.useEffect)((()=>{if(m){const e=De()(t.hourFrom),a=De()(t.hourTo);O((t=>({...t,diff:a.utc().hour()-e.utc().hour()}))),console.log(t)}}),[t,m]);const w=(e,a)=>{const s=new Date(x);s.setHours(a);let c=null;if(m){const e=new Date(t.hourFrom),s=new Date(t.hourTo);c=new Date(x),c.setHours(a+(s.getHours()-e.getHours()))}u((t=>({...t,[e]:s,...c&&{hourTo:c}}))),O((t=>({...t,tab:"hourFrom"!==e||c?3:2})))},D=Object(s.useCallback)((({date:e,view:t})=>{if("month"===t&&l.length>0)return l.some((t=>De()(t).utc().format("MM-DD-YYYY")===De()(e).format("MM-DD-YYYY")))}),[l]);return Object(vt.jsxs)("div",{className:"schedule",children:[Object(vt.jsx)(Na,{type:"confirmation",toggleModal:N,setToggleModal:()=>O((e=>({...e,toggleModal:!N}))),confirm:async()=>{await i({...t,hourFrom:De()(h).format("YYYY-MM-DD[T]HH:mm:SS[Z]"),hourTo:De()(p).format("YYYY-MM-DD[T]HH:mm:SS[Z]")})&&a()},text:"Are you sure you want to modify the reservation?"}),Object(vt.jsx)("div",{className:"schedule-calendar",children:Object(vt.jsx)(ua.a,{value:x,onChange:e=>{O((t=>({...t,date:e,tab:e.getMonth()===y?1:0}))),n(De()(e).format("YYYY-MM-DD[T00:00:00Z]"),t.id,m?f:0)},minDate:new Date(j.format()),maxDate:new Date(j.year()+1,j.month(),j.date()),onActiveStartDateChange:e=>{if("month"===e.view||"year"===e.view){const t=e.activeStartDate.getMonth(),a=e.activeStartDate.getFullYear();O((e=>({...e,month:t,year:a})))}},tileDisabled:D})}),Object(vt.jsx)("div",{className:"schedule-details",children:(()=>{switch(v){case 0:return Object(vt.jsx)(vt.Fragment,{children:Object(vt.jsxs)("h5",{className:"schedule-details-main",children:["Pick up a Date and Time"," ","admin"!==e.type&&"you are Available"]})});case 1:return!r&&(()=>{let t=[],a=m?f:2;for(let s=0;s<c.length;s++){let r="admin"===e.type||8===c[s][0]?c[s][0]:c[s][0]+1;for(;c[s][1]-r>a;)t.push(r),r++;(17===c[s][1]||"admin"===e.type&&c[s][1]-r===a)&&t.push(r)}return t.length>0?Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsxs)("p",{className:"schedule-details-title",children:[m?"Hour Range":"Start Time",":"]})," ",t.map(((e,t)=>Object(vt.jsxs)("div",{className:"schedule-details-item",onClick:()=>w("hourFrom",e),children:["".concat(e%12!==0?e%12:12," ").concat(e>=12?"pm":"am")," ",m&&" - "+"".concat((e+f)%12!==0?(e+f)%12:12," ").concat(e+f>=12?"pm":"am")]},t)))]}):Object(vt.jsx)("h2",{className:"schedule-details-main error",children:"No availability on this day"})})();case 2:return""!==h&&(()=>{let t=De()(h).hour(),a=[];const s=c.filter((e=>e[0]<=t&&e[1]>t))[0];for(t+=2;t<s[1];)a.push(t),t++;return(17===s[1]||"admin"===e.type&&t===s[1])&&a.push(t),a.length>0?Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsx)("p",{className:"schedule-details-title",children:"End Time:"})," ",a.map(((e,t)=>Object(vt.jsx)("div",{className:"schedule-details-item",onClick:()=>w("hourTo",e),children:"".concat(e%12!==0?e%12:12," ").concat(e>=12?"pm":"am")},t)))]}):Object(vt.jsx)("h2",{className:"schedule-details-main error",children:"No availability on this day"})})();case 3:return Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsx)("p",{className:"schedule-details-title",children:"Reservation Schedule:"}),Object(vt.jsxs)("form",{className:"form",onSubmit:async s=>{if(s.preventDefault(),0!==t.id)O((e=>({...e,toggleModal:!N})));else{await d({...t,..."customer"===e.type&&{user:e.id},hourFrom:De()(h).format("YYYY-MM-DD[T]HH[:00:00Z]"),hourTo:De()(p).format("YYYY-MM-DD[T]HH[:00:00Z]")})&&a()}},children:[Object(vt.jsx)(Bt,{type:"2"}),Object(vt.jsxs)("p",{className:"schedule-details-info",children:[Object(vt.jsx)("span",{className:"schedule-details-subtitle",children:"Date:"})," \xa0",Object(vt.jsx)(ja.a,{date:h,format:"MM/DD/YY"})]}),Object(vt.jsxs)("p",{className:"schedule-details-info",children:[Object(vt.jsx)("span",{className:"schedule-details-subtitle",children:"Time:"})," \xa0",Object(vt.jsx)(ja.a,{format:"h a",date:h})," -"," ",Object(vt.jsx)(ja.a,{format:"h a",date:p})]}),"admin"!==e.type&&0===t.id&&Object(vt.jsx)("p",{className:"text-warning",children:"After saving the reservation, we will set the price for the job and send you an email confirming your appointment, so you can proceed with its payment."}),Object(vt.jsx)("div",{className:"btn-center",children:Object(vt.jsx)("button",{className:"btn",type:"submit",children:"Save"})})]})]})}})()})]})}));var pa=Object(dt.b)((e=>({user:e.user})),{loadUsers:pt,clearUsers:Ot})((({user:{users:e,loading:t},selectFinalUser:a,reservationUser:c,searchDisplay:r,switchDisplay:l,clearUsers:o,loadUsers:n,clear:i,completeClear:d,autoComplete:j})=>{const m={email:"",lockEmail:!1},[b,u]=Object(s.useState)(m),{email:h,lockEmail:p}=b;Object(s.useEffect)((()=>{c?c.email&&u((e=>({...e,email:c.email}))):u((e=>({...e,email:""})))}),[c]),Object(s.useEffect)((()=>{i&&(u({email:"",lockEmail:!1}),d())}),[i,d]);return Object(vt.jsxs)("div",{className:"form__group form-search",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:h,disabled:c||p,name:"email",id:"email",autoComplete:j,onFocus:()=>l(!0),onChange:e=>{u((t=>({...t,email:e.target.value}))),e.target.value.length>1&&(o(),n({type:"customer",email:e.target.value},!0))},placeholder:"User's Email"}),Object(vt.jsx)("label",{htmlFor:"email",className:"form__label",children:"User's Email"}),r&&h.length>1&&!c&&Object(vt.jsx)("ul",{className:"form-search-display ".concat(0===e.length?"danger":""),children:!t&&Object(vt.jsx)(vt.Fragment,{children:e.length>0?e.map((e=>Object(vt.jsx)("li",{className:"form-search-item",onClick:()=>(e=>{u((t=>({...t,email:e.email,lockEmail:!0}))),a(e),o()})(e),children:e.email},e.id))):Object(vt.jsx)("li",{className:"bg-danger form-search-item",children:"No matching results"})})}),h.length>1&&!c&&Object(vt.jsx)("button",{type:"button",onClick:()=>{a(),u(m)},className:"form-search-close",children:Object(vt.jsx)("i",{className:"far fa-times-circle"})})]})}));a(95);var ga=Object(dt.b)((e=>({job:e.job,auth:e.auth,jobsXreservation:e.jobsXreservation})),{updateReservation:Xe,loadReservationJobs:bt,clearJobsXReservations:ut})(Object(jt.g)((({reservation:e,setToggleModal:t,match:a,location:r,job:{jobs:l},auth:{loggedUser:o},jobsXreservation:{jobsXreservations:n,loading:i},updateReservation:d,loadReservationJobs:j,clearJobsXReservations:m})=>{const b=Object(s.useRef)(),u=Object(s.useRef)(),h=/^[0-9]+(\.([0-9]{1,2})?)?$/,p=e&&"requested"!==e.status&&"unpaid"!==e.status,[g,O]=Object(s.useState)({id:0,jobs:[{id:0,jobId:a.params.job_id&&"0"!==a.params.job_id?a.params.job_id:"",value:"",discount:null}],user:null,address:"",comments:null,travelExpenses:null,refundReason:null,total:"",hourFrom:"",hourTo:""}),[x,v]=Object(s.useState)({searchDisplay:!1,clear:!1,changeDate:!1,percentage:[null]}),{searchDisplay:f,clear:N,changeDate:y,percentage:_}=x,{id:w,jobs:D,user:E,address:T,comments:R,total:k,travelExpenses:C,refundReason:S}=g;Object(s.useEffect)((()=>{e&&(!e.jobs&&i?j(e.id):w!==e.id&&(O((t=>{let a={};for(const s in t)a[s]=e[s]?e[s]:t[s];return{...a,jobs:n.map((e=>({...e,value:0===e.value?"":e.value})))}})),v((e=>({...e,percentage:n.map((e=>{if(null!==e.discount){const t=100*e.discount/e.value;return Math.round(100*(t+Number.EPSILON))/100}return null}))})))))}),[e,w,i,j,n]);const F=e=>{const t=D.reduce(((e,t)=>{let a=Number(t.value);return null!==t.discount&&(a-=Number(t.discount)),e+a}),0);let a=null!==e?t+Number(e):t;return a=Math.round(100*(a+Number.EPSILON))/100,a},A=e=>{"travelExpenses"===e.target.name?(h.test(e.target.value)||""===e.target.value)&&O((t=>({...t,travelExpenses:e.target.value,total:F(e.target.value)}))):O((t=>({...t,[e.target.name]:e.target.value})))},M=e=>{"jobId"===e.target.name||""===e.target.value||h.test(e.target.value)&&(null===D[e.target.id].discount||Number(D[e.target.id].discount)<=Number(e.target.value))?D[e.target.id][e.target.name]=e.target.value:(h.test(e.target.value)&&(D[e.target.id].value=e.target.value),D[e.target.id].discount="",_[e.target.id]="",v((e=>({...e,percentage:_})))),O((t=>({...t,jobs:D,..."jobId"!==e.target.name&&{total:F(C)}})))},U=e=>{if(h.test(e.target.value)){if("discount"===e.target.name&&Number(D[e.target.id].value)>=Number(e.target.value)){const t=100*Number(e.target.value)/Number(D[e.target.id].value);_[e.target.id]=Math.round(100*(t+Number.EPSILON))/100,D[e.target.id].discount=e.target.value}else if(Number(e.target.value)<=100){const t=Number(e.target.value)*Number(D[e.target.id].value)/100;_[e.target.id]=e.target.value,D[e.target.id].discount=Math.round(100*(t+Number.EPSILON))/100}}else""===e.target.value&&(D[e.target.id].discount="",_[e.target.id]="");O((e=>({...e,jobs:D,total:F(C)}))),v((e=>({...e,percentage:_})))},Y=(e,t)=>{const a=D.findIndex((t=>Number(t.jobId)===e.id));if(-1===a||a===t)return Object(vt.jsx)("option",{value:e.id,children:e.title})};return Object(vt.jsxs)("div",{className:"reservation-form ".concat("customer"===o.type?"border":""),children:[Object(vt.jsxs)("form",{ref:b,onSubmit:async e=>{e.preventDefault();await d(g)?(t(),m()):b.current.scrollIntoView()},children:["customer"===o.type&&Object(vt.jsx)("div",{className:"btn-top-right",children:Object(vt.jsx)("button",{className:"reservation-form-cancel",onClick:e=>{e.preventDefault(),t(),m()},children:Object(vt.jsx)("i",{className:"fas fa-times"})})}),Object(vt.jsxs)("div",{className:"reservation-form-inner",children:[Object(vt.jsxs)("h4",{className:"heading-primary-subheading",children:[e?e&&"canceled"!==e.status&&"refunded"!==e.status&&"completed"!==e.status?"Update":"":"New"," ","Reservation:"]}),"admin"!==o.type&&!e&&Object(vt.jsx)("p",{className:"text-warning",children:"Enter job site address and job type. Add additional jobs, if any, by clicking the \u2018+ Job\u2019 button. Once all jobs are entered, select your desired date/time below."}),e&&Object(vt.jsxs)("p",{className:"heading-primary-subheading-update",children:[Object(vt.jsx)(ja.a,{date:e.hourFrom,utc:!0,className:"date",format:"MM-DD-YY"})," ","\xa0",Object(vt.jsx)(ja.a,{date:e.hourFrom,utc:!0,format:"h a"})," -"," ",Object(vt.jsx)(ja.a,{date:e.hourTo,utc:!0,format:"h a"})]}),!y&&e&&Object(vt.jsx)(Bt,{type:"2"}),e&&o&&"admin"===o.type&&Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsxs)("p",{className:"reservation-form-item",children:[Object(vt.jsx)("span",{className:"reservation-form-title",children:"Status:"})," ",e.status.charAt(0).toUpperCase()+e.status.slice(1)]}),"unpaid"!==e.status&&"requested"!==e.status&&Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsxs)("p",{className:"reservation-form-item",children:[Object(vt.jsx)("span",{className:"reservation-form-title",children:"Payment method:"})," ",e.paymentId?"Paypal":"Cash"]}),e.paymentId&&Object(vt.jsxs)("p",{className:"reservation-form-item",children:[Object(vt.jsx)("span",{className:"reservation-form-title",children:"PayPal ID:"})," ",e.paymentId]})]})]}),o&&"admin"===o.type&&Object(vt.jsx)(pa,{selectFinalUser:e=>{O((t=>({...t,user:e?e.id:null})))},reservationUser:e?E:null,searchDisplay:f,switchDisplay:e=>v((t=>({...t,searchDisplay:e}))),clear:N,completeClear:()=>v((e=>({...e,clear:!1}))),autoComplete:"new-password"}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:T,onChange:A,disabled:p,id:"address",name:"address",placeholder:"Address"}),Object(vt.jsx)("label",{htmlFor:"address",className:"form__label",children:"Address"})]}),Object(vt.jsxs)("div",{className:"jobs-list",children:[Object(vt.jsx)("p",{className:"jobs-list-title",children:"Jobs List"}),D.length>0&&D.map(((t,a)=>Object(vt.jsxs)("div",{className:"jobs-list-item",children:[Object(vt.jsxs)("div",{className:"jobs-list-item-group ".concat(p?"full":""),children:[Object(vt.jsxs)("p",{className:"jobs-list-item-title",children:["Job ",a+1]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsxs)("select",{className:"form__input ".concat(""===t.jobId?"empty":""),id:a,name:"jobId",value:t.jobId,disabled:p,onFocus:()=>v((e=>({...e,searchDisplay:!1}))),onChange:M,children:[Object(vt.jsx)("option",{value:"",children:"* Type of Job"}),l.length>0&&l.map((e=>Object(vt.jsx)(c.a.Fragment,{children:Y(e,a)},"jl-".concat(a,"-").concat(e.id))))]}),Object(vt.jsx)("label",{htmlFor:"item",className:"form__label ".concat(""===t.jobId?"hide":""),children:"Type of Job"})]}),"admin"===o.type?Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:t.value,onChange:M,disabled:p,id:a,name:"value",placeholder:"Job Value"}),Object(vt.jsx)("label",{htmlFor:a,className:"form__label",children:"Job Value"})]}),Object(vt.jsx)("div",{className:"form__group ".concat(null===t.discount?"hide":""),children:Object(vt.jsxs)("div",{className:"form__group-sub",children:[Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",placeholder:"Discount",name:"discount",disabled:p,id:a,onChange:U,value:null!==t.discount?t.discount:""}),Object(vt.jsx)("label",{htmlFor:"discount",className:"form__label",children:"Discount"})]}),Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",placeholder:"Percentage",name:"percentage",disabled:p,id:a,onChange:U,value:null!==t.discount?_[a]:""}),Object(vt.jsx)("label",{htmlFor:"percentage",className:"form__label",children:"Percentage"})]})]})}),(e&&("requested"===e.status||"unpaid"===e.status)||!e)&&Object(vt.jsxs)("div",{className:"form__group switch",children:[Object(vt.jsx)("label",{className:"form__label-switch",htmlFor:"discountChk",children:"Discount"}),Object(vt.jsx)("input",{type:"checkbox",id:"discountChk",checked:null!==t.discount,onChange:e=>{e.target.checked?(D[a].discount="",_[a]=""):(D[a].discount=null,_[a]=null),O((e=>({...e,jobs:D,...null==D[a].discount&&{total:F(C)}}))),v((e=>({...e,percentage:_})))},className:"form__input-switch"})]})]}):t.value&&Object(vt.jsx)("div",{className:"jobs-list-item-price",children:Object(vt.jsx)("table",{children:Object(vt.jsxs)("tbody",{children:[Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("td",{className:"text-dark",children:"Value:"}),Object(vt.jsxs)("td",{children:["\xa0$",t.value,"\xa0"]})]}),null!==t.discount&&Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("td",{className:"text-dark",children:"Discount:"}),Object(vt.jsxs)("td",{children:["$",t.discount," (",_[a],"% off)"]})]})]})})})]}),!p&&Object(vt.jsx)("button",{className:"btn-icon",onClick:e=>{e.preventDefault(),D.splice(a,1),_.splice(a,1),O((e=>({...e,jobs:D,total:F(C)}))),v((e=>({...e,percentage:_})))},children:Object(vt.jsx)("i",{className:"far fa-trash-alt"})})]},a))),!p&&Object(vt.jsx)("div",{className:"btn-right",children:Object(vt.jsxs)("button",{className:"btn btn-quaternary",onClick:e=>{e.preventDefault(),O((e=>({...e,jobs:[...D,{id:0,jobId:"",value:"",discount:null}]}))),_.push(null),v((e=>({...e,percentage:_})))},children:[Object(vt.jsx)("i",{className:"fas fa-plus"})," \xa0 Job"]})})]}),Object(vt.jsxs)("div",{className:"form__group ".concat(null===R?"hide":"show"),children:[Object(vt.jsx)("textarea",{type:"text",className:"form__input textarea",value:R,id:"comments",disabled:p,rows:"3",onChange:A,placeholder:"Special Request",name:"comments"}),Object(vt.jsx)("label",{htmlFor:"comments",className:"form__label",children:"Special Request"})]}),(!e||e&&("requested"===e.status||"unpaid"===e.status))&&Object(vt.jsxs)("div",{className:"form__group switch",children:[Object(vt.jsx)("label",{className:"form__label-switch",htmlFor:"commentsChk",children:"Special Request"}),Object(vt.jsx)("input",{checked:null!==R,type:"checkbox",id:"commentsChk",name:"commentsChk",onChange:e=>O((t=>({...t,comments:e.target.checked?"":null}))),className:"form__input-switch"})]}),("admin"===o.type||"customer"===o.type&&null!==C)&&Object(vt.jsxs)("div",{className:"form__group ".concat(null===C?"hide":"show"),children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:null!==C?C:"",onChange:A,disabled:p||"customer"===o.type,id:"travelExpenses",name:"travelExpenses",placeholder:"Travel Expenses"}),Object(vt.jsx)("label",{htmlFor:"travelExpenses",className:"form__label",children:"Travel Expenses"})]}),"admin"===o.type&&(e&&("requested"===e.status||"unpaid"===e.status)||!e)&&Object(vt.jsxs)("div",{className:"form__group switch",children:[Object(vt.jsx)("label",{className:"form__label-switch",htmlFor:"travelExpChk",children:"Travel Expenses"}),Object(vt.jsx)("input",{checked:null!==C,type:"checkbox",id:"travelExpChk",name:"travelExpChk",onChange:e=>O((t=>({...t,travelExpenses:e.target.checked?"":null,...!e.target.checked&&{total:F(null)}}))),className:"form__input-switch"})]}),null!==S&&Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("textarea",{type:"text",className:"form__input textarea",value:S,id:"refundReason",rows:"3",disabled:"customer"===o.type,onChange:A,placeholder:"Refund Reason"}),Object(vt.jsx)("label",{htmlFor:"refundReason",className:"form__label",children:"Refund Reason"})]}),""!==k&&0!==k&&Object(vt.jsxs)("h4",{className:"reservation-form-total",children:[Object(vt.jsx)("span",{className:"reservation-form-total-title",children:"Total:"})," $",k]}),e&&"canceled"!==e.status&&"completed"!==e.status&&Object(vt.jsxs)("div",{className:"btn-center",children:[!y&&("paid"!==e.status||null!==S&&"admin"===o.type)&&Object(vt.jsx)("button",{className:"btn",type:"submit",children:"Save"}),"/schedule"!==r.pathname&&Object(vt.jsx)("button",{className:"btn",onClick:e=>{e.preventDefault(),y||setTimeout((()=>{u.current.scrollIntoView(!0)}),30),v((e=>({...e,changeDate:!y})))},children:y?"Keep Date":"Change Date"})]})]})]}),Object(vt.jsx)("div",{ref:u,children:(y||!e)&&Object(vt.jsx)(ha,{setToggleModal:t,reservation:g})})]})})));const Oa=window.paypal.Buttons.driver("react",{React:c.a,ReactDOM:l.a});var xa=Object(dt.b)((e=>({auth:e.auth,jobsXreservation:e.jobsXreservation})),{updatePayment:(e,t)=>async a=>{try{const s=await st.put("/reservation/payment/".concat(e),t);return a({type:be,payload:s.data}),!0}catch(s){return 401!==s.response.status&&(a(Le(s.response.data.msg,"danger","2")),a(We(ue,s.response))),!1}},makePayment:e=>async t=>{t(Je(!0));try{const a=await st.post("/reservation/payment",e);return t({type:"PAYMENT_SUCCESSFUL"}),t(Je(!1)),a.data}catch(a){401!==a.response.status&&(t(Le(a.response.data.msg,"danger","2")),t(We(ue,a.response)),t(Je(!1)))}},loadReservationJobs:bt,clearJobsXReservations:ut})((({reservation:e,loadReservationJobs:t,clearJobsXReservations:a,updatePayment:c,makePayment:r,setToggleModal:l,auth:{loggedUser:o},jobsXreservation:{jobsXreservations:n,loading:i}})=>(Object(s.useEffect)((()=>{i&&e&&t(e.id,"full")}),[i,e,t]),Object(vt.jsxs)("div",{className:"payment",children:[Object(vt.jsxs)("h3",{className:"heading-primary-subheading",children:["Reservation Payment: \xa0 $",e&&e.total]}),Object(vt.jsx)(Bt,{type:"2"}),o&&"admin"===o.type&&Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsx)("button",{className:"btn btn-tertiary",onClick:async()=>{await c(e.id)&&l()},children:"Pay Cash"}),Object(vt.jsx)("p",{className:"payment-text",children:"OR"})]}),Object(vt.jsx)(Oa,{createOrder:async()=>{const t=null===e.travelExpenses?n:[...n,{value:e.travelExpenses,job:{title:"Travel Expenses"},discount:null}],a=await r({jobs:t,total:e.total});return console.log(a),a.id},onApprove:async(t,s)=>{const r=await s.order.capture();await c(e.id,{paymentId:r.id})&&(l(),a())},onError:e=>console.log(e)})]}))));var va=({setToggleModal:e,toggleModal:t,confirm:a,users:c})=>{const[r,l]=Object(s.useState)({subject:"",message:""}),{subject:o,message:n}=r;Object(s.useEffect)((()=>{t||l({subject:"",message:""})}),[t]);const i=e=>{l((t=>({...t,[e.target.id]:e.target.value})))};return Object(vt.jsxs)("form",{className:"form",onSubmit:e=>{e.preventDefault(),a({...r,users:c})},children:[Object(vt.jsx)("h3",{className:"heading-primary-subheading",children:"Outreach Email:"}),Object(vt.jsx)(Bt,{type:"2"}),Object(vt.jsxs)("h5",{className:"popup-email-item",children:[Object(vt.jsx)("span",{className:"popup-email-title",children:"To: "}),c.map(((e,t)=>t+1!==c.length?e+", ":e+"."))]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:o,id:"subject",onChange:i,placeholder:"Subject"}),Object(vt.jsx)("label",{htmlFor:"subject",className:"form__label",children:"Subject"})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("textarea",{type:"text",className:"form__input textarea",value:n,rows:"5",onChange:i,placeholder:"Email Message",id:"message"}),Object(vt.jsx)("label",{htmlFor:"message",className:"form__label",children:"Email Message"})]}),Object(vt.jsxs)("div",{className:"popup-btns",children:[Object(vt.jsx)("button",{type:"submit",className:"btn btn-success",children:"Send"}),Object(vt.jsx)("button",{type:"button",className:"btn btn-danger",onClick:e,children:"Cancel"})]})]})};var fa=({confirm:e,setToggleModal:t,reservation:a})=>{const c=/^[0-9]+(\.([0-9]{1,2})?)?$/,[r,l]=Object(s.useState)({amount:"",refundReason:""}),{amount:o,refundReason:n}=r;Object(s.useEffect)((()=>{l((e=>({...e,amount:"",refundReason:""})))}),[e]),Object(s.useEffect)((()=>{a&&null!==a.refundReason&&l((e=>({...e,refundReason:a.refundReason})))}),[a]);const i=e=>{("amount"!==e.target.id||""===e.target.value||c.test(e.target.value)&&a.total>=Number(e.target.value))&&l((t=>({...t,[e.target.id]:e.target.value})))};return Object(vt.jsxs)("form",{className:"form",onSubmit:t=>{t.preventDefault(),e(r)},children:[Object(vt.jsxs)("h3",{className:"heading-primary-subheading",children:["Reservation Total: \xa0 $",a&&a.total]}),Object(vt.jsx)(Bt,{type:"2"}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:o,onChange:i,id:"amount",placeholder:"Refund"}),Object(vt.jsx)("label",{htmlFor:"amount",className:"form__label",children:"Refund"})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("textarea",{type:"text",className:"form__input textarea",value:n,id:"refundReason",rows:"3",onChange:i,placeholder:"Refund Reason"}),Object(vt.jsx)("label",{htmlFor:"refundReason",className:"form__label",children:"Refund Reason"})]}),Object(vt.jsxs)("div",{className:"popup-btns",children:[Object(vt.jsx)("button",{className:"btn btn-success",type:"submit",children:"Refund"}),Object(vt.jsx)("button",{type:"button",className:"btn btn-danger",onClick:t,children:"Cancel"})]})]})};a(96);var Na=({toggleModal:e,setToggleModal:t,confirm:a,text:s,subtext:c,type:r,toUpdate:l,clearJobs:o})=>Object(vt.jsx)("div",{className:"blurr-bg popup ".concat(e?"":"hide"),children:Object(vt.jsxs)("div",{className:"popup-content ".concat(r),children:[Object(vt.jsxs)("div",{className:"popup-heading",children:[Object(vt.jsx)("img",{className:"popup-heading-img",src:Nt,alt:"logo"}),Object(vt.jsx)("button",{type:"button",onClick:()=>{t(),o&&o()},className:"popup-heading-btn",children:Object(vt.jsx)("i",{className:"fas fa-times"})})]}),(()=>{switch(r){case"confirmation":return Object(vt.jsxs)("div",{className:"popup-text",children:[Object(vt.jsx)("p",{children:s}),c?Object(vt.jsx)("p",{children:c}):"",Object(vt.jsxs)("div",{className:"popup-btns",children:[Object(vt.jsx)("button",{className:"btn btn-success",onClick:()=>{a(),t()},children:"OK"}),Object(vt.jsx)("button",{type:"button",className:"btn btn-danger",onClick:t,children:"Cancel"})]})]});case"schedule":return Object(vt.jsx)("div",{className:"popup-schedule wrapper wrapper-popup",children:Object(vt.jsx)(ga,{reservation:l,setToggleModal:t})});case"job":return Object(vt.jsx)("div",{className:"popup-job wrapper wrapper-popup",children:Object(vt.jsx)(ba,{toggleModal:e,confirm:a,job:l,setToggleModal:t})});case"hour":return Object(vt.jsx)("div",{className:"popup-hour wrapper wrapper-popup",children:Object(vt.jsx)(ma,{setToggleModal:t,confirm:a})});case"payment":return Object(vt.jsx)("div",{className:"popup-payment",children:Object(vt.jsx)(xa,{reservation:l,setToggleModal:t})});case"email":return Object(vt.jsx)("div",{className:"popup-email",children:Object(vt.jsx)(va,{toggleModal:e,confirm:a,setToggleModal:t,users:l})});case"refund":return Object(vt.jsx)("div",{className:"popup-refund",children:Object(vt.jsx)(fa,{confirm:a,setToggleModal:t,reservation:l})})}})()]})});a(97);var ya=Object(dt.b)((e=>({auth:e.auth,job:e.job,reservation:e.reservation})),{loadJobs:Ze,loadReservations:Be,deleteReservation:qe,clearJobsXReservations:ut})((({auth:{loggedUser:e,token:t},reservation:{reservations:a,loading:c},job:{loading:r},loadJobs:l,loadReservations:o,deleteReservation:n,clearJobsXReservations:i,match:d})=>{const j=Object(s.useRef)(),[m,b]=Object(s.useState)({reservation:null,toggleModal:!1,position:0,editReservation:!(!d.params.job_id||"0"===d.params.job_id),checkout:!1}),{reservation:u,toggleModal:h,position:p,editReservation:g,checkout:O}=m;return Object(s.useEffect)((()=>{r&&t&&l({},!0),e&&"admin"!==e.type&&c&&o({hourFrom:new Date,user:e.id},!0)}),[r,l,e,o,c,t]),Object(s.useEffect)((()=>{if(!c){const e=j.current.getBoundingClientRect(),t=window.pageYOffset||document.documentElement.scrollTop;b((a=>({...a,position:e.bottom+t-60}))),d.params.job_id&&"0"!==d.params.job_id&&setTimeout((()=>{window.scrollTo(0,e.bottom+t)}),30)}}),[c,d.params.job_id]),Object(vt.jsxs)("div",{className:"reservation",children:[Object(vt.jsx)(Xt,{}),Object(vt.jsx)("h2",{className:"heading-primary",children:"Reservations"}),Object(vt.jsx)(Na,{type:"confirmation",toggleModal:h,setToggleModal:()=>b((e=>({...e,toggleModal:!h}))),confirm:()=>{n(u),b((e=>({...e,reservation:null})))},text:"Are you sure you want to ".concat(u&&"paid"!==u.status?"delete":"cancel"," the reservation?"),subtext:u&&"paid"===u.status?"A refund will be placed through paypal.":""}),O&&Object(vt.jsx)(Na,{type:"payment",toUpdate:u,setToggleModal:()=>b((e=>({...e,checkout:!1,reservation:null}))),clearJobs:i,toggleModal:O}),Object(vt.jsx)(Bt,{type:"1"}),e?"0"===e.cel&&Object(vt.jsxs)("h5",{className:"heading-primary-subheading error",children:["You need to save your cellphone in your profile to make a reservation. \xa0",Object(vt.jsx)(mt.a,{to:"/profile",onClick:()=>window.scrollTo(0,0),className:"btn-link",children:"Profile"})]}):Object(vt.jsxs)("h5",{className:"heading-primary-subheading error",children:["You need to be logged in to make a reservation. \xa0",Object(vt.jsx)(mt.a,{to:"/login",onClick:()=>window.scrollTo(0,0),className:"btn-link",children:"Login"})]}),e&&Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsx)("div",{className:"reservation-list",ref:j,children:!c&&a.length>0?a.map(((e,t)=>Object(vt.jsxs)("div",{className:"reservation-item",children:[Object(vt.jsxs)("div",{className:"reservation-item-date",children:[Object(vt.jsx)(ja.a,{date:e.hourFrom,className:"date",format:"MM-DD-YY"}),Object(vt.jsx)(ja.a,{date:e.hourFrom,utc:!0,format:"h a"})," -"," ",Object(vt.jsx)(ja.a,{date:e.hourTo,utc:!0,format:"h a"})]}),Object(vt.jsxs)("div",{className:"reservation-item-status",children:[Object(vt.jsxs)("p",{children:[Object(vt.jsx)("span",{className:"reservation-item-title",children:"Address: "}),e.address]}),Object(vt.jsxs)("p",{children:[Object(vt.jsx)("span",{className:"reservation-item-title",children:"Value: "}),e.total?"$"+e.total:"Pending"]}),Object(vt.jsxs)("p",{children:[Object(vt.jsx)("span",{className:"reservation-item-title",children:"Status: "}),e.status.charAt(0).toUpperCase()+e.status.slice(1)]})]}),Object(vt.jsxs)("div",{className:"reservation-item-icons",children:["unpaid"===e.status&&Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{onClick:()=>{b((t=>({...t,reservation:e,checkout:!0})))},className:"btn-icon",children:Object(vt.jsx)("i",{className:"fas fa-dollar-sign"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"Pay"})]}),Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{onClick:()=>{b((t=>({...t,reservation:e,editReservation:!0}))),setTimeout((()=>{window.scrollTo(0,p)}),30)},className:"btn-icon",children:"refunded"!==e.status&&"canceled"!==e.status?Object(vt.jsx)("i",{className:"far fa-edit"}):Object(vt.jsx)("i",{className:"fas fa-search"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"refunded"!==e.status&&"canceled"!==e.status?"Edit":"See details"})]}),("requested"===e.status||"unpaid"===e.status)&&Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{onClick:()=>b((t=>({...t,toggleModal:!h,reservation:e}))),className:"btn-icon",children:Object(vt.jsx)("i",{className:"far fa-trash-alt"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"Delete"})]})]})]},e.id))):Object(vt.jsx)("h2",{className:"heading-primary-subheading",children:"No Reservations Made"})}),!r&&"0"!==e.cel&&Object(vt.jsx)(vt.Fragment,{children:g?Object(vt.jsx)(ga,{reservation:u,setToggleModal:()=>b((e=>({...e,reservation:null,editReservation:!1})))}):Object(vt.jsx)("div",{className:"btn-right",children:Object(vt.jsxs)("button",{onClick:()=>{b((e=>({...e,editReservation:!0}))),setTimeout((()=>{window.scrollTo(0,p)}),30)},className:"btn btn-primary",children:[Object(vt.jsx)("i",{className:"fas fa-plus"})," \xa0 Reservation"]})})})]})]})}));var _a=({onChange:e,onFocus:t,hourFrom:a,hourTo:s})=>Object(vt.jsx)("div",{className:"form__group",children:Object(vt.jsxs)("div",{className:"form__group-sub",children:[Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"date",className:"form__input",placeholder:"YYYY/MM/DD",id:"hourFrom",value:a,onChange:e,onFocus:t}),Object(vt.jsx)("label",{htmlFor:"hourFrom",className:"form__label",children:"From"})]}),Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"date",className:"form__input",id:"hourTo",placeholder:"YYYY/MM/DD",min:""!==a?a:null,onFocus:t,onChange:e,value:s}),Object(vt.jsx)("label",{htmlFor:"hourTo",className:"form__label",children:"To"})]})]})});var wa=Object(dt.b)((e=>({reservation:e.reservation})),{loadReservations:Be,deleteReservation:qe,cancelReservation:(e,t)=>async a=>{a(Je(!0));let s={};for(const e in t)""!==t[e]&&(s[e]=t[e]);try{const c=await st.put("/reservation/cancel/".concat(e.id),s);return a({type:t.amount&&e.total!==t.amount?Y:L,payload:c.data}),a(Le("Reservation ".concat(t.amount&&e.total!==t.amount?"Updated":"Canceled"),"success","1")),window.scrollTo(0,0),a(Je(!1)),!0}catch(c){return 401!==c.response.status&&(a(Le(c.response.data.msg,"danger","2")),a(We(H,c.response)),window.scrollTo(0,0),a(Je(!1))),!1}},clearUsers:Ot,loadJobs:Ze,clearJobsXReservations:ut})((({deleteReservation:e,loadReservations:t,cancelReservation:a,loadJobs:c,reservation:{reservations:r,error:l,loading:o},clearUsers:n,clearJobsXReservations:i})=>{const d={hourFrom:"",hourTo:"",user:"",status:""},[j,m]=Object(s.useState)(d),[b,u]=Object(s.useState)({toggleDeleteConf:!1,toggleReservation:!1,toggleRefund:!1,showFilter:!1,reservation:null,searchDisplay:!1,clear:!1,checkout:!1}),{hourFrom:h,hourTo:p,status:g}=j,{toggleDeleteConf:O,toggleReservation:x,toggleRefund:v,showFilter:f,reservation:N,searchDisplay:y,clear:_,checkout:w}=b;Object(s.useEffect)((()=>{o&&(c({},!0),t({hourFrom:new Date},!0))}),[o,t,c]);const D=e=>{m((t=>({...t,[e.target.id]:e.target.value})))},E=e=>{u((t=>({...t,[e]:!1,reservation:null})))};return Object(vt.jsxs)("div",{className:"list",children:[Object(vt.jsx)(Na,{type:"refund",toUpdate:N,confirm:async e=>{await a(N,e)&&u((e=>({...e,toggleRefund:!v})))},setToggleModal:()=>E("toggleRefund"),toggleModal:v}),Object(vt.jsx)(Na,{type:"confirmation",confirm:()=>e(N),setToggleModal:()=>E("toggleDeleteConf"),toggleModal:O,text:"Are you sure you want to delete the reservation?",subtext:N&&""!==N.paymentId&&"paid"===N.status&&"A refund should be made before deleting it."}),w&&Object(vt.jsx)(Na,{type:"payment",clearJobs:i,toUpdate:N&&N,setToggleModal:()=>E("checkout"),toggleModal:w}),x&&Object(vt.jsx)(Na,{type:"schedule",clearJobs:i,toUpdate:N,toggleModal:x,setToggleModal:()=>E("toggleReservation")}),Object(vt.jsx)("h2",{className:"heading-primary",children:"Reservations"}),Object(vt.jsx)(Bt,{type:"1"}),Object(vt.jsxs)("form",{className:"form filter",onSubmit:e=>{e.preventDefault(),m(d),t(j,!1),u((e=>({...e,clear:!0})))},children:[Object(vt.jsx)("p",{className:"filter-title",children:"Filter"}),Object(vt.jsx)("button",{className:"filter-icon",onClick:e=>{e.preventDefault(),u((e=>({...e,showFilter:!f})))},children:f?Object(vt.jsx)("i",{className:"fas fa-chevron-up"}):Object(vt.jsx)("i",{className:"fas fa-chevron-down"})}),Object(vt.jsxs)("div",{className:"filter-content ".concat(f?"":"hide"),children:[Object(vt.jsx)(_a,{onFocus:()=>u((e=>({...e,searchDisplay:!1}))),hourFrom:h,hourTo:p,onChange:D}),Object(vt.jsx)(pa,{selectFinalUser:e=>{m((t=>({...t,user:e?e.id:""}))),u((e=>({...e,searchDisplay:!1})))},searchDisplay:y,switchDisplay:e=>u((t=>({...t,searchDisplay:e}))),clear:_,completeClear:()=>{u((e=>({...e,clear:!1})))},autoComplete:"off"}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsxs)("select",{className:"form__input ".concat(""===g?"empty":""),id:"status",value:g,onChange:D,onFocus:()=>u((e=>({...e,searchDisplay:!1}))),children:[Object(vt.jsx)("option",{value:"",children:"* Status"}),Object(vt.jsx)("option",{value:"requested",children:"Requested"}),Object(vt.jsx)("option",{value:"unpaid",children:"Unpaid"}),Object(vt.jsx)("option",{value:"pending",children:"Pending"}),Object(vt.jsx)("option",{value:"paid",children:"Paid"}),Object(vt.jsx)("option",{value:"completed",children:"Completed"}),Object(vt.jsx)("option",{value:"canceled",children:"Canceled"}),Object(vt.jsx)("option",{value:"refunded",children:"Refunded"})]}),Object(vt.jsx)("label",{htmlFor:"staus",className:"form__label ".concat(""===g?"hide":""),children:"Status"})]}),Object(vt.jsxs)("button",{type:"submit",className:"btn btn-tertiary",children:[Object(vt.jsx)("i",{className:"fas fa-search"}),"\xa0 Search"]})]})]}),!o&&Object(vt.jsxs)(vt.Fragment,{children:[r.length>0?Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsx)("div",{className:"wrapper",children:Object(vt.jsxs)("table",{className:"icon-6",children:[Object(vt.jsx)("thead",{children:Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("th",{children:"Date"}),Object(vt.jsx)("th",{children:"From"}),Object(vt.jsx)("th",{children:"To"}),Object(vt.jsx)("th",{children:"User"}),Object(vt.jsx)("th",{children:"Status"}),Object(vt.jsx)("th",{}),Object(vt.jsx)("th",{}),Object(vt.jsx)("th",{})]})}),Object(vt.jsx)("tbody",{children:r.map((e=>Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("td",{children:Object(vt.jsx)(ja.a,{date:e.hourFrom,utc:!0,format:"MM/DD/YY"})}),Object(vt.jsx)("td",{children:Object(vt.jsx)(ja.a,{date:e.hourFrom,utc:!0,format:"h a"})}),Object(vt.jsx)("td",{children:Object(vt.jsx)(ja.a,{date:e.hourTo,utc:!0,format:"h a"})}),Object(vt.jsx)("td",{children:Object(vt.jsx)(mt.a,{onClick:()=>{n(),window.scrollTo(0,0)},className:"btn-link text-dark",to:"/edit-user/".concat(e.user.id),children:"".concat(e.user.name," ").concat(e.user.lastname)})}),Object(vt.jsx)("td",{children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),Object(vt.jsxs)("td",{children:["unpaid"===e.status&&Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{className:"btn-icon",onClick:()=>u((t=>({...t,checkout:!0,reservation:e}))),children:Object(vt.jsx)("i",{className:"fas fa-dollar-sign"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"Pay"})]}),"paid"===e.status&&Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{className:"btn-icon",onClick:()=>u((t=>({...t,toggleRefund:!0,reservation:e}))),children:Object(vt.jsx)("i",{className:"fas fa-redo-alt"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"Refund"})]})]}),Object(vt.jsx)("td",{children:Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{className:"btn-icon",onClick:()=>u((t=>({...t,toggleReservation:!x,reservation:e}))),children:"refunded"!==e.status&&"completed"!==e.status&&"canceled"!==e.status?Object(vt.jsx)("i",{className:"far fa-edit"}):Object(vt.jsx)("i",{className:"fas fa-search"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"refunded"!==e.status&&"completed"!==e.status&&"canceled"!==e.status?"Edit":"See details"})]})}),Object(vt.jsx)("td",{children:Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{className:"btn-icon",onClick:()=>u((t=>({...t,toggleDeleteConf:!O,reservation:e}))),children:Object(vt.jsx)("i",{className:"far fa-trash-alt"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"Delete"})]})})]},e.id)))})]})}),Object(vt.jsxs)("div",{className:"list-total",children:[Object(vt.jsx)("span",{className:"list-total-title text-dark",children:"Total:"}),"\xa0",r.length]})]}):Object(vt.jsx)("h3",{className:"heading-primary-subheading u-center-text text-danger",children:l.msg}),Object(vt.jsx)("div",{className:"btn-right",children:Object(vt.jsxs)("button",{onClick:()=>u((e=>({...e,toggleReservation:!x}))),className:"btn btn-primary",children:[Object(vt.jsx)("i",{className:"fas fa-plus"})," \xa0 Reservation"]})})]})]})}));var Da=Object(dt.b)((e=>({job:e.job})),{loadJobs:Ze,deleteJob:e=>async t=>{t(Je(!0));let a=!1;try{await st.delete("/job/".concat(e)),t({type:ne,payload:e}),t(Le("Job Deleted","success","1"))}catch(s){401!==s.response.status?(t(Le(s.response.data.msg,"danger","1")),t(ze(ie,s.response))):a=!0}a||(window.scrollTo(0,0),t(Je(!1)))},registerUpdateJob:(e,t)=>async a=>{a(Je(!0));let s={};for(const t in e)""!==e[t]&&(s[t]=e[t]);try{const e=await st.post("/job/".concat(t||"0"),s);return a({type:t?oe:le,payload:e.data}),a(Le("Job ".concat(t?"Updated":"Registered"),"success","1")),window.scrollTo(0,0),a(Je(!1)),!0}catch(c){return 401!==c.response.status&&(a(ze(ie,c.response)),c.response.data.errors?c.response.data.errors.forEach((e=>{a(Le(e.msg,"danger","2"))})):a(Le(c.response.data.msg,"danger","2")),a(Je(!1))),!1}}})((({loadJobs:e,deleteJob:t,registerUpdateJob:a,job:{jobs:c,loading:r,error:l}})=>{const[o,n]=Object(s.useState)({title:""}),[i,d]=Object(s.useState)({toggleDeleteConf:!1,toggleJob:!1,showFilter:!1,job:null,update:!1}),{title:j}=o,{toggleDeleteConf:m,toggleJob:b,showFilter:u,update:h,job:p}=i;Object(s.useEffect)((()=>{r&&e({})}),[r,e]);return Object(vt.jsxs)("div",{className:"list",children:[Object(vt.jsx)(Na,{type:"confirmation",confirm:()=>t(p.id),setToggleModal:()=>d((e=>({...e,toggleDeleteConf:!m}))),toggleModal:m,text:"Are you sure you want to delete the job?"}),Object(vt.jsx)(Na,{type:"job",toUpdate:h?p:null,confirm:async e=>{await a(e,p?p.id:0)&&d((e=>({...e,toggleJob:!1,job:null})))},toggleModal:b,setToggleModal:()=>d((e=>({...e,toggleJob:!b,job:null})))}),Object(vt.jsx)("h2",{className:"heading-primary",children:"Jobs"}),Object(vt.jsx)(Bt,{type:"1"}),Object(vt.jsxs)("form",{className:"form filter",onSubmit:t=>{t.preventDefault(),n({title:""}),e(o)},children:[Object(vt.jsx)("p",{className:"filter-title",children:"Filter"}),Object(vt.jsx)("button",{className:"filter-icon",onClick:e=>{e.preventDefault(),d((e=>({...e,showFilter:!u})))},children:u?Object(vt.jsx)("i",{className:"fas fa-chevron-up"}):Object(vt.jsx)("i",{className:"fas fa-chevron-down"})}),Object(vt.jsxs)("div",{className:"filter-content ".concat(u?"":"hide"),children:[Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:j,id:"title",onChange:e=>{n((t=>({...t,[e.target.id]:e.target.value})))},placeholder:"Title"}),Object(vt.jsx)("label",{htmlFor:"title",className:"form__label",children:"Title"})]}),Object(vt.jsxs)("button",{type:"submit",className:"btn btn-tertiary",children:[Object(vt.jsx)("i",{className:"fas fa-search"}),"\xa0 Search"]})]})]}),!r&&Object(vt.jsxs)(vt.Fragment,{children:[c.length>0?Object(vt.jsx)("div",{children:Object(vt.jsx)("div",{className:"wrapper",children:Object(vt.jsxs)("table",{className:"icon-2",children:[Object(vt.jsx)("thead",{children:Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("th",{children:"Title"}),Object(vt.jsx)("th",{}),Object(vt.jsx)("th",{})]})}),Object(vt.jsx)("tbody",{children:c.map((e=>Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("td",{children:e.title}),Object(vt.jsx)("td",{children:Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{className:"btn-icon",onClick:()=>d((t=>({...t,toggleJob:!b,job:e,update:!0}))),children:Object(vt.jsx)("i",{className:"far fa-edit"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"Edit"})]})}),Object(vt.jsx)("td",{children:Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)("button",{className:"btn-icon",onClick:()=>d((t=>({...t,toggleDeleteConf:!m,job:e}))),children:Object(vt.jsx)("i",{className:"far fa-trash-alt"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"Delete"})]})})]},e.id)))})]})})}):Object(vt.jsx)("h3",{className:"heading-primary-subheading u-center-text text-danger",children:l.msg}),Object(vt.jsx)("div",{className:"btn-right",children:Object(vt.jsxs)("button",{onClick:()=>d((e=>({...e,update:!1,toggleJob:!b}))),className:"btn btn-primary",children:[Object(vt.jsx)("i",{className:"fas fa-plus"})," \xa0 Job"]})})]})]})}));a(98);var Ea=Object(dt.b)((e=>({day:e.day,reservation:e.reservation,auth:e.auth,job:e.job})),{checkMonthSchedule:(e,t)=>async a=>{a(Je(!0));let s=!1;try{const s=await st.get("/day/schedule/".concat(e,"/").concat(t));a({type:G,payload:s.data})}catch(c){401!==c.response.status&&(a(Le(c.response.data.msg,"danger","1")),a(He(se,c.response)),window.scrollTo(0,0)),s=!0}s||a(Je(!1))},checkDayAvailability:Pe,loadReservations:Be,disableDate:e=>async t=>{t(Je(!0));let a=!1;try{await st.post("/day/".concat(e)),t({type:K,payload:{type:"disabledDays",date:e}}),t(Le("Date successfully disabled","success","2"))}catch(s){401!==s.response.status&&(t(Le(s.response.data.msg,"danger","2")),t(He(se,s.response)),window.scrollTo(0,0)),a=!0}a||(window.scrollTo(0,0),t(Je(!1)))},enableDate:e=>async t=>{t(Je(!0));let a=!1;try{await st.delete("/day/".concat(e)),t({type:Z,payload:{type:"disabledDays",date:e}}),t(Le("Date successfully enabled","success","2"))}catch(s){401!==s.response.status?(t(Le(s.response.data.msg,"danger","2")),t(He(se,s.response)),window.scrollTo(0,0)):a=!0}a||(window.scrollTo(0,0),t(Je(!1)))},setAlert:Le,disableDateRange:(e,t)=>async a=>{a(Je(!0));let s=!1;try{const s=await st.post("/day/".concat(e,"/").concat(t));a({type:z,payload:{type:"disabledDays",dates:s.data}}),a(Le("Dates successfully disabled","success","2"))}catch(c){401!==c.response.status&&(a(Le(c.response.data.msg,"danger","2")),a(He(se,c.response)),window.scrollTo(0,0)),s=!0}s||(window.scrollTo(0,0),a(Je(!1)))},disableHourRange:(e,t)=>async a=>{a(Je(!0));let s={};for(const t in e)""!==e[t]&&(s[t]=e[t]);try{let e=await st.post("/reservation/disable",s);return a({type:U,payload:e.data}),a(((e,t)=>async a=>{a({type:t?$:ee,payload:{type:t?"reservedDays":"timeDisabledDays",date:e}})})(t,!1)),a(Le("Time Range Disabled","success","1")),window.scrollTo(0,0),a(Je(!1)),!0}catch(c){return 401!==c.response.status&&(a(We(H,c.response)),c.response.data.errors?c.response.data.errors.forEach((e=>{a(Le(e.msg,"danger","2"))})):a(Le(c.response.data.msg,"danger","2")),a(Je(!1))),!1}},clearUsers:Ot,clearReservations:Ge,deleteReservation:qe,loadJobs:Ze,clearJobsXReservations:ut})((({day:{disabledDays:e,reservedDays:t,timeDisabledDays:a},reservation:{loading:c,reservations:r},auth:{loggedUser:l},job:{loading:o},checkMonthSchedule:n,checkDayAvailability:i,loadReservations:d,deleteReservation:j,disableHourRange:m,disableDate:b,enableDate:u,setAlert:h,disableDateRange:p,clearReservations:g,clearUsers:O,clearJobsXReservations:x,loadJobs:v})=>{const f=De()(),[N,y]=Object(s.useState)({date:new Date,tab:0,range:!1,month:f.month(),year:f.year(),toggleModal:!1,toggleReservation:!1,reservation:null}),{date:_,tab:w,range:D,month:E,year:T,toggleModal:R,toggleReservation:k,reservation:C}=N;Object(s.useEffect)((()=>{n(E,T)}),[n,E,T]),Object(s.useEffect)((()=>{o&&v({},!0)}),[o,v]),Object(s.useEffect)((()=>{if(D&&_[1]&&_[0].getDate()!==_[1].getDate()){const s=De()(_[0],"DD/MM/YYYY"),c=De()(_[1],"DD/MM/YYYY"),r=f.isAfter(s),l=!r&&t.some((e=>De()(e).add(1,"day").isBetween(s,c))),o=!r&&!l&&e.some((e=>De()(e).add(1,"day").isBetween(s,c))),n=!r&&!l&&!o&&a.some((e=>De()(e).add(1,"day").isBetween(s,c)));(r||l||o||n)&&(h("Can not choose a range with a ".concat(r?"date older than today.":"".concat(l?"reserved date":o?"disabled day":"disabled time range"," in between.")),"danger","2"),y((e=>({...e,date:[_[0],_[0]],tab:0}))))}}),[D,_,h,e,t,a,f]);const S=Object(s.useCallback)((s=>"month"===s.view&&t.some((e=>{const t=new Date(e);return t.getUTCDate()===s.date.getDate()&&t.getUTCMonth()===s.date.getMonth()}))?"reserved":e.some((e=>{const t=new Date(e);return t.getUTCDate()===s.date.getDate()&&t.getUTCMonth()===s.date.getMonth()}))?"disabled":a.some((e=>{const t=new Date(e);return t.getUTCDate()===s.date.getDate()&&t.getUTCMonth()===s.date.getMonth()}))&&"time-disabled"),[e,t,a]),F=Object(s.useCallback)((({date:e,view:t})=>{if("month"===t)return 6===e.getDay()||0===e.getDay()}),[]);return Object(vt.jsxs)("div",{className:"list manage-schedule",children:[k&&Object(vt.jsx)(Na,{type:"schedule",clearJobs:x,toUpdate:C,toggleModal:k,setToggleModal:()=>y((e=>({...e,toggleReservation:!k,reservation:null})))}),Object(vt.jsx)(Na,{type:"hour",toggleModal:R,confirm:async({hourFrom:e,hourTo:t})=>{await m({hourFrom:De()(_).set("hour",e).format("YYYY-MM-DD[T]HH[:00:00Z]"),hourTo:De()(_).set("hour",t-1).format("YYYY-MM-DD[T]HH[:00:00Z]"),user:l.id},0===r.length&&De()(_).format("YYYY-MM-DD[T00:00:00Z]"))&&y((e=>({...e,tab:1,toggleModal:!R})))},setToggleModal:()=>y((e=>({...e,toggleModal:!R})))}),Object(vt.jsx)("h2",{className:"heading-primary",children:"Schedule"}),Object(vt.jsxs)("div",{className:"manage-schedule-row",children:[Object(vt.jsxs)("div",{className:"manage-schedule-calendar",children:[Object(vt.jsx)(ua.a,{value:_,selectRange:D,onChange:e=>{let s;D||(e.setHours(0,0,0,0),s=t.some((t=>new Date(t).getUTCDate()===e.getDate()))||a.some((t=>new Date(t).getUTCDate()===e.getDate())),s&&d({hourFrom:e,hourTo:e,type:"all",available:!0})),y((t=>({...t,date:e,tab:D?3:s?1:2})))},tileDisabled:F,minDate:new Date(2021,9,1),maxDate:new Date(f.year()+1,f.month(),f.date()),onActiveStartDateChange:e=>{if("month"===e.view||"year"===e.view){const t=e.activeStartDate.getMonth(),a=e.activeStartDate.getFullYear();y((e=>({...e,month:t,year:a})))}},tileClassName:S}),Object(vt.jsxs)("div",{className:"form__group switch",id:"range",children:[Object(vt.jsx)("label",{className:"form__label-switch",htmlFor:"range",children:"Date Range"}),Object(vt.jsx)("input",{checked:D,type:"checkbox",onChange:()=>y((e=>({...e,range:!D}))),className:"form__input-switch"})]}),Object(vt.jsxs)("div",{className:"manage-schedule-color-guide",children:[Object(vt.jsxs)("p",{className:"manage-schedule-color-item ",children:[Object(vt.jsx)("i",{className:"fas fa-square reserved"})," Reserved Days"]}),Object(vt.jsxs)("p",{className:"manage-schedule-color-item",children:[Object(vt.jsx)("i",{className:"fas fa-square disabled"})," Disabled Days"]}),Object(vt.jsxs)("p",{className:"manage-schedule-color-item",children:[Object(vt.jsx)("i",{className:"fas fa-square partially-disabled"})," Partially Disabled Days"]})]})]}),Object(vt.jsxs)("div",{className:"manage-schedule-details",children:[Object(vt.jsx)(Bt,{type:"2"}),(()=>{switch(w){case 0:return Object(vt.jsx)(vt.Fragment,{children:Object(vt.jsx)("h5",{className:"manage-schedule-details-title",children:"Select a Date"})});case 1:return!c&&Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsx)(Bt,{type:"1"}),Object(vt.jsxs)("h5",{className:"manage-schedule-details-title",children:[r.every((e=>"hourRange"===e.status))?"Unavailable Time Ranges":"Reservations"," ","- ",Object(vt.jsx)(ja.a,{format:"MM/DD/YY",date:_})]}),Object(vt.jsx)("div",{className:"manage-schedule-details-res",children:r.map((e=>Object(vt.jsxs)("div",{className:"manage-schedule-details-item tooltip ".concat("hourRange"===e.status&&"disabled"),children:[Object(vt.jsxs)("div",{children:[Object(vt.jsx)(ja.a,{format:"h a",utc:!0,date:e.hourFrom}),"\xa0 - \xa0",Object(vt.jsx)(ja.a,{format:"h a",utc:!0,date:"hourRange"!==e.status?e.hourTo:De()(e.hourTo).add(1,"hour")})]}),Object(vt.jsx)(mt.a,{onClick:()=>{O(),window.scrollTo(0,0)},className:"btn-link",to:"/edit-user/".concat(e.user.id),children:"".concat(e.user.name," ").concat(e.user.lastname)}),"hourRange"!==e.status?Object(vt.jsx)("button",{className:"btn-icon",onClick:()=>y((t=>({...t,toggleReservation:!k,reservation:e}))),children:Object(vt.jsx)("i",{className:"fas fa-search"})}):Object(vt.jsx)("button",{className:"btn-icon",onClick:()=>{1===r.length&&y((e=>({...e,tab:2}))),j(e,1===r.length&&De()(_).format("YYYY-MM-DD[T00:00:00Z]"))},children:Object(vt.jsx)("i",{className:"far fa-trash-alt"})})]},e.id)))}),f.isBefore(De()(_))&&Object(vt.jsx)("div",{className:"btn-right",children:Object(vt.jsxs)("button",{className:"btn btn-quaternary",onClick:()=>{y((e=>({...e,toggleModal:!R}))),i(De()(_).format("YYYY-MM-DD[T00:00:00Z]"),0,0)},children:[Object(vt.jsx)("i",{className:"fas fa-ban"})," \xa0 Hour Range"]})})]});case 2:const t=e.some((e=>new Date(e).getUTCDate()===_.getDate()));return Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsx)("h5",{className:"manage-schedule-details-title ".concat(t&&"text-danger"),children:Object(vt.jsx)(ja.a,{date:_,format:"MM/DD/YYYY"})}),Object(vt.jsx)("div",{className:"btn-center",children:f.isBefore(De()(_))&&Object(vt.jsx)(vt.Fragment,{children:t?Object(vt.jsxs)("button",{className:"btn",onClick:()=>u(De()(_).format("YYYY-MM-DD[T00:00:00Z]")),children:[Object(vt.jsx)("i",{className:"far fa-check-circle"})," \xa0 Date"]}):Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsxs)("button",{className:"btn",onClick:()=>b(De()(_).format("YYYY-MM-DD[T00:00:00Z]")),children:[Object(vt.jsx)("i",{className:"fas fa-ban"})," \xa0 Date"]}),Object(vt.jsxs)("button",{className:"btn",onClick:()=>{y((e=>({...e,toggleModal:!R}))),r.length>0&&g(),i(De()(_).format("YYYY-MM-DD[T00:00:00Z]"),0,0)},children:[Object(vt.jsx)("i",{className:"fas fa-ban"})," \xa0 Hour Range"]})]})})})]});case 3:return Object(vt.jsxs)(vt.Fragment,{children:[Object(vt.jsxs)("h5",{className:"manage-schedule-details-title",children:[Object(vt.jsx)(ja.a,{date:_[0],format:"MM/DD/YYYY"})," -"," ",Object(vt.jsx)(ja.a,{date:_[1],format:"MM/DD/YYYY"})]}),Object(vt.jsx)("div",{className:"btn-center",children:Object(vt.jsxs)("button",{className:"btn",onClick:()=>{y((e=>({...e,range:!D,date:_[0],tab:0}))),p(De()(_[0]).format("YYYY-MM-DD[T00:00:00Z]"),De()(_[1]).format("YYYY-MM-DD[T00:00:00Z]"))},children:[Object(vt.jsx)("i",{className:"fas fa-ban"})," \xa0 Date Range"]})})]})}})()]})]})]})}));var Ta=Object(dt.b)((e=>({user:e.user,auth:e.auth})),{clearUser:gt,loadUsers:pt})((({loadUsers:e,user:{users:t,loading:a,error:c},auth:{loggedUser:r},clearUser:l})=>{const[o,n]=Object(s.useState)({name:"",lastname:"",email:"",type:""}),[i,d]=Object(s.useState)({showFilter:!1}),{name:j,lastname:m,email:b,type:u}=o,{showFilter:h}=i;Object(s.useEffect)((()=>{a&&e({})}),[a,e]);const p=e=>{n((t=>({...t,[e.target.id]:e.target.value})))};return Object(vt.jsxs)("div",{className:"list",children:[Object(vt.jsx)("h2",{className:"heading-primary",children:"Users"}),Object(vt.jsx)(Bt,{type:"1"}),Object(vt.jsxs)("form",{className:"form filter",onSubmit:t=>{t.preventDefault(),n({name:"",lastname:"",email:"",type:""}),e(o)},children:[Object(vt.jsx)("p",{className:"filter-title",children:"Filter"}),Object(vt.jsx)("button",{className:"filter-icon",onClick:e=>{e.preventDefault(),d((e=>({...e,showFilter:!h})))},children:h?Object(vt.jsx)("i",{className:"fas fa-chevron-up"}):Object(vt.jsx)("i",{className:"fas fa-chevron-down"})}),Object(vt.jsxs)("div",{className:"filter-content ".concat(h?"":"hide"),children:[Object(vt.jsx)("div",{className:"form__group",children:Object(vt.jsxs)("div",{className:"form__group-sub",children:[Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",placeholder:"Name",id:"name",onChange:p,value:j}),Object(vt.jsx)("label",{htmlFor:"name",className:"form__label",children:"Name"})]}),Object(vt.jsxs)("div",{className:"form__group-sub-item",children:[Object(vt.jsx)("input",{type:"text",className:"form__input",placeholder:"Last Name",id:"lastname",onChange:p,value:m}),Object(vt.jsx)("label",{htmlFor:"lastname",className:"form__label",children:"Last Name"})]})]})}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:b,id:"email",onChange:p,placeholder:"Email"}),Object(vt.jsx)("label",{htmlFor:"email",className:"form__label",children:"Email"})]}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsxs)("select",{className:"form__input ".concat(""===u?"empty":""),id:"type",value:u,onChange:p,children:[Object(vt.jsx)("option",{value:"",children:"* Type of User"}),Object(vt.jsx)("option",{value:"admin",children:"Admin"}),Object(vt.jsx)("option",{value:"customer",children:"Customer"})]}),Object(vt.jsx)("label",{htmlFor:"type",className:"form__label ".concat(""===u?"hide":""),children:"Type of User"})]}),Object(vt.jsxs)("button",{type:"submit",className:"btn btn-tertiary",children:[Object(vt.jsx)("i",{className:"fas fa-search"}),"\xa0 Search"]})]})]}),!a&&Object(vt.jsx)(vt.Fragment,{children:t.length>0?Object(vt.jsxs)("div",{children:[Object(vt.jsx)("div",{className:"wrapper",children:Object(vt.jsxs)("table",{className:"icon-5",children:[Object(vt.jsx)("thead",{children:Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("th",{children:"Name"}),Object(vt.jsx)("th",{children:"Email"}),Object(vt.jsx)("th",{children:"Type"}),Object(vt.jsx)("th",{children:"Cellphone"}),Object(vt.jsx)("th",{})]})}),Object(vt.jsx)("tbody",{children:t.map((e=>Object(vt.jsxs)("tr",{children:[Object(vt.jsxs)("td",{children:[e.name," ",e.lastname]}),Object(vt.jsx)("td",{children:e.email}),Object(vt.jsx)("td",{children:e.type.charAt(0).toUpperCase()+e.type.slice(1)}),Object(vt.jsx)("td",{children:e.cel}),Object(vt.jsx)("td",{children:Object(vt.jsxs)("div",{className:"tooltip",children:[Object(vt.jsx)(mt.a,{to:r.id===e.id?"/profile":"/edit-user/".concat(e.id),className:"btn-icon",onClick:()=>{window.scrollTo(0,0),l()},children:Object(vt.jsx)("i",{className:"far fa-edit"})}),Object(vt.jsx)("span",{className:"tooltiptext",children:"Edit"})]})})]},e.id)))})]})}),Object(vt.jsxs)("div",{className:"list-total",children:[Object(vt.jsx)("span",{className:"list-total-title text-dark",children:"Total:"}),"\xa0",t.length]})]}):Object(vt.jsx)("h3",{className:"heading-primary-subheading u-center-text text-danger",children:c.msg})})]})}));a(99);var Ra=Object(dt.b)((e=>({job:e.job,jobsXreservation:e.jobsXreservation})),{loadJobs:Ze,clearUser:gt,loadJobUsers:e=>async t=>{t(Je(!0));let a=!1,s="";for(const r in e)("jobs"===r&&e[r].length>0||""!==e[r]&&"jobs"!==r)&&(s="".concat(""!==s?"".concat(s,"&"):"").concat(r,"=").concat("jobs"===r?e[r].map((e=>e)):e[r]));try{const e=await st.get("/res/job/jobs?".concat(s));t({type:V,payload:e.data})}catch(c){401!==c.response.status?t(ht(q,c.response)):a=!0}a||t(Je(!1))},sendEmail:Qe})((({loadJobs:e,loadJobUsers:t,clearUser:a,sendEmail:c,job:{loading:r,jobs:l},jobsXreservation:{loading:o,error:n,jobsXreservations:i}})=>{const d={hourFrom:"",hourTo:"",total:"",jobs:[]},[j,m]=Object(s.useState)({showFilter:!0,users:[],toggleEmail:!1}),[b,u]=Object(s.useState)(d),{showFilter:h,users:p,toggleEmail:g}=j,{hourFrom:O,hourTo:x,total:v,jobs:f}=b;Object(s.useEffect)((()=>{r&&e({})}),[r,e]),Object(s.useEffect)((()=>{i.length>0&&m((e=>({...e,users:i.map((e=>e.reservation.user.email))})))}),[i]);const N=(e,t)=>{("total"!==e.target.id||"total"===e.target.id&&(Number(e.target.value)||""===e.target.value))&&u((a=>({...a,...t?{jobs:e.target.checked?[...f,Number(e.target.value)]:f.filter((e=>e!==t.id))}:{[e.target.id]:e.target.value}})))};return Object(vt.jsxs)("div",{className:"outreach list",children:[Object(vt.jsx)(Na,{type:"email",confirm:async e=>{await c(e,!0)&&(m((e=>({...e,toggleEmail:!1,users:[]}))),u(d))},toUpdate:p,toggleModal:g,setToggleModal:()=>m((e=>({...e,toggleEmail:!g})))}),Object(vt.jsx)("h2",{className:"heading-primary",children:"Outreach"}),Object(vt.jsx)(Bt,{type:"1"}),Object(vt.jsxs)("form",{className:"form filter",onSubmit:e=>{e.preventDefault(),t(b)},children:[Object(vt.jsx)("p",{className:"filter-title",children:"Filter"}),Object(vt.jsx)("button",{className:"filter-icon",onClick:e=>{e.preventDefault(),m((e=>({...e,showFilter:!h})))},children:h?Object(vt.jsx)("i",{className:"fas fa-chevron-up"}):Object(vt.jsx)("i",{className:"fas fa-chevron-down"})}),Object(vt.jsxs)("div",{className:"filter-content ".concat(h?"":"hide"),children:[Object(vt.jsx)(_a,{hourFrom:O,onChange:N,hourTo:x}),Object(vt.jsxs)("div",{className:"form__group",children:[Object(vt.jsx)("input",{className:"form__input",type:"text",value:v,id:"total",onChange:N,placeholder:"Minimal Total"}),Object(vt.jsx)("label",{htmlFor:"total",className:"form__label",children:"Minimal Total"})]}),Object(vt.jsx)("div",{className:"outreach-jobs-list",children:!r&&l.map((e=>Object(vt.jsxs)("div",{className:"outreach-jobs-item",children:[Object(vt.jsx)("input",{type:"checkbox",value:e.id,className:"form__input-chk",id:"chk-".concat(e.id),name:"jobs",onChange:t=>N(t,e)}),Object(vt.jsxs)("label",{className:"form__label-chk",htmlFor:"chk-".concat(e.id),children:[Object(vt.jsx)("span",{children:Object(vt.jsx)("svg",{width:"12px",height:"9px",viewBox:"0 0 12 9",children:Object(vt.jsx)("polyline",{points:"1 5 4 8 11 1"})})}),Object(vt.jsx)("span",{children:e.title})]})]},e.id)))}),Object(vt.jsxs)("button",{type:"submit",className:"btn btn-tertiary",children:[Object(vt.jsx)("i",{className:"fas fa-search"}),"\xa0 Search"]})]})]}),!o&&Object(vt.jsxs)(vt.Fragment,{children:[i.length>0?Object(vt.jsxs)("div",{children:[Object(vt.jsx)("div",{className:"wrapper",children:Object(vt.jsxs)("table",{children:[Object(vt.jsx)("thead",{children:Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("th",{children:"Name"}),Object(vt.jsx)("th",{children:"Email"}),Object(vt.jsx)("th",{children:"Job"}),Object(vt.jsx)("th",{})]})}),Object(vt.jsx)("tbody",{children:i.map((e=>Object(vt.jsxs)("tr",{children:[Object(vt.jsx)("td",{children:Object(vt.jsxs)(mt.a,{className:"btn-link",to:"/edit-user/".concat(e.reservation.userId),onClick:()=>{window.scrollTo(0,0),a()},children:[e.reservation.user.name," ",e.reservation.user.lastname]})}),Object(vt.jsx)("td",{children:e.reservation.user.email}),Object(vt.jsx)("td",{children:e.jobs?e.jobs.map((e=>Object(vt.jsx)("p",{className:"outreach-list-jobs",children:e.title},"jb-".concat(e.id)))):e.job.title}),Object(vt.jsxs)("td",{children:[Object(vt.jsx)("input",{type:"checkbox",value:e.reservation.user.email,className:"form__input-chk",id:"user-".concat(e.id),checked:p.some((t=>t===e.reservation.user.email)),onChange:e=>{e.target.checked?m((t=>({...t,users:[...p,e.target.value]}))):m((t=>({...t,users:p.filter((t=>t!==e.target.value))})))}}),Object(vt.jsx)("label",{className:"form__label-chk",htmlFor:"user-".concat(e.id),children:Object(vt.jsx)("span",{children:Object(vt.jsx)("svg",{width:"12px",height:"9px",viewBox:"0 0 12 9",children:Object(vt.jsx)("polyline",{points:"1 5 4 8 11 1"})})})})]})]},e.id)))})]})}),Object(vt.jsxs)("div",{className:"list-total",children:[Object(vt.jsx)("span",{className:"list-total-title text-dark",children:"Total:"}),"\xa0",i.length]})]}):Object(vt.jsx)("h3",{className:"heading-primary-subheading u-center-text text-danger",children:n.msg}),p.length>0&&Object(vt.jsx)("div",{className:"btn-right",children:Object(vt.jsxs)("button",{onClick:()=>m((e=>({...e,toggleEmail:!g}))),className:"btn btn-primary",children:[Object(vt.jsx)("i",{className:"fas fa-paper-plane"})," \xa0 Email"]})})]})]})}));var ka=Object(dt.b)((e=>({global:e.global})))((({global:{navbar:e,footer:t}})=>Object(vt.jsx)("div",{className:"container",style:{minHeight:"calc(100vh - ".concat(t,"px - ").concat(e,"px)")},children:Object(vt.jsxs)(jt.d,{children:[Object(vt.jsx)(la,{path:"/signup",component:oa}),Object(vt.jsx)(la,{path:"/resetpassword/:token",component:ia}),Object(vt.jsx)(jt.b,{exact:!0,path:"/reservation/:job_id",component:ya}),Object(vt.jsx)(jt.b,{path:"/activation/:token",component:na}),Object(vt.jsx)(ra,{path:"/profile",component:oa,types:["admin","customer"]}),Object(vt.jsx)(ra,{path:"/edit-user/:user_id",component:oa,types:["admin"]}),Object(vt.jsx)(ra,{path:"/reservations-list",component:wa,types:["admin"]}),Object(vt.jsx)(ra,{path:"/jobs-list",component:Da,types:["admin"]}),Object(vt.jsx)(ra,{path:"/schedule",component:Ea,types:["admin"]}),Object(vt.jsx)(ra,{path:"/users-list",component:Ta,types:["admin"]}),Object(vt.jsx)(ra,{path:"/outreach",component:Ra,types:["admin"]})]})})));var Ca=Object(dt.b)((e=>({global:e.global})),{loadUser:$e})((({global:{navbar:e},loadUser:t})=>(Object(s.useEffect)((()=>{localStorage.token&&(ct(localStorage.token),t())}),[t]),Object(vt.jsxs)(jt.c,{history:Ye,children:[Object(vt.jsx)(ft,{}),Object(vt.jsx)("div",{style:{paddingTop:"".concat(e,"px")},children:Object(vt.jsxs)(jt.d,{children:[Object(vt.jsx)(jt.b,{path:"/",exact:!0,component:Gt}),Object(vt.jsx)(jt.b,{path:"/portfolio",exact:!0,component:ea}),Object(vt.jsx)(jt.b,{path:"/contact",exact:!0,component:Wt}),Object(vt.jsx)(jt.b,{path:"/servicesfull",exact:!0,component:Zt}),Object(vt.jsx)(jt.b,{path:"/vrm",component:Qt}),Object(vt.jsx)(jt.b,{path:"/booking",component:qt}),Object(vt.jsx)(jt.b,{path:"/login",component:ca}),Object(vt.jsx)(ka,{})]})}),Object(vt.jsx)(yt,{})]}))));l.a.render(Object(vt.jsx)(dt.a,{store:it,children:Object(vt.jsx)(Ca,{})}),document.getElementById("root"))},72:function(e,t,a){},73:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[100,1,2]]]);
//# sourceMappingURL=main.0d008f61.chunk.js.map